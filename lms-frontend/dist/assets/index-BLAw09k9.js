function s_(t,a){for(var r=0;r<a.length;r++){const o=a[r];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in t)){const u=Object.getOwnPropertyDescriptor(o,c);u&&Object.defineProperty(t,c,u.get?u:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function Rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vf={exports:{}},Gi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function a_(){if(Cv)return Gi;Cv=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(o,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:t,type:o,key:f,ref:c!==void 0?c:null,props:u}}return Gi.Fragment=a,Gi.jsx=r,Gi.jsxs=r,Gi}var Ev;function r_(){return Ev||(Ev=1,vf.exports=a_()),vf.exports}var s=r_(),yf={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function i_(){if(Av)return Ae;Av=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function S(k,$,L){this.props=k,this.context=$,this.refs=j,this.updater=L||_}S.prototype.isReactComponent={},S.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=S.prototype;function N(k,$,L){this.props=k,this.context=$,this.refs=j,this.updater=L||_}var T=N.prototype=new E;T.constructor=N,C(T,S.prototype),T.isPureReactComponent=!0;var O=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function I(k,$,L,U,Z,re){return L=re.ref,{$$typeof:t,type:k,key:$,ref:L!==void 0?L:null,props:re}}function q(k,$){return I(k.type,$,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function P(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(L){return $[L]})}var B=/\/+/g;function K(k,$){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):$.toString(36)}function ne(){}function te(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ne,ne):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,$,L,U,Z){var re=typeof k;(re==="undefined"||re==="boolean")&&(k=null);var ue=!1;if(k===null)ue=!0;else switch(re){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(k.$$typeof){case t:case a:ue=!0;break;case x:return ue=k._init,Y(ue(k._payload),$,L,U,Z)}}if(ue)return Z=Z(k),ue=U===""?"."+K(k,0):U,O(Z)?(L="",ue!=null&&(L=ue.replace(B,"$&/")+"/"),Y(Z,$,L,"",function(Ce){return Ce})):Z!=null&&(R(Z)&&(Z=q(Z,L+(Z.key==null||k&&k.key===Z.key?"":(""+Z.key).replace(B,"$&/")+"/")+ue)),$.push(Z)),1;ue=0;var oe=U===""?".":U+":";if(O(k))for(var de=0;de<k.length;de++)U=k[de],re=oe+K(U,de),ue+=Y(U,$,L,re,Z);else if(de=y(k),typeof de=="function")for(k=de.call(k),de=0;!(U=k.next()).done;)U=U.value,re=oe+K(U,de++),ue+=Y(U,$,L,re,Z);else if(re==="object"){if(typeof k.then=="function")return Y(te(k),$,L,U,Z);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function D(k,$,L){if(k==null)return k;var U=[],Z=0;return Y(k,U,"","",function(re){return $.call(L,re,Z++)}),U}function X(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(L){(k._status===0||k._status===-1)&&(k._status=1,k._result=L)},function(L){(k._status===0||k._status===-1)&&(k._status=2,k._result=L)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ae(){}return Ae.Children={map:D,forEach:function(k,$,L){D(k,function(){$.apply(this,arguments)},L)},count:function(k){var $=0;return D(k,function(){$++}),$},toArray:function(k){return D(k,function($){return $})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ae.Component=S,Ae.Fragment=r,Ae.Profiler=c,Ae.PureComponent=N,Ae.StrictMode=o,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return M.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cloneElement=function(k,$,L){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var U=C({},k.props),Z=k.key,re=void 0;if($!=null)for(ue in $.ref!==void 0&&(re=void 0),$.key!==void 0&&(Z=""+$.key),$)!G.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(U[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)U.children=L;else if(1<ue){for(var oe=Array(ue),de=0;de<ue;de++)oe[de]=arguments[de+2];U.children=oe}return I(k.type,Z,void 0,void 0,re,U)},Ae.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ae.createElement=function(k,$,L){var U,Z={},re=null;if($!=null)for(U in $.key!==void 0&&(re=""+$.key),$)G.call($,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Z[U]=$[U]);var ue=arguments.length-2;if(ue===1)Z.children=L;else if(1<ue){for(var oe=Array(ue),de=0;de<ue;de++)oe[de]=arguments[de+2];Z.children=oe}if(k&&k.defaultProps)for(U in ue=k.defaultProps,ue)Z[U]===void 0&&(Z[U]=ue[U]);return I(k,re,void 0,void 0,null,Z)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:m,render:k}},Ae.isValidElement=R,Ae.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:X}},Ae.memo=function(k,$){return{$$typeof:h,type:k,compare:$===void 0?null:$}},Ae.startTransition=function(k){var $=M.T,L={};M.T=L;try{var U=k(),Z=M.S;Z!==null&&Z(L,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(ae,se)}catch(re){se(re)}finally{M.T=$}},Ae.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ae.use=function(k){return M.H.use(k)},Ae.useActionState=function(k,$,L){return M.H.useActionState(k,$,L)},Ae.useCallback=function(k,$){return M.H.useCallback(k,$)},Ae.useContext=function(k){return M.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,$){return M.H.useDeferredValue(k,$)},Ae.useEffect=function(k,$,L){var U=M.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(k,$)},Ae.useId=function(){return M.H.useId()},Ae.useImperativeHandle=function(k,$,L){return M.H.useImperativeHandle(k,$,L)},Ae.useInsertionEffect=function(k,$){return M.H.useInsertionEffect(k,$)},Ae.useLayoutEffect=function(k,$){return M.H.useLayoutEffect(k,$)},Ae.useMemo=function(k,$){return M.H.useMemo(k,$)},Ae.useOptimistic=function(k,$){return M.H.useOptimistic(k,$)},Ae.useReducer=function(k,$,L){return M.H.useReducer(k,$,L)},Ae.useRef=function(k){return M.H.useRef(k)},Ae.useState=function(k){return M.H.useState(k)},Ae.useSyncExternalStore=function(k,$,L){return M.H.useSyncExternalStore(k,$,L)},Ae.useTransition=function(){return M.H.useTransition()},Ae.version="19.1.1",Ae}var Tv;function kc(){return Tv||(Tv=1,yf.exports=i_()),yf.exports}var v=kc();const H=Rc(v),yb=s_({__proto__:null,default:H},[v]);var bf={exports:{}},Yi={},jf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function o_(){return Rv||(Rv=1,(function(t){function a(D,X){var se=D.length;D.push(X);e:for(;0<se;){var ae=se-1>>>1,k=D[ae];if(0<c(k,X))D[ae]=X,D[se]=k,se=ae;else break e}}function r(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var X=D[0],se=D.pop();if(se!==X){D[0]=se;e:for(var ae=0,k=D.length,$=k>>>1;ae<$;){var L=2*(ae+1)-1,U=D[L],Z=L+1,re=D[Z];if(0>c(U,se))Z<k&&0>c(re,U)?(D[ae]=re,D[Z]=se,ae=Z):(D[ae]=U,D[L]=se,ae=L);else if(Z<k&&0>c(re,se))D[ae]=re,D[Z]=se,ae=Z;else break e}}return X}function c(D,X){var se=D.sortIndex-X.sortIndex;return se!==0?se:D.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var p=[],h=[],x=1,b=null,y=3,_=!1,C=!1,j=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var X=r(h);X!==null;){if(X.callback===null)o(h);else if(X.startTime<=D)o(h),X.sortIndex=X.expirationTime,a(p,X);else break;X=r(h)}}function M(D){if(j=!1,O(D),!C)if(r(p)!==null)C=!0,G||(G=!0,K());else{var X=r(h);X!==null&&Y(M,X.startTime-D)}}var G=!1,I=-1,q=5,R=-1;function P(){return S?!0:!(t.unstable_now()-R<q)}function B(){if(S=!1,G){var D=t.unstable_now();R=D;var X=!0;try{e:{C=!1,j&&(j=!1,N(I),I=-1),_=!0;var se=y;try{t:{for(O(D),b=r(p);b!==null&&!(b.expirationTime>D&&P());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,y=b.priorityLevel;var k=ae(b.expirationTime<=D);if(D=t.unstable_now(),typeof k=="function"){b.callback=k,O(D),X=!0;break t}b===r(p)&&o(p),O(D)}else o(p);b=r(p)}if(b!==null)X=!0;else{var $=r(h);$!==null&&Y(M,$.startTime-D),X=!1}}break e}finally{b=null,y=se,_=!1}X=void 0}}finally{X?K():G=!1}}}var K;if(typeof T=="function")K=function(){T(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=B,K=function(){te.postMessage(null)}}else K=function(){E(B,0)};function Y(D,X){I=E(function(){D(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(D){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var se=y;y=X;try{return D()}finally{y=se}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var se=y;y=D;try{return X()}finally{y=se}},t.unstable_scheduleCallback=function(D,X,se){var ae=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ae+se:ae):se=ae,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,D={id:x++,callback:X,priorityLevel:D,startTime:se,expirationTime:k,sortIndex:-1},se>ae?(D.sortIndex=se,a(h,D),r(p)===null&&D===r(h)&&(j?(N(I),I=-1):j=!0,Y(M,se-ae))):(D.sortIndex=k,a(p,D),C||_||(C=!0,G||(G=!0,K()))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var X=y;return function(){var se=y;y=X;try{return D.apply(this,arguments)}finally{y=se}}}})(wf)),wf}var kv;function l_(){return kv||(kv=1,jf.exports=o_()),jf.exports}var Nf={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function c_(){if(Mv)return zt;Mv=1;var t=kc();function a(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,h,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:p,containerInfo:h,implementation:x}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,zt.createPortal=function(p,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return u(p,h,null,x)},zt.flushSync=function(p){var h=f.T,x=o.p;try{if(f.T=null,o.p=2,p)return p()}finally{f.T=h,o.p=x,o.d.f()}},zt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(p,h))},zt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},zt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var x=h.as,b=m(x,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?o.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):x==="script"&&o.d.X(p,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=m(h.as,h.crossOrigin);o.d.M(p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(p)},zt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,b=m(x,h.crossOrigin);o.d.L(p,x,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zt.preloadModule=function(p,h){if(typeof p=="string")if(h){var x=m(h.as,h.crossOrigin);o.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(p)},zt.requestFormReset=function(p){o.d.r(p)},zt.unstable_batchedUpdates=function(p,h){return p(h)},zt.useFormState=function(p,h,x){return f.H.useFormState(p,h,x)},zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},zt.version="19.1.1",zt}var Ov;function bb(){if(Ov)return Nf.exports;Ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Nf.exports=c_(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function u_(){if(Dv)return Yi;Dv=1;var t=l_(),a=kc(),r=bb();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var g=d.alternate;if(g===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===i)return m(d),e;if(g===l)return m(d),n;g=g.sibling}throw Error(o(188))}if(i.return!==l.return)i=d,l=g;else{for(var w=!1,A=d.child;A;){if(A===i){w=!0,i=d,l=g;break}if(A===l){w=!0,l=d,i=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===i){w=!0,i=g,l=d;break}if(A===l){w=!0,l=g,i=d;break}A=A.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function h(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=h(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case M:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case T:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case q:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var Y=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ae=[],k=-1;function $(e){return{current:e}}function L(e){0>k||(e.current=ae[k],ae[k]=null,k--)}function U(e,n){k++,ae[k]=e.current,e.current=n}var Z=$(null),re=$(null),ue=$(null),oe=$(null);function de(e,n){switch(U(ue,n),U(re,e),U(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ev(n),e=tv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Z),U(Z,e)}function Ce(){L(Z),L(re),L(ue)}function je(e){e.memoizedState!==null&&U(oe,e);var n=Z.current,i=tv(n,e.type);n!==i&&(U(re,e),U(Z,i))}function Pe(e){re.current===e&&(L(Z),L(re)),oe.current===e&&(L(oe),$i._currentValue=se)}var et=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,qt=t.unstable_cancelCallback,Hn=t.unstable_shouldYield,Kr=t.unstable_requestPaint,It=t.unstable_now,PN=t.unstable_getCurrentPriorityLevel,Dh=t.unstable_ImmediatePriority,zh=t.unstable_UserBlockingPriority,Ro=t.unstable_NormalPriority,UN=t.unstable_LowPriority,Lh=t.unstable_IdlePriority,BN=t.log,HN=t.unstable_setDisableYieldValue,Qr=null,Zt=null;function Cs(e){if(typeof BN=="function"&&HN(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Qr,e)}catch{}}var Jt=Math.clz32?Math.clz32:qN,$N=Math.log,FN=Math.LN2;function qN(e){return e>>>=0,e===0?32:31-($N(e)/FN|0)|0}var ko=256,Mo=4194304;function la(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oo(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var d=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~g,l!==0?d=la(l):(w&=A,w!==0?d=la(w):i||(i=A&~e,i!==0&&(d=la(i))))):(A=l&~g,A!==0?d=la(A):w!==0?d=la(w):i||(i=l&~e,i!==0&&(d=la(i)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:d}function Xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function IN(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var e=ko;return ko<<=1,(ko&4194048)===0&&(ko=256),e}function Uh(){var e=Mo;return Mo<<=1,(Mo&62914560)===0&&(Mo=4194304),e}function iu(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function VN(e,n,i,l,d,g){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var A=e.entanglements,z=e.expirationTimes,W=e.hiddenUpdates;for(i=w&~i;0<i;){var ie=31-Jt(i),ce=1<<ie;A[ie]=0,z[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}i&=~ce}l!==0&&Bh(e,l,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function Bh(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Jt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function Hh(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Jt(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}function ou(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $h(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:bv(e.type))}function GN(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var Es=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Es,Vt="__reactProps$"+Es,Ha="__reactContainer$"+Es,cu="__reactEvents$"+Es,YN="__reactListeners$"+Es,KN="__reactHandles$"+Es,Fh="__reactResources$"+Es,Zr="__reactMarker$"+Es;function uu(e){delete e[Ot],delete e[Vt],delete e[cu],delete e[YN],delete e[KN]}function $a(e){var n=e[Ot];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ha]||i[Ot]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=rv(e);e!==null;){if(i=e[Ot])return i;e=rv(e)}return n}e=i,i=e.parentNode}return null}function Fa(e){if(e=e[Ot]||e[Ha]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Jr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function qa(e){var n=e[Fh];return n||(n=e[Fh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(e){e[Zr]=!0}var qh=new Set,Ih={};function ca(e,n){Ia(e,n),Ia(e+"Capture",n)}function Ia(e,n){for(Ih[e]=n,e=0;e<n.length;e++)qh.add(n[e])}var QN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vh={},Gh={};function XN(e){return et.call(Gh,e)?!0:et.call(Vh,e)?!1:QN.test(e)?Gh[e]=!0:(Vh[e]=!0,!1)}function Do(e,n,i){if(XN(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function zo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function ns(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var du,Yh;function Va(e){if(du===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);du=n&&n[1]||"",Yh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+du+e+Yh}var fu=!1;function mu(e,n){if(!e||fu)return"";fu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ee){J=ee}e.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var z=w.split(`
`),W=A.split(`
`);for(d=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(l===z.length||d===W.length)for(l=z.length-1,d=W.length-1;1<=l&&0<=d&&z[l]!==W[d];)d--;for(;1<=l&&0<=d;l--,d--)if(z[l]!==W[d]){if(l!==1||d!==1)do if(l--,d--,0>d||z[l]!==W[d]){var ie=`
`+z[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=d);break}}}finally{fu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Va(i):""}function WN(e){switch(e.tag){case 26:case 27:case 5:return Va(e.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return mu(e.type,!1);case 11:return mu(e.type.render,!1);case 1:return mu(e.type,!0);case 31:return Va("Activity");default:return""}}function Kh(e){try{var n="";do n+=WN(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ZN(e){var n=Qh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,g=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Lo(e){e._valueTracker||(e._valueTracker=ZN(e))}function Xh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Qh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var JN=/[\n"\\]/g;function mn(e){return e.replace(JN,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hu(e,n,i,l,d,g,w,A){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+fn(n)):e.value!==""+fn(n)&&(e.value=""+fn(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?pu(e,w,fn(n)):i!=null?pu(e,w,fn(i)):l!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+fn(A):e.removeAttribute("name")}function Wh(e,n,i,l,d,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;i=i!=null?""+fn(i):"",n=n!=null?""+fn(n):i,A||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function pu(e,n,i){n==="number"&&Po(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ga(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+fn(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Zh(e,n,i){if(n!=null&&(n=""+fn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+fn(i):""}function Jh(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(o(92));if(Y(l)){if(1<l.length)throw Error(o(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=fn(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Ya(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var e1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||e1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function tp(e,n,i){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&i[d]!==l&&ep(e,d,l)}else for(var g in n)n.hasOwnProperty(g)&&ep(e,g,n[g])}function gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(e){return n1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xu=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,Qa=null;function np(e){var n=Fa(e);if(n&&(e=n.stateNode)){var i=e[Vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(hu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=l[Vt]||null;if(!d)throw Error(o(90));hu(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&Xh(l)}break e;case"textarea":Zh(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ga(e,!!i.multiple,n,!1)}}}var yu=!1;function sp(e,n,i){if(yu)return e(n,i);yu=!0;try{var l=e(n);return l}finally{if(yu=!1,(Ka!==null||Qa!==null)&&(Nl(),Ka&&(n=Ka,e=Qa,Qa=Ka=null,np(n),e)))for(n=0;n<e.length;n++)np(e[n])}}function ei(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Vt]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=!1;if(ss)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){bu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{bu=!1}var As=null,ju=null,Bo=null;function ap(){if(Bo)return Bo;var e,n=ju,i=n.length,l,d="value"in As?As.value:As.textContent,g=d.length;for(e=0;e<i&&n[e]===d[e];e++);var w=i-e;for(l=1;l<=w&&n[i-l]===d[g-l];l++);return Bo=d.slice(e,1<l?1-l:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function rp(){return!1}function Gt(e){function n(i,l,d,g,w){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$o:rp,this.isPropagationStopped=rp,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),n}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=Gt(ua),ni=x({},ua,{view:0,detail:0}),s1=Gt(ni),wu,Nu,si,qo=x({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(wu=e.screenX-si.screenX,Nu=e.screenY-si.screenY):Nu=wu=0,si=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:Nu}}),ip=Gt(qo),a1=x({},qo,{dataTransfer:0}),r1=Gt(a1),i1=x({},ni,{relatedTarget:0}),Su=Gt(i1),o1=x({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Gt(o1),c1=x({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=Gt(c1),d1=x({},ua,{data:0}),op=Gt(d1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=h1[e])?!!n[e]:!1}function _u(){return p1}var g1=x({},ni,{key:function(e){if(e.key){var n=f1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x1=Gt(g1),v1=x({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Gt(v1),y1=x({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),b1=Gt(y1),j1=x({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=Gt(j1),N1=x({},qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Gt(N1),_1=x({},ua,{newState:0,oldState:0}),C1=Gt(_1),E1=[9,13,27,32],Cu=ss&&"CompositionEvent"in window,ai=null;ss&&"documentMode"in document&&(ai=document.documentMode);var A1=ss&&"TextEvent"in window&&!ai,cp=ss&&(!Cu||ai&&8<ai&&11>=ai),up=" ",dp=!1;function fp(e,n){switch(e){case"keyup":return E1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function T1(e,n){switch(e){case"compositionend":return mp(n);case"keypress":return n.which!==32?null:(dp=!0,up);case"textInput":return e=n.data,e===up&&dp?null:e;default:return null}}function R1(e,n){if(Xa)return e==="compositionend"||!Cu&&fp(e,n)?(e=ap(),Bo=ju=As=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cp&&n.locale!=="ko"?null:n.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!k1[e.type]:n==="textarea"}function pp(e,n,i,l){Ka?Qa?Qa.push(l):Qa=[l]:Ka=l,n=Tl(n,"onChange"),0<n.length&&(i=new Fo("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var ri=null,ii=null;function M1(e){Qx(e,0)}function Io(e){var n=Jr(e);if(Xh(n))return e}function gp(e,n){if(e==="change")return n}var xp=!1;if(ss){var Eu;if(ss){var Au="oninput"in document;if(!Au){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Au=typeof vp.oninput=="function"}Eu=Au}else Eu=!1;xp=Eu&&(!document.documentMode||9<document.documentMode)}function yp(){ri&&(ri.detachEvent("onpropertychange",bp),ii=ri=null)}function bp(e){if(e.propertyName==="value"&&Io(ii)){var n=[];pp(n,ii,e,vu(e)),sp(M1,n)}}function O1(e,n,i){e==="focusin"?(yp(),ri=n,ii=i,ri.attachEvent("onpropertychange",bp)):e==="focusout"&&yp()}function D1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(ii)}function z1(e,n){if(e==="click")return Io(n)}function L1(e,n){if(e==="input"||e==="change")return Io(n)}function P1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var en=typeof Object.is=="function"?Object.is:P1;function oi(e,n){if(en(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!et.call(n,d)||!en(e[d],n[d]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,n){var i=jp(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=jp(i)}}function Np(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Np(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Po(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Po(e.document)}return n}function Tu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var U1=ss&&"documentMode"in document&&11>=document.documentMode,Wa=null,Ru=null,li=null,ku=!1;function _p(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ku||Wa==null||Wa!==Po(l)||(l=Wa,"selectionStart"in l&&Tu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),li&&oi(li,l)||(li=l,l=Tl(Ru,"onSelect"),0<l.length&&(n=new Fo("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Wa)))}function da(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Za={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Mu={},Cp={};ss&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function fa(e){if(Mu[e])return Mu[e];if(!Za[e])return e;var n=Za[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Cp)return Mu[e]=n[i];return e}var Ep=fa("animationend"),Ap=fa("animationiteration"),Tp=fa("animationstart"),B1=fa("transitionrun"),H1=fa("transitionstart"),$1=fa("transitioncancel"),Rp=fa("transitionend"),kp=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function _n(e,n){kp.set(e,n),ca(n,[e])}var Mp=new WeakMap;function hn(e,n){if(typeof e=="object"&&e!==null){var i=Mp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Kh(n)},Mp.set(e,n),n)}return{value:e,source:n,stack:Kh(n)}}var pn=[],Ja=0,Du=0;function Vo(){for(var e=Ja,n=Du=Ja=0;n<e;){var i=pn[n];pn[n++]=null;var l=pn[n];pn[n++]=null;var d=pn[n];pn[n++]=null;var g=pn[n];if(pn[n++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}g!==0&&Op(i,d,g)}}function Go(e,n,i,l){pn[Ja++]=e,pn[Ja++]=n,pn[Ja++]=i,pn[Ja++]=l,Du|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zu(e,n,i,l){return Go(e,n,i,l),Yo(e)}function er(e,n){return Go(e,null,null,n),Yo(e)}function Op(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var d=!1,g=e.return;g!==null;)g.childLanes|=i,l=g.alternate,l!==null&&(l.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-Jt(i),e=g.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=i|536870912),g):null}function Yo(e){if(50<Oi)throw Oi=0,$d=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var tr={};function F1(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,n,i,l){return new F1(e,n,i,l)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function as(e,n){var i=e.alternate;return i===null?(i=tn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Dp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ko(e,n,i,l,d,g){var w=0;if(l=e,typeof e=="function")Lu(e)&&(w=1);else if(typeof e=="string")w=IS(e,i,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=tn(31,i,n,d),e.elementType=R,e.lanes=g,e;case C:return ma(i.children,d,g,n);case j:w=8,d|=24;break;case S:return e=tn(12,i,n,d|2),e.elementType=S,e.lanes=g,e;case M:return e=tn(13,i,n,d),e.elementType=M,e.lanes=g,e;case G:return e=tn(19,i,n,d),e.elementType=G,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case T:w=10;break e;case N:w=9;break e;case O:w=11;break e;case I:w=14;break e;case q:w=16,l=null;break e}w=29,i=Error(o(130,e===null?"null":typeof e,"")),l=null}return n=tn(w,i,n,d),n.elementType=e,n.type=l,n.lanes=g,n}function ma(e,n,i,l){return e=tn(7,e,l,n),e.lanes=i,e}function Pu(e,n,i){return e=tn(6,e,null,n),e.lanes=i,e}function Uu(e,n,i){return n=tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var nr=[],sr=0,Qo=null,Xo=0,gn=[],xn=0,ha=null,rs=1,is="";function pa(e,n){nr[sr++]=Xo,nr[sr++]=Qo,Qo=e,Xo=n}function zp(e,n,i){gn[xn++]=rs,gn[xn++]=is,gn[xn++]=ha,ha=e;var l=rs;e=is;var d=32-Jt(l)-1;l&=~(1<<d),i+=1;var g=32-Jt(n)+d;if(30<g){var w=d-d%5;g=(l&(1<<w)-1).toString(32),l>>=w,d-=w,rs=1<<32-Jt(n)+d|i<<d|l,is=g+e}else rs=1<<g|i<<d|l,is=e}function Bu(e){e.return!==null&&(pa(e,1),zp(e,1,0))}function Hu(e){for(;e===Qo;)Qo=nr[--sr],nr[sr]=null,Xo=nr[--sr],nr[sr]=null;for(;e===ha;)ha=gn[--xn],gn[xn]=null,is=gn[--xn],gn[xn]=null,rs=gn[--xn],gn[xn]=null}var Ut=null,ct=null,He=!1,ga=null,$n=!1,$u=Error(o(519));function xa(e){var n=Error(o(418,""));throw di(hn(n,e)),$u}function Lp(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[Ot]=e,n[Vt]=l,i){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(i=0;i<zi.length;i++)Oe(zi[i],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),Wh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Lo(n);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Jh(n,l.value,l.defaultValue,l.children),Lo(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Jx(n.textContent,i)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=Rl),n=!0):n=!1,n||xa(e)}function Pp(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ut=Ut.return}}function ci(e){if(e!==Ut)return!1;if(!He)return Pp(e),He=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||sf(e.type,e.memoizedProps)),i=!i),i&&ct&&xa(e),Pp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ct=En(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ct=null}}else n===27?(n=ct,Is(e.type)?(e=lf,lf=null,ct=e):ct=n):ct=Ut?En(e.stateNode.nextSibling):null;return!0}function ui(){ct=Ut=null,He=!1}function Up(){var e=ga;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),ga=null),e}function di(e){ga===null?ga=[e]:ga.push(e)}var Fu=$(null),va=null,os=null;function Ts(e,n,i){U(Fu,n._currentValue),n._currentValue=i}function ls(e){e._currentValue=Fu.current,L(Fu)}function qu(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Iu(e,n,i,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var z=0;z<n.length;z++)if(A.context===n[z]){g.lanes|=i,A=g.alternate,A!==null&&(A.lanes|=i),qu(g.return,i,e),l||(w=null);break e}g=A.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(o(341));w.lanes|=i,g=w.alternate,g!==null&&(g.lanes|=i),qu(w,i,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function fi(e,n,i,l){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var A=d.type;en(d.pendingProps.value,w.value)||(e!==null?e.push(A):e=[A])}}else if(d===oe.current){if(w=d.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}d=d.return}e!==null&&Iu(n,e,i,l),n.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){va=e,os=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Bp(va,e)}function Zo(e,n){return va===null&&ya(e),Bp(e,n)}function Bp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},os===null){if(e===null)throw Error(o(308));os=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else os=os.next=n;return i}var q1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},I1=t.unstable_scheduleCallback,V1=t.unstable_NormalPriority,vt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vu(){return{controller:new q1,data:new Map,refCount:0}}function mi(e){e.refCount--,e.refCount===0&&I1(V1,function(){e.controller.abort()})}var hi=null,Gu=0,ar=0,rr=null;function G1(e,n){if(hi===null){var i=hi=[];Gu=0,ar=Kd(),rr={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Gu++,n.then(Hp,Hp),n}function Hp(){if(--Gu===0&&hi!==null){rr!==null&&(rr.status="fulfilled");var e=hi;hi=null,ar=0,rr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Y1(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var $p=D.S;D.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&G1(e,n),$p!==null&&$p(e,n)};var ba=$(null);function Yu(){var e=ba.current;return e!==null?e:We.pooledCache}function Jo(e,n){n===null?U(ba,ba.current):U(ba,n.pool)}function Fp(){var e=Yu();return e===null?null:{parent:vt._currentValue,pool:e}}var pi=Error(o(460)),qp=Error(o(474)),el=Error(o(542)),Ku={then:function(){}};function Ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tl(){}function Vp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(tl,tl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e;default:if(typeof n.status=="string")n.then(tl,tl);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e}throw gi=n,pi}}var gi=null;function Gp(){if(gi===null)throw Error(o(459));var e=gi;return gi=null,e}function Yp(e){if(e===pi||e===el)throw Error(o(483))}var Rs=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=Yo(e),Op(e,null,i),n}return Go(e,l,n,i),Yo(e)}function xi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Hh(e,i)}}function Wu(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?d=g=n:g=g.next=n}else d=g=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Zu=!1;function vi(){if(Zu){var e=rr;if(e!==null)throw e}}function yi(e,n,i,l){Zu=!1;var d=e.updateQueue;Rs=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var z=A,W=z.next;z.next=null,w===null?g=W:w.next=W,w=z;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=W:A.next=W,ie.lastBaseUpdate=z))}if(g!==null){var ce=d.baseState;w=0,ie=W=z=null,A=g;do{var J=A.lane&-536870913,ee=J!==A.lane;if(ee?(Le&J)===J:(l&J)===J){J!==0&&J===ar&&(Zu=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=e,we=A;J=n;var Qe=i;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){ce=Se.call(Qe,ce,J);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,J=typeof Se=="function"?Se.call(Qe,ce,J):Se,J==null)break e;ce=x({},ce,J);break e;case 2:Rs=!0}}J=A.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=d.callbacks,ee===null?d.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(W=ie=ee,z=ce):ie=ie.next=ee,w|=J;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);ie===null&&(z=ce),d.baseState=z,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),Hs|=w,e.lanes=w,e.memoizedState=ce}}function Kp(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Qp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Kp(i[e],n)}var ir=$(null),nl=$(0);function Xp(e,n){e=ps,U(nl,e),U(ir,n),ps=e|n.baseLanes}function Ju(){U(nl,ps),U(ir,ir.current)}function ed(){ps=nl.current,L(ir),L(nl)}var Os=0,Re=null,Ye=null,gt=null,sl=!1,or=!1,ja=!1,al=0,bi=0,lr=null,K1=0;function dt(){throw Error(o(321))}function td(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!en(e[i],n[i]))return!1;return!0}function nd(e,n,i,l,d,g){return Os=g,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Og:Dg,ja=!1,g=i(l,d),ja=!1,or&&(g=Zp(n,i,l,d)),Wp(e),g}function Wp(e){D.H=ul;var n=Ye!==null&&Ye.next!==null;if(Os=0,gt=Ye=Re=null,sl=!1,bi=0,lr=null,n)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&Wo(e)&&(St=!0))}function Zp(e,n,i,l){Re=e;var d=0;do{if(or&&(lr=null),bi=0,or=!1,25<=d)throw Error(o(301));if(d+=1,gt=Ye=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}D.H=tS,g=n(i,l)}while(or);return g}function Q1(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ji(n):n,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Re.flags|=1024),n}function sd(){var e=al!==0;return al=0,e}function ad(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function rd(e){if(sl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}sl=!1}Os=0,gt=Ye=Re=null,or=!1,bi=al=0,lr=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=e:gt=gt.next=e,gt}function xt(){if(Ye===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var n=gt===null?Re.memoizedState:gt.next;if(n!==null)gt=n,Ye=e;else{if(e===null)throw Re.alternate===null?Error(o(467)):Error(o(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Re.memoizedState=gt=e:gt=gt.next=e}return gt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ji(e){var n=bi;return bi+=1,lr===null&&(lr=[]),e=Vp(lr,e,n),n=Re,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Og:Dg),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ji(e);if(e.$$typeof===T)return Dt(e)}throw Error(o(438,String(e)))}function od(e){var n=null,i=Re.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=id(),Re.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=P;return n.index++,i}function cs(e,n){return typeof n=="function"?n(e):n}function il(e){var n=xt();return ld(n,Ye,e)}function ld(e,n,i){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var d=e.baseQueue,g=l.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}n.baseQueue=d=g,l.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var A=w=null,z=null,W=n,ie=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Le&ce)===ce:(Os&ce)===ce){var J=W.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===ar&&(ie=!0);else if((Os&J)===J){W=W.next,J===ar&&(ie=!0);continue}else ce={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=ce,w=g):z=z.next=ce,Re.lanes|=J,Hs|=J;ce=W.action,ja&&i(g,ce),g=W.hasEagerState?W.eagerState:i(g,ce)}else J={lane:ce,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=J,w=g):z=z.next=J,Re.lanes|=ce,Hs|=ce;W=W.next}while(W!==null&&W!==n);if(z===null?w=g:z.next=A,!en(g,e.memoizedState)&&(St=!0,ie&&(i=rr,i!==null)))throw i;e.memoizedState=g,e.baseState=w,e.baseQueue=z,l.lastRenderedState=g}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cd(e){var n=xt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,g=n.memoizedState;if(d!==null){i.pending=null;var w=d=d.next;do g=e(g,w.action),w=w.next;while(w!==d);en(g,n.memoizedState)||(St=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,l]}function Jp(e,n,i){var l=Re,d=xt(),g=He;if(g){if(i===void 0)throw Error(o(407));i=i()}else i=n();var w=!en((Ye||d).memoizedState,i);w&&(d.memoizedState=i,St=!0),d=d.queue;var A=ng.bind(null,l,d,e);if(wi(2048,8,A,[e]),d.getSnapshot!==n||w||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,cr(9,ol(),tg.bind(null,l,d,i,n),null),We===null)throw Error(o(349));g||(Os&124)!==0||eg(l,n,i)}return i}function eg(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Re.updateQueue,n===null?(n=id(),Re.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function tg(e,n,i,l){n.value=i,n.getSnapshot=l,sg(n)&&ag(e)}function ng(e,n,i){return i(function(){sg(n)&&ag(e)})}function sg(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!en(e,i)}catch{return!0}}function ag(e){var n=er(e,2);n!==null&&on(n,e,2)}function ud(e){var n=Yt();if(typeof e=="function"){var i=e;if(e=i(),ja){Cs(!0);try{i()}finally{Cs(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},n}function rg(e,n,i,l){return e.baseState=i,ld(e,Ye,typeof l=="function"?l:cs)}function X1(e,n,i,l,d){if(cl(e))throw Error(o(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};D.T!==null?i(!0):g.isTransition=!1,l(g),i=n.pending,i===null?(g.next=n.pending=g,ig(n,g)):(g.next=i.next,n.pending=i.next=g)}}function ig(e,n){var i=n.action,l=n.payload,d=e.state;if(n.isTransition){var g=D.T,w={};D.T=w;try{var A=i(d,l),z=D.S;z!==null&&z(w,A),og(e,n,A)}catch(W){dd(e,n,W)}finally{D.T=g}}else try{g=i(d,l),og(e,n,g)}catch(W){dd(e,n,W)}}function og(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){lg(e,n,l)},function(l){return dd(e,n,l)}):lg(e,n,i)}function lg(e,n,i){n.status="fulfilled",n.value=i,cg(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,ig(e,i)))}function dd(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,cg(n),n=n.next;while(n!==l)}e.action=null}function cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function dg(e,n){if(He){var i=We.formState;if(i!==null){e:{var l=Re;if(He){if(ct){t:{for(var d=ct,g=$n;d.nodeType!==8;){if(!g){d=null;break t}if(d=En(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ct=En(d.nextSibling),l=d.data==="F!";break e}}xa(l)}l=!1}l&&(n=i[0])}}return i=Yt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},i.queue=l,i=Rg.bind(null,Re,l),l.dispatch=i,l=ud(!1),g=gd.bind(null,Re,!1,l.queue),l=Yt(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,i=X1.bind(null,Re,d,g,i),d.dispatch=i,l.memoizedState=e,[n,i,!1]}function fg(e){var n=xt();return mg(n,Ye,e)}function mg(e,n,i){if(n=ld(e,n,ug)[0],e=il(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ji(n)}catch(w){throw w===pi?el:w}else l=n;n=xt();var d=n.queue,g=d.dispatch;return i!==n.memoizedState&&(Re.flags|=2048,cr(9,ol(),W1.bind(null,d,i),null)),[l,g,e]}function W1(e,n){e.action=n}function hg(e){var n=xt(),i=Ye;if(i!==null)return mg(n,i,e);xt(),n=n.memoizedState,i=xt();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function cr(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=id(),Re.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function ol(){return{destroy:void 0,resource:void 0}}function pg(){return xt().memoizedState}function ll(e,n,i,l){var d=Yt();l=l===void 0?null:l,Re.flags|=e,d.memoizedState=cr(1|n,ol(),i,l)}function wi(e,n,i,l){var d=xt();l=l===void 0?null:l;var g=d.memoizedState.inst;Ye!==null&&l!==null&&td(l,Ye.memoizedState.deps)?d.memoizedState=cr(n,g,i,l):(Re.flags|=e,d.memoizedState=cr(1|n,g,i,l))}function gg(e,n){ll(8390656,8,e,n)}function xg(e,n){wi(2048,8,e,n)}function vg(e,n){return wi(4,2,e,n)}function yg(e,n){return wi(4,4,e,n)}function bg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jg(e,n,i){i=i!=null?i.concat([e]):null,wi(4,4,bg.bind(null,n,e),i)}function fd(){}function wg(e,n){var i=xt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&td(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Ng(e,n){var i=xt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&td(n,l[1]))return l[0];if(l=e(),ja){Cs(!0);try{e()}finally{Cs(!1)}}return i.memoizedState=[l,n],l}function md(e,n,i){return i===void 0||(Os&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Cx(),Re.lanes|=e,Hs|=e,i)}function Sg(e,n,i,l){return en(i,n)?i:ir.current!==null?(e=md(e,i,l),en(e,n)||(St=!0),e):(Os&42)===0?(St=!0,e.memoizedState=i):(e=Cx(),Re.lanes|=e,Hs|=e,n)}function _g(e,n,i,l,d){var g=X.p;X.p=g!==0&&8>g?g:8;var w=D.T,A={};D.T=A,gd(e,!1,n,i);try{var z=d(),W=D.S;if(W!==null&&W(A,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=Y1(z,l);Ni(e,n,ie,rn(e))}else Ni(e,n,l,rn(e))}catch(ce){Ni(e,n,{then:function(){},status:"rejected",reason:ce},rn())}finally{X.p=g,D.T=w}}function Z1(){}function hd(e,n,i,l){if(e.tag!==5)throw Error(o(476));var d=Cg(e).queue;_g(e,d,n,se,i===null?Z1:function(){return Eg(e),i(l)})}function Cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:se},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Eg(e){var n=Cg(e).next.queue;Ni(e,n,{},rn())}function pd(){return Dt($i)}function Ag(){return xt().memoizedState}function Tg(){return xt().memoizedState}function J1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=rn();e=ks(i);var l=Ms(n,e,i);l!==null&&(on(l,n,i),xi(l,n,i)),n={cache:Vu()},e.payload=n;return}n=n.return}}function eS(e,n,i){var l=rn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},cl(e)?kg(n,i):(i=zu(e,n,i,l),i!==null&&(on(i,e,l),Mg(i,n,l)))}function Rg(e,n,i){var l=rn();Ni(e,n,i,l)}function Ni(e,n,i,l){var d={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(cl(e))kg(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,A=g(w,i);if(d.hasEagerState=!0,d.eagerState=A,en(A,w))return Go(e,n,d,0),We===null&&Vo(),!1}catch{}finally{}if(i=zu(e,n,d,l),i!==null)return on(i,e,l),Mg(i,n,l),!0}return!1}function gd(e,n,i,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(n)throw Error(o(479))}else n=zu(e,i,l,2),n!==null&&on(n,e,2)}function cl(e){var n=e.alternate;return e===Re||n!==null&&n===Re}function kg(e,n){or=sl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Mg(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Hh(e,i)}}var ul={readContext:Dt,use:rl,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Og={readContext:Dt,use:rl,useCallback:function(e,n){return Yt().memoizedState=[e,n===void 0?null:n],e},useContext:Dt,useEffect:gg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ll(4194308,4,bg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ll(4194308,4,e,n)},useInsertionEffect:function(e,n){ll(4,2,e,n)},useMemo:function(e,n){var i=Yt();n=n===void 0?null:n;var l=e();if(ja){Cs(!0);try{e()}finally{Cs(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Yt();if(i!==void 0){var d=i(n);if(ja){Cs(!0);try{i(n)}finally{Cs(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=eS.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var n=Yt();return e={current:e},n.memoizedState=e},useState:function(e){e=ud(e);var n=e.queue,i=Rg.bind(null,Re,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:fd,useDeferredValue:function(e,n){var i=Yt();return md(i,e,n)},useTransition:function(){var e=ud(!1);return e=_g.bind(null,Re,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=Re,d=Yt();if(He){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),We===null)throw Error(o(349));(Le&124)!==0||eg(l,n,i)}d.memoizedState=i;var g={value:i,getSnapshot:n};return d.queue=g,gg(ng.bind(null,l,g,e),[e]),l.flags|=2048,cr(9,ol(),tg.bind(null,l,g,i,n),null),i},useId:function(){var e=Yt(),n=We.identifierPrefix;if(He){var i=is,l=rs;i=(l&~(1<<32-Jt(l)-1)).toString(32)+i,n="«"+n+"R"+i,i=al++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=K1++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:pd,useFormState:dg,useActionState:dg,useOptimistic:function(e){var n=Yt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=gd.bind(null,Re,!0,i),i.dispatch=n,[e,n]},useMemoCache:od,useCacheRefresh:function(){return Yt().memoizedState=J1.bind(null,Re)}},Dg={readContext:Dt,use:rl,useCallback:wg,useContext:Dt,useEffect:xg,useImperativeHandle:jg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:Ng,useReducer:il,useRef:pg,useState:function(){return il(cs)},useDebugValue:fd,useDeferredValue:function(e,n){var i=xt();return Sg(i,Ye.memoizedState,e,n)},useTransition:function(){var e=il(cs)[0],n=xt().memoizedState;return[typeof e=="boolean"?e:ji(e),n]},useSyncExternalStore:Jp,useId:Ag,useHostTransitionStatus:pd,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var i=xt();return rg(i,Ye,e,n)},useMemoCache:od,useCacheRefresh:Tg},tS={readContext:Dt,use:rl,useCallback:wg,useContext:Dt,useEffect:xg,useImperativeHandle:jg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:Ng,useReducer:cd,useRef:pg,useState:function(){return cd(cs)},useDebugValue:fd,useDeferredValue:function(e,n){var i=xt();return Ye===null?md(i,e,n):Sg(i,Ye.memoizedState,e,n)},useTransition:function(){var e=cd(cs)[0],n=xt().memoizedState;return[typeof e=="boolean"?e:ji(e),n]},useSyncExternalStore:Jp,useId:Ag,useHostTransitionStatus:pd,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var i=xt();return Ye!==null?rg(i,Ye,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:od,useCacheRefresh:Tg},ur=null,Si=0;function dl(e){var n=Si;return Si+=1,ur===null&&(ur=[]),Vp(ur,e,n)}function _i(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fl(e,n){throw n.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){var n=e._init;return n(e._payload)}function Lg(e){function n(V,F){if(e){var Q=V.deletions;Q===null?(V.deletions=[F],V.flags|=16):Q.push(F)}}function i(V,F){if(!e)return null;for(;F!==null;)n(V,F),F=F.sibling;return null}function l(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function d(V,F){return V=as(V,F),V.index=0,V.sibling=null,V}function g(V,F,Q){return V.index=Q,e?(Q=V.alternate,Q!==null?(Q=Q.index,Q<F?(V.flags|=67108866,F):Q):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function w(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function A(V,F,Q,le){return F===null||F.tag!==6?(F=Pu(Q,V.mode,le),F.return=V,F):(F=d(F,Q),F.return=V,F)}function z(V,F,Q,le){var pe=Q.type;return pe===C?ie(V,F,Q.props.children,le,Q.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===q&&zg(pe)===F.type)?(F=d(F,Q.props),_i(F,Q),F.return=V,F):(F=Ko(Q.type,Q.key,Q.props,null,V.mode,le),_i(F,Q),F.return=V,F)}function W(V,F,Q,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=Uu(Q,V.mode,le),F.return=V,F):(F=d(F,Q.children||[]),F.return=V,F)}function ie(V,F,Q,le,pe){return F===null||F.tag!==7?(F=ma(Q,V.mode,le,pe),F.return=V,F):(F=d(F,Q),F.return=V,F)}function ce(V,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Pu(""+F,V.mode,Q),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return Q=Ko(F.type,F.key,F.props,null,V.mode,Q),_i(Q,F),Q.return=V,Q;case _:return F=Uu(F,V.mode,Q),F.return=V,F;case q:var le=F._init;return F=le(F._payload),ce(V,F,Q)}if(Y(F)||K(F))return F=ma(F,V.mode,Q,null),F.return=V,F;if(typeof F.then=="function")return ce(V,dl(F),Q);if(F.$$typeof===T)return ce(V,Zo(V,F),Q);fl(V,F)}return null}function J(V,F,Q,le){var pe=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:A(V,F,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===pe?z(V,F,Q,le):null;case _:return Q.key===pe?W(V,F,Q,le):null;case q:return pe=Q._init,Q=pe(Q._payload),J(V,F,Q,le)}if(Y(Q)||K(Q))return pe!==null?null:ie(V,F,Q,le,null);if(typeof Q.then=="function")return J(V,F,dl(Q),le);if(Q.$$typeof===T)return J(V,F,Zo(V,Q),le);fl(V,Q)}return null}function ee(V,F,Q,le,pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return V=V.get(Q)||null,A(F,V,""+le,pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return V=V.get(le.key===null?Q:le.key)||null,z(F,V,le,pe);case _:return V=V.get(le.key===null?Q:le.key)||null,W(F,V,le,pe);case q:var ke=le._init;return le=ke(le._payload),ee(V,F,Q,le,pe)}if(Y(le)||K(le))return V=V.get(Q)||null,ie(F,V,le,pe,null);if(typeof le.then=="function")return ee(V,F,Q,dl(le),pe);if(le.$$typeof===T)return ee(V,F,Q,Zo(F,le),pe);fl(F,le)}return null}function Se(V,F,Q,le){for(var pe=null,ke=null,ve=F,Ne=F=0,Ct=null;ve!==null&&Ne<Q.length;Ne++){ve.index>Ne?(Ct=ve,ve=null):Ct=ve.sibling;var Be=J(V,ve,Q[Ne],le);if(Be===null){ve===null&&(ve=Ct);break}e&&ve&&Be.alternate===null&&n(V,ve),F=g(Be,F,Ne),ke===null?pe=Be:ke.sibling=Be,ke=Be,ve=Ct}if(Ne===Q.length)return i(V,ve),He&&pa(V,Ne),pe;if(ve===null){for(;Ne<Q.length;Ne++)ve=ce(V,Q[Ne],le),ve!==null&&(F=g(ve,F,Ne),ke===null?pe=ve:ke.sibling=ve,ke=ve);return He&&pa(V,Ne),pe}for(ve=l(ve);Ne<Q.length;Ne++)Ct=ee(ve,V,Ne,Q[Ne],le),Ct!==null&&(e&&Ct.alternate!==null&&ve.delete(Ct.key===null?Ne:Ct.key),F=g(Ct,F,Ne),ke===null?pe=Ct:ke.sibling=Ct,ke=Ct);return e&&ve.forEach(function(Qs){return n(V,Qs)}),He&&pa(V,Ne),pe}function we(V,F,Q,le){if(Q==null)throw Error(o(151));for(var pe=null,ke=null,ve=F,Ne=F=0,Ct=null,Be=Q.next();ve!==null&&!Be.done;Ne++,Be=Q.next()){ve.index>Ne?(Ct=ve,ve=null):Ct=ve.sibling;var Qs=J(V,ve,Be.value,le);if(Qs===null){ve===null&&(ve=Ct);break}e&&ve&&Qs.alternate===null&&n(V,ve),F=g(Qs,F,Ne),ke===null?pe=Qs:ke.sibling=Qs,ke=Qs,ve=Ct}if(Be.done)return i(V,ve),He&&pa(V,Ne),pe;if(ve===null){for(;!Be.done;Ne++,Be=Q.next())Be=ce(V,Be.value,le),Be!==null&&(F=g(Be,F,Ne),ke===null?pe=Be:ke.sibling=Be,ke=Be);return He&&pa(V,Ne),pe}for(ve=l(ve);!Be.done;Ne++,Be=Q.next())Be=ee(ve,V,Ne,Be.value,le),Be!==null&&(e&&Be.alternate!==null&&ve.delete(Be.key===null?Ne:Be.key),F=g(Be,F,Ne),ke===null?pe=Be:ke.sibling=Be,ke=Be);return e&&ve.forEach(function(n_){return n(V,n_)}),He&&pa(V,Ne),pe}function Qe(V,F,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var pe=Q.key;F!==null;){if(F.key===pe){if(pe=Q.type,pe===C){if(F.tag===7){i(V,F.sibling),le=d(F,Q.props.children),le.return=V,V=le;break e}}else if(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===q&&zg(pe)===F.type){i(V,F.sibling),le=d(F,Q.props),_i(le,Q),le.return=V,V=le;break e}i(V,F);break}else n(V,F);F=F.sibling}Q.type===C?(le=ma(Q.props.children,V.mode,le,Q.key),le.return=V,V=le):(le=Ko(Q.type,Q.key,Q.props,null,V.mode,le),_i(le,Q),le.return=V,V=le)}return w(V);case _:e:{for(pe=Q.key;F!==null;){if(F.key===pe)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){i(V,F.sibling),le=d(F,Q.children||[]),le.return=V,V=le;break e}else{i(V,F);break}else n(V,F);F=F.sibling}le=Uu(Q,V.mode,le),le.return=V,V=le}return w(V);case q:return pe=Q._init,Q=pe(Q._payload),Qe(V,F,Q,le)}if(Y(Q))return Se(V,F,Q,le);if(K(Q)){if(pe=K(Q),typeof pe!="function")throw Error(o(150));return Q=pe.call(Q),we(V,F,Q,le)}if(typeof Q.then=="function")return Qe(V,F,dl(Q),le);if(Q.$$typeof===T)return Qe(V,F,Zo(V,Q),le);fl(V,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(i(V,F.sibling),le=d(F,Q),le.return=V,V=le):(i(V,F),le=Pu(Q,V.mode,le),le.return=V,V=le),w(V)):i(V,F)}return function(V,F,Q,le){try{Si=0;var pe=Qe(V,F,Q,le);return ur=null,pe}catch(ve){if(ve===pi||ve===el)throw ve;var ke=tn(29,ve,null,V.mode);return ke.lanes=le,ke.return=V,ke}finally{}}}var dr=Lg(!0),Pg=Lg(!1),vn=$(null),Fn=null;function Ds(e){var n=e.alternate;U(yt,yt.current&1),U(vn,e),Fn===null&&(n===null||ir.current!==null||n.memoizedState!==null)&&(Fn=e)}function Ug(e){if(e.tag===22){if(U(yt,yt.current),U(vn,e),Fn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Fn=e)}}else zs()}function zs(){U(yt,yt.current),U(vn,vn.current)}function us(e){L(vn),Fn===e&&(Fn=null),L(yt)}var yt=$(0);function ml(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||of(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xd(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var vd={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=rn(),d=ks(l);d.payload=n,i!=null&&(d.callback=i),n=Ms(e,d,l),n!==null&&(on(n,e,l),xi(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=rn(),d=ks(l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Ms(e,d,l),n!==null&&(on(n,e,l),xi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=rn(),l=ks(i);l.tag=2,n!=null&&(l.callback=n),n=Ms(e,l,i),n!==null&&(on(n,e,i),xi(n,e,i))}};function Bg(e,n,i,l,d,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,w):n.prototype&&n.prototype.isPureReactComponent?!oi(i,l)||!oi(d,g):!0}function Hg(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&vd.enqueueReplaceState(n,n.state,null)}function wa(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=x({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $g(e){hl(e)}function Fg(e){console.error(e)}function qg(e){hl(e)}function pl(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yd(e,n,i){return i=ks(i),i.tag=3,i.payload={element:null},i.callback=function(){pl(e,n)},i}function Vg(e){return e=ks(e),e.tag=3,e}function Gg(e,n,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=l.value;e.payload=function(){return d(g)},e.callback=function(){Ig(n,i,l)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Ig(n,i,l),typeof d!="function"&&($s===null?$s=new Set([this]):$s.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function nS(e,n,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&fi(n,i,d,!0),i=vn.current,i!==null){switch(i.tag){case 13:return Fn===null?qd():i.alternate===null&&ut===0&&(ut=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===Ku?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Vd(e,l,d)),!1;case 22:return i.flags|=65536,l===Ku?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Vd(e,l,d)),!1}throw Error(o(435,i.tag))}return Vd(e,l,d),qd(),!1}if(He)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==$u&&(e=Error(o(422),{cause:l}),di(hn(e,i)))):(l!==$u&&(n=Error(o(423),{cause:l}),di(hn(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=hn(l,i),d=yd(e.stateNode,l,d),Wu(e,d),ut!==4&&(ut=2)),!1;var g=Error(o(520),{cause:l});if(g=hn(g,i),Mi===null?Mi=[g]:Mi.push(g),ut!==4&&(ut=2),n===null)return!0;l=hn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=yd(i.stateNode,l,e),Wu(i,e),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($s===null||!$s.has(g))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Vg(d),Gg(d,e,i,l),Wu(i,d),!1}i=i.return}while(i!==null);return!1}var Yg=Error(o(461)),St=!1;function Tt(e,n,i,l){n.child=e===null?Pg(n,null,i,l):dr(n,e.child,i,l)}function Kg(e,n,i,l,d){i=i.render;var g=n.ref;if("ref"in l){var w={};for(var A in l)A!=="ref"&&(w[A]=l[A])}else w=l;return ya(n),l=nd(e,n,i,w,g,d),A=sd(),e!==null&&!St?(ad(e,n,d),ds(e,n,d)):(He&&A&&Bu(n),n.flags|=1,Tt(e,n,l,d),n.child)}function Qg(e,n,i,l,d){if(e===null){var g=i.type;return typeof g=="function"&&!Lu(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,Xg(e,n,g,l,d)):(e=Ko(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Ed(e,d)){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:oi,i(w,l)&&e.ref===n.ref)return ds(e,n,d)}return n.flags|=1,e=as(g,l),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,i,l,d){if(e!==null){var g=e.memoizedProps;if(oi(g,l)&&e.ref===n.ref)if(St=!1,n.pendingProps=l=g,Ed(e,d))(e.flags&131072)!==0&&(St=!0);else return n.lanes=e.lanes,ds(e,n,d)}return bd(e,n,i,l,d)}function Wg(e,n,i){var l=n.pendingProps,d=l.children,g=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=g!==null?g.baseLanes|i:i,e!==null){for(d=n.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~l}else n.childLanes=0,n.child=null;return Zg(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jo(n,g!==null?g.cachePool:null),g!==null?Xp(n,g):Ju(),Ug(n);else return n.lanes=n.childLanes=536870912,Zg(e,n,g!==null?g.baseLanes|i:i,i)}else g!==null?(Jo(n,g.cachePool),Xp(n,g),zs(),n.memoizedState=null):(e!==null&&Jo(n,null),Ju(),zs());return Tt(e,n,d,i),n.child}function Zg(e,n,i,l){var d=Yu();return d=d===null?null:{parent:vt._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&Jo(n,null),Ju(),Ug(n),e!==null&&fi(e,n,l,!0),null}function gl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function bd(e,n,i,l,d){return ya(n),i=nd(e,n,i,l,void 0,d),l=sd(),e!==null&&!St?(ad(e,n,d),ds(e,n,d)):(He&&l&&Bu(n),n.flags|=1,Tt(e,n,i,d),n.child)}function Jg(e,n,i,l,d,g){return ya(n),n.updateQueue=null,i=Zp(n,l,i,d),Wp(e),l=sd(),e!==null&&!St?(ad(e,n,g),ds(e,n,g)):(He&&l&&Bu(n),n.flags|=1,Tt(e,n,i,g),n.child)}function ex(e,n,i,l,d){if(ya(n),n.stateNode===null){var g=tr,w=i.contextType;typeof w=="object"&&w!==null&&(g=Dt(w)),g=new i(l,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vd,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=l,g.state=n.memoizedState,g.refs={},Qu(n),w=i.contextType,g.context=typeof w=="object"&&w!==null?Dt(w):tr,g.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(xd(n,i,w,l),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&vd.enqueueReplaceState(g,g.state,null),yi(n,l,g,d),vi(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){g=n.stateNode;var A=n.memoizedProps,z=wa(i,A);g.props=z;var W=g.context,ie=i.contextType;w=tr,typeof ie=="object"&&ie!==null&&(w=Dt(ie));var ce=i.getDerivedStateFromProps;ie=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||W!==w)&&Hg(n,g,l,w),Rs=!1;var J=n.memoizedState;g.state=J,yi(n,l,g,d),vi(),W=n.memoizedState,A||J!==W||Rs?(typeof ce=="function"&&(xd(n,i,ce,l),W=n.memoizedState),(z=Rs||Bg(n,i,z,l,J,W,w))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=W),g.props=l,g.state=W,g.context=w,l=z):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,Xu(e,n),w=n.memoizedProps,ie=wa(i,w),g.props=ie,ce=n.pendingProps,J=g.context,W=i.contextType,z=tr,typeof W=="object"&&W!==null&&(z=Dt(W)),A=i.getDerivedStateFromProps,(W=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ce||J!==z)&&Hg(n,g,l,z),Rs=!1,J=n.memoizedState,g.state=J,yi(n,l,g,d),vi();var ee=n.memoizedState;w!==ce||J!==ee||Rs||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof A=="function"&&(xd(n,i,A,l),ee=n.memoizedState),(ie=Rs||Bg(n,i,ie,l,J,ee,z)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,ee,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,ee,z)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ee),g.props=l,g.state=ee,g.context=z,l=ie):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),l=!1)}return g=l,gl(e,n),l=(n.flags&128)!==0,g||l?(g=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&l?(n.child=dr(n,e.child,null,d),n.child=dr(n,null,i,d)):Tt(e,n,i,d),n.memoizedState=g.state,e=n.child):e=ds(e,n,d),e}function tx(e,n,i,l){return ui(),n.flags|=256,Tt(e,n,i,l),n.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(e){return{baseLanes:e,cachePool:Fp()}}function Nd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=yn),e}function nx(e,n,i){var l=n.pendingProps,d=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),w&&(d=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(He){if(d?Ds(n):zs(),He){var A=ct,z;if(z=A){e:{for(z=A,A=$n;z.nodeType!==8;){if(!A){A=null;break e}if(z=En(z.nextSibling),z===null){A=null;break e}}A=z}A!==null?(n.memoizedState={dehydrated:A,treeContext:ha!==null?{id:rs,overflow:is}:null,retryLane:536870912,hydrationErrors:null},z=tn(18,null,null,0),z.stateNode=A,z.return=n,n.child=z,Ut=n,ct=null,z=!0):z=!1}z||xa(n)}if(A=n.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return of(A)?n.lanes=32:n.lanes=536870912,null;us(n)}return A=l.children,l=l.fallback,d?(zs(),d=n.mode,A=xl({mode:"hidden",children:A},d),l=ma(l,d,i,null),A.return=n,l.return=n,A.sibling=l,n.child=A,d=n.child,d.memoizedState=wd(i),d.childLanes=Nd(e,w,i),n.memoizedState=jd,l):(Ds(n),Sd(n,A))}if(z=e.memoizedState,z!==null&&(A=z.dehydrated,A!==null)){if(g)n.flags&256?(Ds(n),n.flags&=-257,n=_d(e,n,i)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),d=l.fallback,A=n.mode,l=xl({mode:"visible",children:l.children},A),d=ma(d,A,i,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,dr(n,e.child,null,i),l=n.child,l.memoizedState=wd(i),l.childLanes=Nd(e,w,i),n.memoizedState=jd,n=d);else if(Ds(n),of(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var W=w.dgst;w=W,l=Error(o(419)),l.stack="",l.digest=w,di({value:l,source:null,stack:null}),n=_d(e,n,i)}else if(St||fi(e,n,i,!1),w=(i&e.childLanes)!==0,St||w){if(w=We,w!==null&&(l=i&-i,l=(l&42)!==0?1:ou(l),l=(l&(w.suspendedLanes|i))!==0?0:l,l!==0&&l!==z.retryLane))throw z.retryLane=l,er(e,l),on(w,e,l),Yg;A.data==="$?"||qd(),n=_d(e,n,i)}else A.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=z.treeContext,ct=En(A.nextSibling),Ut=n,He=!0,ga=null,$n=!1,e!==null&&(gn[xn++]=rs,gn[xn++]=is,gn[xn++]=ha,rs=e.id,is=e.overflow,ha=n),n=Sd(n,l.children),n.flags|=4096);return n}return d?(zs(),d=l.fallback,A=n.mode,z=e.child,W=z.sibling,l=as(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,W!==null?d=as(W,d):(d=ma(d,A,i,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,A=e.child.memoizedState,A===null?A=wd(i):(z=A.cachePool,z!==null?(W=vt._currentValue,z=z.parent!==W?{parent:W,pool:W}:z):z=Fp(),A={baseLanes:A.baseLanes|i,cachePool:z}),d.memoizedState=A,d.childLanes=Nd(e,w,i),n.memoizedState=jd,l):(Ds(n),i=e.child,e=i.sibling,i=as(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=i,n.memoizedState=null,i)}function Sd(e,n){return n=xl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xl(e,n){return e=tn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _d(e,n,i){return dr(n,e.child,null,i),e=Sd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sx(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),qu(e.return,n,i)}function Cd(e,n,i,l,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=i,g.tailMode=d)}function ax(e,n,i){var l=n.pendingProps,d=l.revealOrder,g=l.tail;if(Tt(e,n,l.children,i),l=yt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sx(e,i,n);else if(e.tag===19)sx(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(U(yt,l),d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&ml(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Cd(n,!1,d,i,g);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ml(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Cd(n,!0,i,null,g);break;case"together":Cd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ds(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(fi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=as(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=as(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function sS(e,n,i){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),Ts(n,vt,e.memoizedState.cache),ui();break;case 27:case 5:je(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(n),n.flags|=128,null):(i&n.child.childLanes)!==0?nx(e,n,i):(Ds(n),e=ds(e,n,i),e!==null?e.sibling:null);Ds(n);break;case 19:var d=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(fi(e,n,i,!1),l=(i&n.childLanes)!==0),d){if(l)return ax(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),U(yt,yt.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(e,n,i);case 24:Ts(n,vt,e.memoizedState.cache)}return ds(e,n,i)}function rx(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)St=!0;else{if(!Ed(e,i)&&(n.flags&128)===0)return St=!1,sS(e,n,i);St=(e.flags&131072)!==0}else St=!1,He&&(n.flags&1048576)!==0&&zp(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")Lu(l)?(e=wa(l,e),n.tag=1,n=ex(null,n,l,e,i)):(n.tag=0,n=bd(null,n,l,e,i));else{if(l!=null){if(d=l.$$typeof,d===O){n.tag=11,n=Kg(null,n,l,e,i);break e}else if(d===I){n.tag=14,n=Qg(null,n,l,e,i);break e}}throw n=te(l)||l,Error(o(306,n,""))}}return n;case 0:return bd(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,d=wa(l,n.pendingProps),ex(e,n,l,d,i);case 3:e:{if(de(n,n.stateNode.containerInfo),e===null)throw Error(o(387));l=n.pendingProps;var g=n.memoizedState;d=g.element,Xu(e,n),yi(n,l,null,i);var w=n.memoizedState;if(l=w.cache,Ts(n,vt,l),l!==g.cache&&Iu(n,[vt],i,!0),vi(),l=w.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=tx(e,n,l,i);break e}else if(l!==d){d=hn(Error(o(424)),n),di(d),n=tx(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=En(e.firstChild),Ut=n,He=!0,ga=null,$n=!0,i=Pg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ui(),l===d){n=ds(e,n,i);break e}Tt(e,n,l,i)}n=n.child}return n;case 26:return gl(e,n),e===null?(i=cv(n.type,null,n.pendingProps,null))?n.memoizedState=i:He||(i=n.type,e=n.pendingProps,l=kl(ue.current).createElement(i),l[Ot]=n,l[Vt]=e,kt(l,i,e),Nt(l),n.stateNode=l):n.memoizedState=cv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return je(n),e===null&&He&&(l=n.stateNode=iv(n.type,n.pendingProps,ue.current),Ut=n,$n=!0,d=ct,Is(n.type)?(lf=d,ct=En(l.firstChild)):ct=d),Tt(e,n,n.pendingProps.children,i),gl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&He&&((d=l=ct)&&(l=kS(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Ut=n,ct=En(l.firstChild),$n=!1,d=!0):d=!1),d||xa(n)),je(n),d=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,l=g.children,sf(d,g)?l=null:w!==null&&sf(d,w)&&(n.flags|=32),n.memoizedState!==null&&(d=nd(e,n,Q1,null,null,i),$i._currentValue=d),gl(e,n),Tt(e,n,l,i),n.child;case 6:return e===null&&He&&((e=i=ct)&&(i=MS(i,n.pendingProps,$n),i!==null?(n.stateNode=i,Ut=n,ct=null,e=!0):e=!1),e||xa(n)),null;case 13:return nx(e,n,i);case 4:return de(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=dr(n,null,l,i):Tt(e,n,l,i),n.child;case 11:return Kg(e,n,n.type,n.pendingProps,i);case 7:return Tt(e,n,n.pendingProps,i),n.child;case 8:return Tt(e,n,n.pendingProps.children,i),n.child;case 12:return Tt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),Tt(e,n,l.children,i),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,ya(n),d=Dt(d),l=l(d),n.flags|=1,Tt(e,n,l,i),n.child;case 14:return Qg(e,n,n.type,n.pendingProps,i);case 15:return Xg(e,n,n.type,n.pendingProps,i);case 19:return ax(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=xl(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=as(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Wg(e,n,i);case 24:return ya(n),l=Dt(vt),e===null?(d=Yu(),d===null&&(d=We,g=Vu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=i),d=g),n.memoizedState={parent:l,cache:d},Qu(n),Ts(n,vt,d)):((e.lanes&i)!==0&&(Xu(e,n),yi(n,null,null,i),vi()),d=e.memoizedState,g=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ts(n,vt,l)):(l=g.cache,Ts(n,vt,l),l!==d.cache&&Iu(n,[vt],i,!0))),Tt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function fs(e){e.flags|=4}function ix(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hv(n)){if(n=vn.current,n!==null&&((Le&4194048)===Le?Fn!==null:(Le&62914560)!==Le&&(Le&536870912)===0||n!==Fn))throw gi=Ku,qp;e.flags|=8192}}function vl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Uh():536870912,e.lanes|=n,pr|=n)}function Ci(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function it(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function aS(e,n,i){var l=n.pendingProps;switch(Hu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ls(vt),Ce(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ci(n)?fs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Up())),it(n),null;case 26:return i=n.memoizedState,e===null?(fs(n),i!==null?(it(n),ix(n,i)):(it(n),n.flags&=-16777217)):i?i!==e.memoizedState?(fs(n),it(n),ix(n,i)):(it(n),n.flags&=-16777217):(e.memoizedProps!==l&&fs(n),it(n),n.flags&=-16777217),null;case 27:Pe(n),i=ue.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return it(n),null}e=Z.current,ci(n)?Lp(n):(e=iv(d,l,i),n.stateNode=e,fs(n))}return it(n),null;case 5:if(Pe(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&fs(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return it(n),null}if(e=Z.current,ci(n))Lp(n);else{switch(d=kl(ue.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?d.createElement(i,{is:l.is}):d.createElement(i)}}e[Ot]=n,e[Vt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(kt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&fs(n)}}return it(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&fs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(e=ue.current,ci(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[Ot]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Jx(e.nodeValue,i)),e||xa(n)}else e=kl(e).createTextNode(l),e[Ot]=n,n.stateNode=e}return it(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ci(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Ot]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),d=!1}else d=Up(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(us(n),n):(us(n),null)}if(us(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),vl(n,n.updateQueue),it(n),null;case 4:return Ce(),e===null&&Zd(n.stateNode.containerInfo),it(n),null;case 10:return ls(n.type),it(n),null;case 19:if(L(yt),d=n.memoizedState,d===null)return it(n),null;if(l=(n.flags&128)!==0,g=d.rendering,g===null)if(l)Ci(d,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=ml(e),g!==null){for(n.flags|=128,Ci(d,!1),e=g.updateQueue,n.updateQueue=e,vl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Dp(i,e),i=i.sibling;return U(yt,yt.current&1|2),n.child}e=e.sibling}d.tail!==null&&It()>jl&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304)}else{if(!l)if(e=ml(g),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,vl(n,e),Ci(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!He)return it(n),null}else 2*It()-d.renderingStartTime>jl&&i!==536870912&&(n.flags|=128,l=!0,Ci(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(e=d.last,e!==null?e.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=It(),n.sibling=null,e=yt.current,U(yt,l?e&1|2:e&1),n):(it(n),null);case 22:case 23:return us(n),ed(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),i=n.updateQueue,i!==null&&vl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&L(ba),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ls(vt),it(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function rS(e,n){switch(Hu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ls(vt),Ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pe(n),null;case 13:if(us(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(yt),null;case 4:return Ce(),null;case 10:return ls(n.type),null;case 22:case 23:return us(n),ed(),e!==null&&L(ba),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ls(vt),null;case 25:return null;default:return null}}function ox(e,n){switch(Hu(n),n.tag){case 3:ls(vt),Ce();break;case 26:case 27:case 5:Pe(n);break;case 4:Ce();break;case 13:us(n);break;case 19:L(yt);break;case 10:ls(n.type);break;case 22:case 23:us(n),ed(),e!==null&&L(ba);break;case 24:ls(vt)}}function Ei(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&e)===e){l=void 0;var g=i.create,w=i.inst;l=g(),w.destroy=l}i=i.next}while(i!==d)}}catch(A){Xe(n,n.return,A)}}function Ls(e,n,i){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&e)===e){var w=l.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,d=n;var z=i,W=A;try{W()}catch(ie){Xe(d,z,ie)}}}l=l.next}while(l!==g)}}catch(ie){Xe(n,n.return,ie)}}function lx(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Qp(n,i)}catch(l){Xe(e,e.return,l)}}}function cx(e,n,i){i.props=wa(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Xe(e,n,l)}}function Ai(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(d){Xe(e,n,d)}}function qn(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){Xe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Xe(e,n,d)}else i.current=null}function ux(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){Xe(e,e.return,d)}}function Ad(e,n,i){try{var l=e.stateNode;CS(l,e.type,i,n),l[Vt]=n}catch(d){Xe(e,e.return,d)}}function dx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Is(e.type)||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Rl));else if(l!==4&&(l===27&&Is(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Rd(e,n,i),e=e.sibling;e!==null;)Rd(e,n,i),e=e.sibling}function yl(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Is(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(yl(e,n,i),e=e.sibling;e!==null;)yl(e,n,i),e=e.sibling}function fx(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);kt(n,l,i),n[Ot]=e,n[Vt]=i}catch(g){Xe(e,e.return,g)}}var ms=!1,ft=!1,kd=!1,mx=typeof WeakSet=="function"?WeakSet:Set,_t=null;function iS(e,n){if(e=e.containerInfo,tf=Pl,e=Sp(e),Tu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,A=-1,z=-1,W=0,ie=0,ce=e,J=null;t:for(;;){for(var ee;ce!==i||d!==0&&ce.nodeType!==3||(A=w+d),ce!==g||l!==0&&ce.nodeType!==3||(z=w+l),ce.nodeType===3&&(w+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===e)break t;if(J===i&&++W===d&&(A=w),J===g&&++ie===l&&(z=w),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}i=A===-1||z===-1?null:{start:A,end:z}}else i=null}i=i||{start:0,end:0}}else i=null;for(nf={focusedElem:e,selectionRange:i},Pl=!1,_t=n;_t!==null;)if(n=_t,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,_t=e;else for(;_t!==null;){switch(n=_t,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=n,d=g.memoizedProps,g=g.memoizedState,l=i.stateNode;try{var Se=wa(i.type,d,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(Se,g),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){Xe(i,i.return,we)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)rf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,_t=e;break}_t=n.return}}function hx(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ps(e,i),l&4&&Ei(5,i);break;case 1:if(Ps(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(w){Xe(i,i.return,w)}else{var d=wa(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(i,i.return,w)}}l&64&&lx(i),l&512&&Ai(i,i.return);break;case 3:if(Ps(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Qp(e,n)}catch(w){Xe(i,i.return,w)}}break;case 27:n===null&&l&4&&fx(i);case 26:case 5:Ps(e,i),n===null&&l&4&&ux(i),l&512&&Ai(i,i.return);break;case 12:Ps(e,i);break;case 13:Ps(e,i),l&4&&xx(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=pS.bind(null,i),OS(e,i))));break;case 22:if(l=i.memoizedState!==null||ms,!l){n=n!==null&&n.memoizedState!==null||ft,d=ms;var g=ft;ms=l,(ft=n)&&!g?Us(e,i,(i.subtreeFlags&8772)!==0):Ps(e,i),ms=d,ft=g}break;case 30:break;default:Ps(e,i)}}function px(e){var n=e.alternate;n!==null&&(e.alternate=null,px(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&uu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,Kt=!1;function hs(e,n,i){for(i=i.child;i!==null;)gx(e,n,i),i=i.sibling}function gx(e,n,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Qr,i)}catch{}switch(i.tag){case 26:ft||qn(i,n),hs(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ft||qn(i,n);var l=st,d=Kt;Is(i.type)&&(st=i.stateNode,Kt=!1),hs(e,n,i),Pi(i.stateNode),st=l,Kt=d;break;case 5:ft||qn(i,n);case 6:if(l=st,d=Kt,st=null,hs(e,n,i),st=l,Kt=d,st!==null)if(Kt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(i.stateNode)}catch(g){Xe(i,n,g)}else try{st.removeChild(i.stateNode)}catch(g){Xe(i,n,g)}break;case 18:st!==null&&(Kt?(e=st,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Vi(e)):av(st,i.stateNode));break;case 4:l=st,d=Kt,st=i.stateNode.containerInfo,Kt=!0,hs(e,n,i),st=l,Kt=d;break;case 0:case 11:case 14:case 15:ft||Ls(2,i,n),ft||Ls(4,i,n),hs(e,n,i);break;case 1:ft||(qn(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&cx(i,n,l)),hs(e,n,i);break;case 21:hs(e,n,i);break;case 22:ft=(l=ft)||i.memoizedState!==null,hs(e,n,i),ft=l;break;default:hs(e,n,i)}}function xx(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vi(e)}catch(i){Xe(n,n.return,i)}}function oS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mx),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mx),n;default:throw Error(o(435,e.tag))}}function Md(e,n){var i=oS(e);n.forEach(function(l){var d=gS.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}function nn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],g=e,w=n,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Is(A.type)){st=A.stateNode,Kt=!1;break e}break;case 5:st=A.stateNode,Kt=!1;break e;case 3:case 4:st=A.stateNode.containerInfo,Kt=!0;break e}A=A.return}if(st===null)throw Error(o(160));gx(g,w,d),st=null,Kt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vx(n,e),n=n.sibling}var Cn=null;function vx(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nn(n,e),sn(e),l&4&&(Ls(3,e,e.return),Ei(3,e),Ls(5,e,e.return));break;case 1:nn(n,e),sn(e),l&512&&(ft||i===null||qn(i,i.return)),l&64&&ms&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=Cn;if(nn(n,e),sn(e),l&512&&(ft||i===null||qn(i,i.return)),l&4){var g=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Zr]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(l),d.head.insertBefore(g,d.querySelector("head > title"))),kt(g,l,i),g[Ot]=e,Nt(g),l=g;break e;case"link":var w=fv("link","href",d).get(l+(i.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(A,1);break t}}g=d.createElement(l),kt(g,l,i),d.head.appendChild(g);break;case"meta":if(w=fv("meta","content",d).get(l+(i.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(A,1);break t}}g=d.createElement(l),kt(g,l,i),d.head.appendChild(g);break;default:throw Error(o(468,l))}g[Ot]=e,Nt(g),l=g}e.stateNode=l}else mv(d,e.type,e.stateNode);else e.stateNode=dv(d,l,e.memoizedProps);else g!==l?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,l===null?mv(d,e.type,e.stateNode):dv(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,i.memoizedProps)}break;case 27:nn(n,e),sn(e),l&512&&(ft||i===null||qn(i,i.return)),i!==null&&l&4&&Ad(e,e.memoizedProps,i.memoizedProps);break;case 5:if(nn(n,e),sn(e),l&512&&(ft||i===null||qn(i,i.return)),e.flags&32){d=e.stateNode;try{Ya(d,"")}catch(ee){Xe(e,e.return,ee)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Ad(e,d,i!==null?i.memoizedProps:d)),l&1024&&(kd=!0);break;case 6:if(nn(n,e),sn(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(ee){Xe(e,e.return,ee)}}break;case 3:if(Dl=null,d=Cn,Cn=Ml(n.containerInfo),nn(n,e),Cn=d,sn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Vi(n.containerInfo)}catch(ee){Xe(e,e.return,ee)}kd&&(kd=!1,yx(e));break;case 4:l=Cn,Cn=Ml(e.stateNode.containerInfo),nn(n,e),sn(e),Cn=l;break;case 12:nn(n,e),sn(e);break;case 13:nn(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ud=It()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Md(e,l)));break;case 22:d=e.memoizedState!==null;var z=i!==null&&i.memoizedState!==null,W=ms,ie=ft;if(ms=W||d,ft=ie||z,nn(n,e),ft=ie,ms=W,sn(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||z||ms||ft||Na(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){z=i=n;try{if(g=z.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=z.stateNode;var ce=z.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Xe(z,z.return,ee)}}}else if(n.tag===6){if(i===null){z=n;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(ee){Xe(z,z.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Md(e,i))));break;case 19:nn(n,e),sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Md(e,l)));break;case 30:break;case 21:break;default:nn(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(dx(l)){i=l;break}l=l.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var d=i.stateNode,g=Td(e);yl(e,g,d);break;case 5:var w=i.stateNode;i.flags&32&&(Ya(w,""),i.flags&=-33);var A=Td(e);yl(e,A,w);break;case 3:case 4:var z=i.stateNode.containerInfo,W=Td(e);Rd(e,W,z);break;default:throw Error(o(161))}}catch(ie){Xe(e,e.return,ie)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yx(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ps(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hx(e,n.alternate,n),n=n.sibling}function Na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Na(n);break;case 1:qn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&cx(n,n.return,i),Na(n);break;case 27:Pi(n.stateNode);case 26:case 5:qn(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}e=e.sibling}}function Us(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:Us(d,g,i),Ei(4,g);break;case 1:if(Us(d,g,i),l=g,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){Xe(l,l.return,W)}if(l=g,d=l.updateQueue,d!==null){var A=l.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)Kp(z[d],A)}catch(W){Xe(l,l.return,W)}}i&&w&64&&lx(g),Ai(g,g.return);break;case 27:fx(g);case 26:case 5:Us(d,g,i),i&&l===null&&w&4&&ux(g),Ai(g,g.return);break;case 12:Us(d,g,i);break;case 13:Us(d,g,i),i&&w&4&&xx(d,g);break;case 22:g.memoizedState===null&&Us(d,g,i),Ai(g,g.return);break;case 30:break;default:Us(d,g,i)}n=n.sibling}}function Od(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&mi(i))}function Dd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mi(e))}function In(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bx(e,n,i,l),n=n.sibling}function bx(e,n,i,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:In(e,n,i,l),d&2048&&Ei(9,n);break;case 1:In(e,n,i,l);break;case 3:In(e,n,i,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mi(e)));break;case 12:if(d&2048){In(e,n,i,l),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Xe(n,n.return,z)}}else In(e,n,i,l);break;case 13:In(e,n,i,l);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?In(e,n,i,l):Ti(e,n):g._visibility&2?In(e,n,i,l):(g._visibility|=2,fr(e,n,i,l,(n.subtreeFlags&10256)!==0)),d&2048&&Od(w,n);break;case 24:In(e,n,i,l),d&2048&&Dd(n.alternate,n);break;default:In(e,n,i,l)}}function fr(e,n,i,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,A=i,z=l,W=w.flags;switch(w.tag){case 0:case 11:case 15:fr(g,w,A,z,d),Ei(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?fr(g,w,A,z,d):Ti(g,w):(ie._visibility|=2,fr(g,w,A,z,d)),d&&W&2048&&Od(w.alternate,w);break;case 24:fr(g,w,A,z,d),d&&W&2048&&Dd(w.alternate,w);break;default:fr(g,w,A,z,d)}n=n.sibling}}function Ti(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,d=l.flags;switch(l.tag){case 22:Ti(i,l),d&2048&&Od(l.alternate,l);break;case 24:Ti(i,l),d&2048&&Dd(l.alternate,l);break;default:Ti(i,l)}n=n.sibling}}var Ri=8192;function mr(e){if(e.subtreeFlags&Ri)for(e=e.child;e!==null;)jx(e),e=e.sibling}function jx(e){switch(e.tag){case 26:mr(e),e.flags&Ri&&e.memoizedState!==null&&GS(Cn,e.memoizedState,e.memoizedProps);break;case 5:mr(e);break;case 3:case 4:var n=Cn;Cn=Ml(e.stateNode.containerInfo),mr(e),Cn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ri,Ri=16777216,mr(e),Ri=n):mr(e));break;default:mr(e)}}function wx(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ki(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];_t=l,Sx(l,e)}wx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nx(e),e=e.sibling}function Nx(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,bl(e)):ki(e);break;default:ki(e)}}function bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];_t=l,Sx(l,e)}wx(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),bl(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,bl(n));break;default:bl(n)}e=e.sibling}}function Sx(e,n){for(;_t!==null;){var i=_t;switch(i.tag){case 0:case 11:case 15:Ls(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mi(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,_t=l;else e:for(i=e;_t!==null;){l=_t;var d=l.sibling,g=l.return;if(px(l),l===i){_t=null;break e}if(d!==null){d.return=g,_t=d;break e}_t=g}}}var lS={getCacheForType:function(e){var n=Dt(vt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},cS=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Me=null,Le=0,Ie=0,an=null,Bs=!1,hr=!1,zd=!1,ps=0,ut=0,Hs=0,Sa=0,Ld=0,yn=0,pr=0,Mi=null,Qt=null,Pd=!1,Ud=0,jl=1/0,wl=null,$s=null,Rt=0,Fs=null,gr=null,xr=0,Bd=0,Hd=null,_x=null,Oi=0,$d=null;function rn(){if((qe&2)!==0&&Le!==0)return Le&-Le;if(D.T!==null){var e=ar;return e!==0?e:Kd()}return $h()}function Cx(){yn===0&&(yn=(Le&536870912)===0||He?Ph():536870912);var e=vn.current;return e!==null&&(e.flags|=32),yn}function on(e,n,i){(e===We&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(vr(e,0),qs(e,Le,yn,!1)),Wr(e,i),((qe&2)===0||e!==We)&&(e===We&&((qe&2)===0&&(Sa|=i),ut===4&&qs(e,Le,yn,!1)),Vn(e))}function Ex(e,n,i){if((qe&6)!==0)throw Error(o(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Xr(e,n),d=l?fS(e,n):Id(e,n,!0),g=l;do{if(d===0){hr&&!l&&qs(e,n,0,!1);break}else{if(i=e.current.alternate,g&&!uS(i)){d=Id(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var A=e;d=Mi;var z=A.current.memoizedState.isDehydrated;if(z&&(vr(A,w).flags|=256),w=Id(A,w,!1),w!==2){if(zd&&!z){A.errorRecoveryDisabledLanes|=g,Sa|=g,d=4;break e}g=Qt,Qt=d,g!==null&&(Qt===null?Qt=g:Qt.push.apply(Qt,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){vr(e,0),qs(e,n,0,!0);break}e:{switch(l=e,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:qs(l,n,yn,!Bs);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(d=Ud+300-It(),10<d)){if(qs(l,n,yn,!Bs),Oo(l,0,!0)!==0)break e;l.timeoutHandle=nv(Ax.bind(null,l,i,Qt,wl,Pd,n,yn,Sa,pr,Bs,g,2,-0,0),d);break e}Ax(l,i,Qt,wl,Pd,n,yn,Sa,pr,Bs,g,0,-0,0)}}break}while(!0);Vn(e)}function Ax(e,n,i,l,d,g,w,A,z,W,ie,ce,J,ee){if(e.timeoutHandle=-1,ce=n.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Hi={stylesheets:null,count:0,unsuspend:VS},jx(n),ce=YS(),ce!==null)){e.cancelPendingCommit=ce(zx.bind(null,e,n,g,i,l,d,w,A,z,ie,1,J,ee)),qs(e,g,w,!W);return}zx(e,n,g,i,l,d,w,A,z)}function uS(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],g=d.getSnapshot;d=d.value;try{if(!en(g(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,i,l){n&=~Ld,n&=~Sa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var g=31-Jt(d),w=1<<g;l[g]=-1,d&=~w}i!==0&&Bh(e,i,n)}function Nl(){return(qe&6)===0?(Di(0),!1):!0}function Fd(){if(Me!==null){if(Ie===0)var e=Me.return;else e=Me,os=va=null,rd(e),ur=null,Si=0,e=Me;for(;e!==null;)ox(e.alternate,e),e=e.return;Me=null}}function vr(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,AS(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Fd(),We=e,Me=i=as(e.current,null),Le=n,Ie=0,an=null,Bs=!1,hr=Xr(e,n),zd=!1,pr=yn=Ld=Sa=Hs=ut=0,Qt=Mi=null,Pd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-Jt(l),g=1<<d;n|=e[d],l&=~g}return ps=n,Vo(),i}function Tx(e,n){Re=null,D.H=ul,n===pi||n===el?(n=Gp(),Ie=3):n===qp?(n=Gp(),Ie=4):Ie=n===Yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,an=n,Me===null&&(ut=1,pl(e,hn(n,e.current)))}function Rx(){var e=D.H;return D.H=ul,e===null?ul:e}function kx(){var e=D.A;return D.A=lS,e}function qd(){ut=4,Bs||(Le&4194048)!==Le&&vn.current!==null||(hr=!0),(Hs&134217727)===0&&(Sa&134217727)===0||We===null||qs(We,Le,yn,!1)}function Id(e,n,i){var l=qe;qe|=2;var d=Rx(),g=kx();(We!==e||Le!==n)&&(wl=null,vr(e,n)),n=!1;var w=ut;e:do try{if(Ie!==0&&Me!==null){var A=Me,z=an;switch(Ie){case 8:Fd(),w=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var W=Ie;if(Ie=0,an=null,yr(e,A,z,W),i&&hr){w=0;break e}break;default:W=Ie,Ie=0,an=null,yr(e,A,z,W)}}dS(),w=ut;break}catch(ie){Tx(e,ie)}while(!0);return n&&e.shellSuspendCounter++,os=va=null,qe=l,D.H=d,D.A=g,Me===null&&(We=null,Le=0,Vo()),w}function dS(){for(;Me!==null;)Mx(Me)}function fS(e,n){var i=qe;qe|=2;var l=Rx(),d=kx();We!==e||Le!==n?(wl=null,jl=It()+500,vr(e,n)):hr=Xr(e,n);e:do try{if(Ie!==0&&Me!==null){n=Me;var g=an;t:switch(Ie){case 1:Ie=0,an=null,yr(e,n,g,1);break;case 2:case 9:if(Ip(g)){Ie=0,an=null,Ox(n);break}n=function(){Ie!==2&&Ie!==9||We!==e||(Ie=7),Vn(e)},g.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Ip(g)?(Ie=0,an=null,Ox(n)):(Ie=0,an=null,yr(e,n,g,7));break;case 5:var w=null;switch(Me.tag){case 26:w=Me.memoizedState;case 5:case 27:var A=Me;if(!w||hv(w)){Ie=0,an=null;var z=A.sibling;if(z!==null)Me=z;else{var W=A.return;W!==null?(Me=W,Sl(W)):Me=null}break t}}Ie=0,an=null,yr(e,n,g,5);break;case 6:Ie=0,an=null,yr(e,n,g,6);break;case 8:Fd(),ut=6;break e;default:throw Error(o(462))}}mS();break}catch(ie){Tx(e,ie)}while(!0);return os=va=null,D.H=l,D.A=d,qe=i,Me!==null?0:(We=null,Le=0,Vo(),ut)}function mS(){for(;Me!==null&&!Hn();)Mx(Me)}function Mx(e){var n=rx(e.alternate,e,ps);e.memoizedProps=e.pendingProps,n===null?Sl(e):Me=n}function Ox(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Jg(i,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Jg(i,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:rd(n);default:ox(i,n),n=Me=Dp(n,ps),n=rx(i,n,ps)}e.memoizedProps=e.pendingProps,n===null?Sl(e):Me=n}function yr(e,n,i,l){os=va=null,rd(n),ur=null,Si=0;var d=n.return;try{if(nS(e,d,n,i,Le)){ut=1,pl(e,hn(i,e.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;ut=1,pl(e,hn(i,e.current)),Me=null;return}n.flags&32768?(He||l===1?e=!0:hr||(Le&536870912)!==0?e=!1:(Bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dx(n,e)):Sl(n)}function Sl(e){var n=e;do{if((n.flags&32768)!==0){Dx(n,Bs);return}e=n.return;var i=aS(n.alternate,n,ps);if(i!==null){Me=i;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);ut===0&&(ut=5)}function Dx(e,n){do{var i=rS(e.alternate,e);if(i!==null){i.flags&=32767,Me=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Me=e;return}Me=e=i}while(e!==null);ut=6,Me=null}function zx(e,n,i,l,d,g,w,A,z){e.cancelPendingCommit=null;do _l();while(Rt!==0);if((qe&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(g=n.lanes|n.childLanes,g|=Du,VN(e,i,g,w,A,z),e===We&&(Me=We=null,Le=0),gr=n,Fs=e,xr=i,Bd=g,Hd=d,_x=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xS(Ro,function(){return Hx(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,d=X.p,X.p=2,w=qe,qe|=4;try{iS(e,n,i)}finally{qe=w,X.p=d,D.T=l}}Rt=1,Lx(),Px(),Ux()}}function Lx(){if(Rt===1){Rt=0;var e=Fs,n=gr,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var l=X.p;X.p=2;var d=qe;qe|=4;try{vx(n,e);var g=nf,w=Sp(e.containerInfo),A=g.focusedElem,z=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&Np(A.ownerDocument.documentElement,A)){if(z!==null&&Tu(A)){var W=z.start,ie=z.end;if(ie===void 0&&(ie=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(ie,A.value.length);else{var ce=A.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Se=A.textContent.length,we=Math.min(z.start,Se),Qe=z.end===void 0?we:Math.min(z.end,Se);!ee.extend&&we>Qe&&(w=Qe,Qe=we,we=w);var V=wp(A,we),F=wp(A,Qe);if(V&&F&&(ee.rangeCount!==1||ee.anchorNode!==V.node||ee.anchorOffset!==V.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var Q=ce.createRange();Q.setStart(V.node,V.offset),ee.removeAllRanges(),we>Qe?(ee.addRange(Q),ee.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ee.addRange(Q))}}}}for(ce=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var le=ce[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Pl=!!tf,nf=tf=null}finally{qe=d,X.p=l,D.T=i}}e.current=n,Rt=2}}function Px(){if(Rt===2){Rt=0;var e=Fs,n=gr,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var l=X.p;X.p=2;var d=qe;qe|=4;try{hx(e,n.alternate,n)}finally{qe=d,X.p=l,D.T=i}}Rt=3}}function Ux(){if(Rt===4||Rt===3){Rt=0,Kr();var e=Fs,n=gr,i=xr,l=_x;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Rt=5:(Rt=0,gr=Fs=null,Bx(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&($s=null),lu(i),n=n.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Qr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=D.T,d=X.p,X.p=2,D.T=null;try{for(var g=e.onRecoverableError,w=0;w<l.length;w++){var A=l[w];g(A.value,{componentStack:A.stack})}}finally{D.T=n,X.p=d}}(xr&3)!==0&&_l(),Vn(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===$d?Oi++:(Oi=0,$d=e):Oi=0,Di(0)}}function Bx(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,mi(n)))}function _l(e){return Lx(),Px(),Ux(),Hx()}function Hx(){if(Rt!==5)return!1;var e=Fs,n=Bd;Bd=0;var i=lu(xr),l=D.T,d=X.p;try{X.p=32>i?32:i,D.T=null,i=Hd,Hd=null;var g=Fs,w=xr;if(Rt=0,gr=Fs=null,xr=0,(qe&6)!==0)throw Error(o(331));var A=qe;if(qe|=4,Nx(g.current),bx(g,g.current,w,i),qe=A,Di(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Qr,g)}catch{}return!0}finally{X.p=d,D.T=l,Bx(e,n)}}function $x(e,n,i){n=hn(i,n),n=yd(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(Wr(e,2),Vn(e))}function Xe(e,n,i){if(e.tag===3)$x(e,e,i);else for(;n!==null;){if(n.tag===3){$x(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){e=hn(i,e),i=Vg(2),l=Ms(n,i,2),l!==null&&(Gg(i,l,n,e),Wr(l,2),Vn(l));break}}n=n.return}}function Vd(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new cS;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(zd=!0,d.add(i),e=hS.bind(null,e,n,i),n.then(e,e))}function hS(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,We===e&&(Le&i)===i&&(ut===4||ut===3&&(Le&62914560)===Le&&300>It()-Ud?(qe&2)===0&&vr(e,0):Ld|=i,pr===Le&&(pr=0)),Vn(e)}function Fx(e,n){n===0&&(n=Uh()),e=er(e,n),e!==null&&(Wr(e,n),Vn(e))}function pS(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Fx(e,i)}function gS(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(n),Fx(e,i)}function xS(e,n){return rt(e,n)}var Cl=null,br=null,Gd=!1,El=!1,Yd=!1,_a=0;function Vn(e){e!==br&&e.next===null&&(br===null?Cl=br=e:br=br.next=e),El=!0,Gd||(Gd=!0,yS())}function Di(e,n){if(!Yd&&El){Yd=!0;do for(var i=!1,l=Cl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var g=0;else{var w=l.suspendedLanes,A=l.pingedLanes;g=(1<<31-Jt(42|e)+1)-1,g&=d&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,Gx(l,g))}else g=Le,g=Oo(l,l===We?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Xr(l,g)||(i=!0,Gx(l,g));l=l.next}while(i);Yd=!1}}function vS(){qx()}function qx(){El=Gd=!1;var e=0;_a!==0&&(ES()&&(e=_a),_a=0);for(var n=It(),i=null,l=Cl;l!==null;){var d=l.next,g=Ix(l,n);g===0?(l.next=null,i===null?Cl=d:i.next=d,d===null&&(br=i)):(i=l,(e!==0||(g&3)!==0)&&(El=!0)),l=d}Di(e)}function Ix(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-Jt(g),A=1<<w,z=d[w];z===-1?((A&i)===0||(A&l)!==0)&&(d[w]=IN(A,n)):z<=n&&(e.expiredLanes|=A),g&=~A}if(n=We,i=Le,i=Oo(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&qt(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Xr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&qt(l),lu(i)){case 2:case 8:i=zh;break;case 32:i=Ro;break;case 268435456:i=Lh;break;default:i=Ro}return l=Vx.bind(null,e),i=rt(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&qt(l),e.callbackPriority=2,e.callbackNode=null,2}function Vx(e,n){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(_l()&&e.callbackNode!==i)return null;var l=Le;return l=Oo(e,e===We?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ex(e,l,n),Ix(e,It()),e.callbackNode!=null&&e.callbackNode===i?Vx.bind(null,e):null)}function Gx(e,n){if(_l())return null;Ex(e,n,!0)}function yS(){TS(function(){(qe&6)!==0?rt(Dh,vS):qx()})}function Kd(){return _a===0&&(_a=Ph()),_a}function Yx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Uo(""+e)}function Kx(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function bS(e,n,i,l,d){if(n==="submit"&&i&&i.stateNode===d){var g=Yx((d[Vt]||null).action),w=l.submitter;w&&(n=(n=w[Vt]||null)?Yx(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var A=new Fo("action","action",null,l,d);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var z=w?Kx(d,w):new FormData(d);hd(i,{pending:!0,data:z,method:d.method,action:g},null,z)}}else typeof g=="function"&&(A.preventDefault(),z=w?Kx(d,w):new FormData(d),hd(i,{pending:!0,data:z,method:d.method,action:g},g,z))},currentTarget:d}]})}}for(var Qd=0;Qd<Ou.length;Qd++){var Xd=Ou[Qd],jS=Xd.toLowerCase(),wS=Xd[0].toUpperCase()+Xd.slice(1);_n(jS,"on"+wS)}_n(Ep,"onAnimationEnd"),_n(Ap,"onAnimationIteration"),_n(Tp,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(B1,"onTransitionRun"),_n(H1,"onTransitionStart"),_n($1,"onTransitionCancel"),_n(Rp,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zi));function Qx(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var g=void 0;if(n)for(var w=l.length-1;0<=w;w--){var A=l[w],z=A.instance,W=A.currentTarget;if(A=A.listener,z!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=W;try{g(d)}catch(ie){hl(ie)}d.currentTarget=null,g=z}else for(w=0;w<l.length;w++){if(A=l[w],z=A.instance,W=A.currentTarget,A=A.listener,z!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=W;try{g(d)}catch(ie){hl(ie)}d.currentTarget=null,g=z}}}}function Oe(e,n){var i=n[cu];i===void 0&&(i=n[cu]=new Set);var l=e+"__bubble";i.has(l)||(Xx(n,e,2,!1),i.add(l))}function Wd(e,n,i){var l=0;n&&(l|=4),Xx(i,e,l,n)}var Al="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Al]){e[Al]=!0,qh.forEach(function(i){i!=="selectionchange"&&(NS.has(i)||Wd(i,!1,e),Wd(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Al]||(n[Al]=!0,Wd("selectionchange",!1,n))}}function Xx(e,n,i,l){switch(bv(n)){case 2:var d=XS;break;case 8:d=WS;break;default:d=mf}i=d.bind(null,n,i,e),d=void 0,!bu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Jd(e,n,i,l,d){var g=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var A=l.stateNode.containerInfo;if(A===d)break;if(w===4)for(w=l.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;A!==null;){if(w=$a(A),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){l=g=w;continue e}A=A.parentNode}}l=l.return}sp(function(){var W=g,ie=vu(i),ce=[];e:{var J=kp.get(e);if(J!==void 0){var ee=Fo,Se=e;switch(e){case"keypress":if(Ho(i)===0)break e;case"keydown":case"keyup":ee=x1;break;case"focusin":Se="focus",ee=Su;break;case"focusout":Se="blur",ee=Su;break;case"beforeblur":case"afterblur":ee=Su;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b1;break;case Ep:case Ap:case Tp:ee=l1;break;case Rp:ee=w1;break;case"scroll":case"scrollend":ee=s1;break;case"wheel":ee=S1;break;case"copy":case"cut":case"paste":ee=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=lp;break;case"toggle":case"beforetoggle":ee=C1}var we=(n&4)!==0,Qe=!we&&(e==="scroll"||e==="scrollend"),V=we?J!==null?J+"Capture":null:J;we=[];for(var F=W,Q;F!==null;){var le=F;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||V===null||(le=ei(F,V),le!=null&&we.push(Li(F,le,Q))),Qe)break;F=F.return}0<we.length&&(J=new ee(J,Se,null,i,ie),ce.push({event:J,listeners:we}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&i!==xu&&(Se=i.relatedTarget||i.fromElement)&&($a(Se)||Se[Ha]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Se=i.relatedTarget||i.toElement,ee=W,Se=Se?$a(Se):null,Se!==null&&(Qe=u(Se),we=Se.tag,Se!==Qe||we!==5&&we!==27&&we!==6)&&(Se=null)):(ee=null,Se=W),ee!==Se)){if(we=ip,le="onMouseLeave",V="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(we=lp,le="onPointerLeave",V="onPointerEnter",F="pointer"),Qe=ee==null?J:Jr(ee),Q=Se==null?J:Jr(Se),J=new we(le,F+"leave",ee,i,ie),J.target=Qe,J.relatedTarget=Q,le=null,$a(ie)===W&&(we=new we(V,F+"enter",Se,i,ie),we.target=Q,we.relatedTarget=Qe,le=we),Qe=le,ee&&Se)t:{for(we=ee,V=Se,F=0,Q=we;Q;Q=jr(Q))F++;for(Q=0,le=V;le;le=jr(le))Q++;for(;0<F-Q;)we=jr(we),F--;for(;0<Q-F;)V=jr(V),Q--;for(;F--;){if(we===V||V!==null&&we===V.alternate)break t;we=jr(we),V=jr(V)}we=null}else we=null;ee!==null&&Wx(ce,J,ee,we,!1),Se!==null&&Qe!==null&&Wx(ce,Qe,Se,we,!0)}}e:{if(J=W?Jr(W):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var pe=gp;else if(hp(J))if(xp)pe=L1;else{pe=D1;var ke=O1}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&gu(W.elementType)&&(pe=gp):pe=z1;if(pe&&(pe=pe(e,W))){pp(ce,pe,i,ie);break e}ke&&ke(e,J,W),e==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&pu(J,"number",J.value)}switch(ke=W?Jr(W):window,e){case"focusin":(hp(ke)||ke.contentEditable==="true")&&(Wa=ke,Ru=W,li=null);break;case"focusout":li=Ru=Wa=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,_p(ce,i,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":_p(ce,i,ie)}var ve;if(Cu)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Xa?fp(e,i)&&(Ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(cp&&i.locale!=="ko"&&(Xa||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Xa&&(ve=ap()):(As=ie,ju="value"in As?As.value:As.textContent,Xa=!0)),ke=Tl(W,Ne),0<ke.length&&(Ne=new op(Ne,e,null,i,ie),ce.push({event:Ne,listeners:ke}),ve?Ne.data=ve:(ve=mp(i),ve!==null&&(Ne.data=ve)))),(ve=A1?T1(e,i):R1(e,i))&&(Ne=Tl(W,"onBeforeInput"),0<Ne.length&&(ke=new op("onBeforeInput","beforeinput",null,i,ie),ce.push({event:ke,listeners:Ne}),ke.data=ve)),bS(ce,e,W,i,ie)}Qx(ce,n)})}function Li(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Tl(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ei(e,i),d!=null&&l.unshift(Li(e,d,g)),d=ei(e,n),d!=null&&l.push(Li(e,d,g))),e.tag===3)return l;e=e.return}return[]}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wx(e,n,i,l,d){for(var g=n._reactName,w=[];i!==null&&i!==l;){var A=i,z=A.alternate,W=A.stateNode;if(A=A.tag,z!==null&&z===l)break;A!==5&&A!==26&&A!==27||W===null||(z=W,d?(W=ei(i,g),W!=null&&w.unshift(Li(i,W,z))):d||(W=ei(i,g),W!=null&&w.push(Li(i,W,z)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var SS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function Zx(e){return(typeof e=="string"?e:""+e).replace(SS,`
`).replace(_S,"")}function Jx(e,n){return n=Zx(n),Zx(e)===n}function Rl(){}function Ke(e,n,i,l,d,g){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ya(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ya(e,""+l);break;case"className":zo(e,"class",l);break;case"tabIndex":zo(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zo(e,i,l);break;case"style":tp(e,l,g);break;case"data":if(n!=="object"){zo(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Uo(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&Ke(e,n,"name",d.name,d,null),Ke(e,n,"formEncType",d.formEncType,d,null),Ke(e,n,"formMethod",d.formMethod,d,null),Ke(e,n,"formTarget",d.formTarget,d,null)):(Ke(e,n,"encType",d.encType,d,null),Ke(e,n,"method",d.method,d,null),Ke(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Uo(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Rl);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Uo(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),Do(e,"popover",l);break;case"xlinkActuate":ns(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ns(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ns(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ns(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ns(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ns(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ns(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ns(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ns(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Do(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=t1.get(i)||i,Do(e,i,l))}}function ef(e,n,i,l,d,g){switch(i){case"style":tp(e,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Ya(e,l):(typeof l=="number"||typeof l=="bigint")&&Ya(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ih.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),g=e[Vt]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof l=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,d);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Do(e,i,l)}}}function kt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,d=!1,g;for(g in i)if(i.hasOwnProperty(g)){var w=i[g];if(w!=null)switch(g){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ke(e,n,g,w,i,null)}}d&&Ke(e,n,"srcSet",i.srcSet,i,null),l&&Ke(e,n,"src",i.src,i,null);return;case"input":Oe("invalid",e);var A=g=w=d=null,z=null,W=null;for(l in i)if(i.hasOwnProperty(l)){var ie=i[l];if(ie!=null)switch(l){case"name":d=ie;break;case"type":w=ie;break;case"checked":z=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(o(137,n));break;default:Ke(e,n,l,ie,i,null)}}Wh(e,g,A,z,W,w,d,!1),Lo(e);return;case"select":Oe("invalid",e),l=w=g=null;for(d in i)if(i.hasOwnProperty(d)&&(A=i[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":l=A;default:Ke(e,n,d,A,i,null)}n=g,i=w,e.multiple=!!l,n!=null?Ga(e,!!l,n,!1):i!=null&&Ga(e,!!l,i,!0);return;case"textarea":Oe("invalid",e),g=d=l=null;for(w in i)if(i.hasOwnProperty(w)&&(A=i[w],A!=null))switch(w){case"value":l=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Ke(e,n,w,A,i,null)}Jh(e,l,d,g),Lo(e);return;case"option":for(z in i)if(i.hasOwnProperty(z)&&(l=i[z],l!=null))switch(z){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(e,n,z,l,i,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<zi.length;l++)Oe(zi[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in i)if(i.hasOwnProperty(W)&&(l=i[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ke(e,n,W,l,i,null)}return;default:if(gu(n)){for(ie in i)i.hasOwnProperty(ie)&&(l=i[ie],l!==void 0&&ef(e,n,ie,l,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(l=i[A],l!=null&&Ke(e,n,A,l,i,null))}function CS(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,A=null,z=null,W=null,ie=null;for(ee in i){var ce=i[ee];if(i.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=ce;default:l.hasOwnProperty(ee)||Ke(e,n,ee,null,l,ce)}}for(var J in l){var ee=l[J];if(ce=i[J],l.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":g=ee;break;case"name":d=ee;break;case"checked":W=ee;break;case"defaultChecked":ie=ee;break;case"value":w=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,n));break;default:ee!==ce&&Ke(e,n,J,ee,l,ce)}}hu(e,w,A,z,W,ie,g,d);return;case"select":ee=w=A=J=null;for(g in i)if(z=i[g],i.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":ee=z;default:l.hasOwnProperty(g)||Ke(e,n,g,null,l,z)}for(d in l)if(g=l[d],z=i[d],l.hasOwnProperty(d)&&(g!=null||z!=null))switch(d){case"value":J=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==z&&Ke(e,n,d,g,l,z)}n=A,i=w,l=ee,J!=null?Ga(e,!!i,J,!1):!!l!=!!i&&(n!=null?Ga(e,!!i,n,!0):Ga(e,!!i,i?[]:"",!1));return;case"textarea":ee=J=null;for(A in i)if(d=i[A],i.hasOwnProperty(A)&&d!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ke(e,n,A,null,l,d)}for(w in l)if(d=l[w],g=i[w],l.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":J=d;break;case"defaultValue":ee=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&Ke(e,n,w,d,l,g)}Zh(e,J,ee);return;case"option":for(var Se in i)if(J=i[Se],i.hasOwnProperty(Se)&&J!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:Ke(e,n,Se,null,l,J)}for(z in l)if(J=l[z],ee=i[z],l.hasOwnProperty(z)&&J!==ee&&(J!=null||ee!=null))switch(z){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ke(e,n,z,J,l,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)J=i[we],i.hasOwnProperty(we)&&J!=null&&!l.hasOwnProperty(we)&&Ke(e,n,we,null,l,J);for(W in l)if(J=l[W],ee=i[W],l.hasOwnProperty(W)&&J!==ee&&(J!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,n));break;default:Ke(e,n,W,J,l,ee)}return;default:if(gu(n)){for(var Qe in i)J=i[Qe],i.hasOwnProperty(Qe)&&J!==void 0&&!l.hasOwnProperty(Qe)&&ef(e,n,Qe,void 0,l,J);for(ie in l)J=l[ie],ee=i[ie],!l.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||ef(e,n,ie,J,l,ee);return}}for(var V in i)J=i[V],i.hasOwnProperty(V)&&J!=null&&!l.hasOwnProperty(V)&&Ke(e,n,V,null,l,J);for(ce in l)J=l[ce],ee=i[ce],!l.hasOwnProperty(ce)||J===ee||J==null&&ee==null||Ke(e,n,ce,J,l,ee)}var tf=null,nf=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function ES(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(RS)}:nv;function RS(e){setTimeout(function(){throw e})}function Is(e){return e==="head"}function av(e,n){var i=n,l=0,d=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<l&&8>l){i=l;var w=e.ownerDocument;if(i&1&&Pi(w.documentElement),i&2&&Pi(w.body),i&4)for(i=w.head,Pi(i),w=i.firstChild;w;){var A=w.nextSibling,z=w.nodeName;w[Zr]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=A}}if(d===0){e.removeChild(g),Vi(n);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:l=i.charCodeAt(0)-48;else l=0;i=g}while(i);Vi(n)}function rf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rf(i),uu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function kS(e,n,i,l){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function MS(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=En(e.nextSibling),e===null))return null;return e}function of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function OS(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var lf=null;function rv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function iv(e,n,i){switch(n=kl(i),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Pi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);uu(e)}var bn=new Map,ov=new Set;function Ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=X.d;X.d={f:DS,r:zS,D:LS,C:PS,L:US,m:BS,X:$S,S:HS,M:FS};function DS(){var e=gs.f(),n=Nl();return e||n}function zS(e){var n=Fa(e);n!==null&&n.tag===5&&n.type==="form"?Eg(n):gs.r(e)}var wr=typeof document>"u"?null:document;function lv(e,n,i){var l=wr;if(l&&typeof n=="string"&&n){var d=mn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),ov.has(d)||(ov.add(d),e={rel:e,crossOrigin:i,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),kt(n,"link",e),Nt(n),l.head.appendChild(n)))}}function LS(e){gs.D(e),lv("dns-prefetch",e,null)}function PS(e,n){gs.C(e,n),lv("preconnect",e,n)}function US(e,n,i){gs.L(e,n,i);var l=wr;if(l&&e&&n){var d='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+mn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+mn(i.imageSizes)+'"]')):d+='[href="'+mn(e)+'"]';var g=d;switch(n){case"style":g=Nr(e);break;case"script":g=Sr(e)}bn.has(g)||(e=x({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),bn.set(g,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(Ui(g))||n==="script"&&l.querySelector(Bi(g))||(n=l.createElement("link"),kt(n,"link",e),Nt(n),l.head.appendChild(n)))}}function BS(e,n){gs.m(e,n);var i=wr;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(e)+'"]',g=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sr(e)}if(!bn.has(g)&&(e=x({rel:"modulepreload",href:e},n),bn.set(g,e),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Bi(g)))return}l=i.createElement("link"),kt(l,"link",e),Nt(l),i.head.appendChild(l)}}}function HS(e,n,i){gs.S(e,n,i);var l=wr;if(l&&e){var d=qa(l).hoistableStyles,g=Nr(e);n=n||"default";var w=d.get(g);if(!w){var A={loading:0,preload:null};if(w=l.querySelector(Ui(g)))A.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},i),(i=bn.get(g))&&cf(e,i);var z=w=l.createElement("link");Nt(z),kt(z,"link",e),z._p=new Promise(function(W,ie){z.onload=W,z.onerror=ie}),z.addEventListener("load",function(){A.loading|=1}),z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ol(w,n,l)}w={type:"stylesheet",instance:w,count:1,state:A},d.set(g,w)}}}function $S(e,n){gs.X(e,n);var i=wr;if(i&&e){var l=qa(i).hoistableScripts,d=Sr(e),g=l.get(d);g||(g=i.querySelector(Bi(d)),g||(e=x({src:e,async:!0},n),(n=bn.get(d))&&uf(e,n),g=i.createElement("script"),Nt(g),kt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(d,g))}}function FS(e,n){gs.M(e,n);var i=wr;if(i&&e){var l=qa(i).hoistableScripts,d=Sr(e),g=l.get(d);g||(g=i.querySelector(Bi(d)),g||(e=x({src:e,async:!0,type:"module"},n),(n=bn.get(d))&&uf(e,n),g=i.createElement("script"),Nt(g),kt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(d,g))}}function cv(e,n,i,l){var d=(d=ue.current)?Ml(d):null;if(!d)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Nr(i.href),i=qa(d).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Nr(i.href);var g=qa(d).hoistableStyles,w=g.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=d.querySelector(Ui(e)))&&!g._p&&(w.instance=g,w.state.loading=5),bn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},bn.set(e,i),g||qS(d,e,i,w.state))),n&&l===null)throw Error(o(528,""));return w}if(n&&l!==null)throw Error(o(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(i),i=qa(d).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nr(e){return'href="'+mn(e)+'"'}function Ui(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function qS(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),kt(n,"link",i),Nt(n),e.head.appendChild(n))}function Sr(e){return'[src="'+mn(e)+'"]'}function Bi(e){return"script[async]"+e}function dv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+mn(i.href)+'"]');if(l)return n.instance=l,Nt(l),l;var d=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),kt(l,"style",d),Ol(l,i.precedence,e),n.instance=l;case"stylesheet":d=Nr(i.href);var g=e.querySelector(Ui(d));if(g)return n.state.loading|=4,n.instance=g,Nt(g),g;l=uv(i),(d=bn.get(d))&&cf(l,d),g=(e.ownerDocument||e).createElement("link"),Nt(g);var w=g;return w._p=new Promise(function(A,z){w.onload=A,w.onerror=z}),kt(g,"link",l),n.state.loading|=4,Ol(g,i.precedence,e),n.instance=g;case"script":return g=Sr(i.src),(d=e.querySelector(Bi(g)))?(n.instance=d,Nt(d),d):(l=i,(d=bn.get(g))&&(l=x({},i),uf(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),Nt(d),kt(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ol(l,i.precedence,e));return n.instance}function Ol(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,g=d,w=0;w<l.length;w++){var A=l[w];if(A.dataset.precedence===n)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function cf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function uf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Dl=null;function fv(e,n,i){if(Dl===null){var l=new Map,d=Dl=new Map;d.set(i,l)}else d=Dl,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var g=i[d];if(!(g[Zr]||g[Ot]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var A=l.get(w);A?A.push(g):l.set(w,[g])}}return l}function mv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function IS(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hi=null;function VS(){}function GS(e,n,i){if(Hi===null)throw Error(o(475));var l=Hi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Nr(i.href),g=e.querySelector(Ui(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=g,Nt(g);return}g=e.ownerDocument||e,i=uv(i),(d=bn.get(d))&&cf(i,d),g=g.createElement("link"),Nt(g);var w=g;w._p=new Promise(function(A,z){w.onload=A,w.onerror=z}),kt(g,"link",i),n.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function YS(){if(Hi===null)throw Error(o(475));var e=Hi;return e.stylesheets&&e.count===0&&df(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&df(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function zl(){if(this.count--,this.count===0){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function df(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,n.forEach(KS,e),Ll=null,zl.call(e))}function KS(e,n){if(!(n.state.loading&4)){var i=Ll.get(e);if(i)var l=i.get(null);else{i=new Map,Ll.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),l=w)}l&&i.set(null,l)}d=n.instance,w=d.getAttribute("data-precedence"),g=i.get(w)||l,g===l&&i.set(null,d),i.set(w,d),this.count++,l=zl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $i={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function QS(e,n,i,l,d,g,w,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pv(e,n,i,l,d,g,w,A,z,W,ie,ce){return e=new QS(e,n,i,w,A,z,W,ce),n=1,g===!0&&(n|=24),g=tn(3,null,null,n),e.current=g,g.stateNode=e,n=Vu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:l,isDehydrated:i,cache:n},Qu(g),e}function gv(e){return e?(e=tr,e):tr}function xv(e,n,i,l,d,g){d=gv(d),l.context===null?l.context=d:l.pendingContext=d,l=ks(n),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Ms(e,l,n),i!==null&&(on(i,e,n),xi(i,e,n))}function vv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function ff(e,n){vv(e,n),(e=e.alternate)&&vv(e,n)}function yv(e){if(e.tag===13){var n=er(e,67108864);n!==null&&on(n,e,67108864),ff(e,67108864)}}var Pl=!0;function XS(e,n,i,l){var d=D.T;D.T=null;var g=X.p;try{X.p=2,mf(e,n,i,l)}finally{X.p=g,D.T=d}}function WS(e,n,i,l){var d=D.T;D.T=null;var g=X.p;try{X.p=8,mf(e,n,i,l)}finally{X.p=g,D.T=d}}function mf(e,n,i,l){if(Pl){var d=hf(l);if(d===null)Jd(e,n,l,Ul,i),jv(e,l);else if(JS(d,e,n,i,l))l.stopPropagation();else if(jv(e,l),n&4&&-1<ZS.indexOf(e)){for(;d!==null;){var g=Fa(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=la(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var z=1<<31-Jt(w);A.entanglements[1]|=z,w&=~z}Vn(g),(qe&6)===0&&(jl=It()+500,Di(0))}}break;case 13:A=er(g,2),A!==null&&on(A,g,2),Nl(),ff(g,2)}if(g=hf(l),g===null&&Jd(e,n,l,Ul,i),g===d)break;d=g}d!==null&&l.stopPropagation()}else Jd(e,n,l,null,i)}}function hf(e){return e=vu(e),pf(e)}var Ul=null;function pf(e){if(Ul=null,e=$a(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ul=e,null}function bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PN()){case Dh:return 2;case zh:return 8;case Ro:case UN:return 32;case Lh:return 268435456;default:return 32}default:return 32}}var gf=!1,Vs=null,Gs=null,Ys=null,Fi=new Map,qi=new Map,Ks=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(n.pointerId)}}function Ii(e,n,i,l,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:g,targetContainers:[d]},n!==null&&(n=Fa(n),n!==null&&yv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function JS(e,n,i,l,d){switch(n){case"focusin":return Vs=Ii(Vs,e,n,i,l,d),!0;case"dragenter":return Gs=Ii(Gs,e,n,i,l,d),!0;case"mouseover":return Ys=Ii(Ys,e,n,i,l,d),!0;case"pointerover":var g=d.pointerId;return Fi.set(g,Ii(Fi.get(g)||null,e,n,i,l,d)),!0;case"gotpointercapture":return g=d.pointerId,qi.set(g,Ii(qi.get(g)||null,e,n,i,l,d)),!0}return!1}function wv(e){var n=$a(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,GN(e.priority,function(){if(i.tag===13){var l=rn();l=ou(l);var d=er(i,l);d!==null&&on(d,i,l),ff(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=hf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);xu=l,i.target.dispatchEvent(l),xu=null}else return n=Fa(i),n!==null&&yv(n),e.blockedOn=i,!1;n.shift()}return!0}function Nv(e,n,i){Bl(e)&&i.delete(n)}function e_(){gf=!1,Vs!==null&&Bl(Vs)&&(Vs=null),Gs!==null&&Bl(Gs)&&(Gs=null),Ys!==null&&Bl(Ys)&&(Ys=null),Fi.forEach(Nv),qi.forEach(Nv)}function Hl(e,n){e.blockedOn===n&&(e.blockedOn=null,gf||(gf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,e_)))}var $l=null;function Sv(e){$l!==e&&($l=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$l===e&&($l=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(pf(l||i)===null)continue;break}var g=Fa(i);g!==null&&(e.splice(n,3),n-=3,hd(g,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function Vi(e){function n(z){return Hl(z,e)}Vs!==null&&Hl(Vs,e),Gs!==null&&Hl(Gs,e),Ys!==null&&Hl(Ys,e),Fi.forEach(n),qi.forEach(n);for(var i=0;i<Ks.length;i++){var l=Ks[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ks.length&&(i=Ks[0],i.blockedOn===null);)wv(i),i.blockedOn===null&&Ks.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],g=i[l+1],w=d[Vt]||null;if(typeof g=="function")w||Sv(i);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[Vt]||null)A=w.formAction;else if(pf(d)!==null)continue}else A=w.action;typeof A=="function"?i[l+1]=A:(i.splice(l,3),l-=3),Sv(i)}}}function xf(e){this._internalRoot=e}Fl.prototype.render=xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var i=n.current,l=rn();xv(i,l,e,n,null,null)},Fl.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xv(e.current,2,null,e,null,null),Nl(),n[Ha]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$h();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ks.length&&n!==0&&n<Ks[i].priority;i++);Ks.splice(i,0,e),i===0&&wv(e)}};var _v=a.version;if(_v!=="19.1.1")throw Error(o(527,_v,"19.1.1"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(n),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var t_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Qr=ql.inject(t_),Zt=ql}catch{}}return Yi.createRoot=function(e,n){if(!c(e))throw Error(o(299));var i=!1,l="",d=$g,g=Fg,w=qg,A=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks)),n=pv(e,1,!1,null,null,i,l,d,g,w,A,null),e[Ha]=n.current,Zd(e),new xf(n)},Yi.hydrateRoot=function(e,n,i){if(!c(e))throw Error(o(299));var l=!1,d="",g=$g,w=Fg,A=qg,z=null,W=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(z=i.unstable_transitionCallbacks),i.formState!==void 0&&(W=i.formState)),n=pv(e,1,!0,n,i??null,l,d,g,w,A,z,W),n.context=gv(null),i=n.current,l=rn(),l=ou(l),d=ks(l),d.callback=null,Ms(i,d,l),i=l,n.current.lanes=i,Wr(n,i),Vn(n),e[Ha]=n.current,Zd(e),new Fl(n)},Yi.version="19.1.1",Yi}var zv;function d_(){if(zv)return bf.exports;zv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),bf.exports=u_(),bf.exports}var f_=d_();const m_=Rc(f_);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lv="popstate";function h_(t={}){function a(o,c){let{pathname:u,search:f,hash:m}=o.location;return Kf("",{pathname:u,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){return typeof c=="string"?c:oo(c)}return g_(a,r,null,t)}function at(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function kn(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function p_(){return Math.random().toString(36).substring(2,10)}function Pv(t,a){return{usr:t.state,key:t.key,idx:a}}function Kf(t,a,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Br(a):a,state:r,key:a&&a.key||o||p_()}}function oo({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Br(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function g_(t,a,r,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,f=c.history,m="POP",p=null,h=x();h==null&&(h=0,f.replaceState({...f.state,idx:h},""));function x(){return(f.state||{idx:null}).idx}function b(){m="POP";let S=x(),E=S==null?null:S-h;h=S,p&&p({action:m,location:j.location,delta:E})}function y(S,E){m="PUSH";let N=Kf(j.location,S,E);h=x()+1;let T=Pv(N,h),O=j.createHref(N);try{f.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;c.location.assign(O)}u&&p&&p({action:m,location:j.location,delta:1})}function _(S,E){m="REPLACE";let N=Kf(j.location,S,E);h=x();let T=Pv(N,h),O=j.createHref(N);f.replaceState(T,"",O),u&&p&&p({action:m,location:j.location,delta:0})}function C(S){return x_(S)}let j={get action(){return m},get location(){return t(c,f)},listen(S){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Lv,b),p=S,()=>{c.removeEventListener(Lv,b),p=null}},createHref(S){return a(c,S)},createURL:C,encodeLocation(S){let E=C(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:_,go(S){return f.go(S)}};return j}function x_(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),at(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:oo(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function jb(t,a,r="/"){return v_(t,a,r,!1)}function v_(t,a,r,o){let c=typeof a=="string"?Br(a):a,u=Ns(c.pathname||"/",r);if(u==null)return null;let f=wb(t);y_(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let h=R_(u);m=A_(f[p],h,o)}return m}function wb(t,a=[],r=[],o="",c=!1){let u=(f,m,p=c,h)=>{let x={relativePath:h===void 0?f.path||"":h,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&p)return;at(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let b=ws([o,x.relativePath]),y=r.concat(x);f.children&&f.children.length>0&&(at(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),wb(f.children,a,y,b,p)),!(f.path==null&&!f.index)&&a.push({path:b,score:C_(b,f.index),routesMeta:y})};return t.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Nb(f.path))u(f,m,!0,p)}),a}function Nb(t){let a=t.split("/");if(a.length===0)return[];let[r,...o]=a,c=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let f=Nb(o.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...f),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function y_(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:E_(a.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var b_=/^:[\w-]+$/,j_=3,w_=2,N_=1,S_=10,__=-2,Uv=t=>t==="*";function C_(t,a){let r=t.split("/"),o=r.length;return r.some(Uv)&&(o+=__),a&&(o+=w_),r.filter(c=>!Uv(c)).reduce((c,u)=>c+(b_.test(u)?j_:u===""?N_:S_),o)}function E_(t,a){return t.length===a.length&&t.slice(0,-1).every((o,c)=>o===a[c])?t[t.length-1]-a[a.length-1]:0}function A_(t,a,r=!1){let{routesMeta:o}=t,c={},u="/",f=[];for(let m=0;m<o.length;++m){let p=o[m],h=m===o.length-1,x=u==="/"?a:a.slice(u.length)||"/",b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},x),y=p.route;if(!b&&h&&r&&!o[o.length-1].route.index&&(b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:ws([u,b.pathname]),pathnameBase:D_(ws([u,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(u=ws([u,b.pathnameBase]))}return f}function cc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=T_(t.path,t.caseSensitive,t.end),c=a.match(r);if(!c)return null;let u=c[0],f=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((h,{paramName:x,isOptional:b},y)=>{if(x==="*"){let C=m[y]||"";f=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const _=m[y];return b&&!_?h[x]=void 0:h[x]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:f,pattern:t}}function T_(t,a=!1,r=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function R_(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Ns(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function k_(t,a="/"){let{pathname:r,search:o="",hash:c=""}=typeof t=="string"?Br(t):t;return{pathname:r?r.startsWith("/")?r:M_(r,a):a,search:z_(o),hash:L_(c)}}function M_(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Sf(t,a,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O_(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Tm(t){let a=O_(t);return a.map((r,o)=>o===a.length-1?r.pathname:r.pathnameBase)}function Rm(t,a,r,o=!1){let c;typeof t=="string"?c=Br(t):(c={...t},at(!c.pathname||!c.pathname.includes("?"),Sf("?","pathname","search",c)),at(!c.pathname||!c.pathname.includes("#"),Sf("#","pathname","hash",c)),at(!c.search||!c.search.includes("#"),Sf("#","search","hash",c)));let u=t===""||c.pathname==="",f=u?"/":c.pathname,m;if(f==null)m=r;else{let b=a.length-1;if(!o&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),b-=1;c.pathname=y.join("/")}m=b>=0?a[b]:"/"}let p=k_(c,m),h=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||x)&&(p.pathname+="/"),p}var ws=t=>t.join("/").replace(/\/\/+/g,"/"),D_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Sb=["POST","PUT","PATCH","DELETE"];new Set(Sb);var U_=["GET",...Sb];new Set(U_);var Hr=v.createContext(null);Hr.displayName="DataRouter";var Mc=v.createContext(null);Mc.displayName="DataRouterState";v.createContext(!1);var _b=v.createContext({isTransitioning:!1});_b.displayName="ViewTransition";var B_=v.createContext(new Map);B_.displayName="Fetchers";var H_=v.createContext(null);H_.displayName="Await";var Ln=v.createContext(null);Ln.displayName="Navigation";var bo=v.createContext(null);bo.displayName="Location";var Sn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var km=v.createContext(null);km.displayName="RouteError";function $_(t,{relative:a}={}){at($r(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=v.useContext(Ln),{hash:c,pathname:u,search:f}=jo(t,{relative:a}),m=u;return r!=="/"&&(m=u==="/"?r:ws([r,u])),o.createHref({pathname:m,search:f,hash:c})}function $r(){return v.useContext(bo)!=null}function dn(){return at($r(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(bo).location}var Cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eb(t){v.useContext(Ln).static||v.useLayoutEffect(t)}function $t(){let{isDataRoute:t}=v.useContext(Sn);return t?n2():F_()}function F_(){at($r(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Hr),{basename:a,navigator:r}=v.useContext(Ln),{matches:o}=v.useContext(Sn),{pathname:c}=dn(),u=JSON.stringify(Tm(o)),f=v.useRef(!1);return Eb(()=>{f.current=!0}),v.useCallback((p,h={})=>{if(kn(f.current,Cb),!f.current)return;if(typeof p=="number"){r.go(p);return}let x=Rm(p,JSON.parse(u),c,h.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:ws([a,x.pathname])),(h.replace?r.replace:r.push)(x,h.state,h)},[a,r,u,c,t])}var q_=v.createContext(null);function I_(t){let a=v.useContext(Sn).outlet;return a&&v.createElement(q_.Provider,{value:t},a)}function Jn(){let{matches:t}=v.useContext(Sn),a=t[t.length-1];return a?a.params:{}}function jo(t,{relative:a}={}){let{matches:r}=v.useContext(Sn),{pathname:o}=dn(),c=JSON.stringify(Tm(r));return v.useMemo(()=>Rm(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function V_(t,a){return Ab(t,a)}function Ab(t,a,r,o,c){at($r(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(Ln),{matches:f}=v.useContext(Sn),m=f[f.length-1],p=m?m.params:{},h=m?m.pathname:"/",x=m?m.pathnameBase:"/",b=m&&m.route;{let N=b&&b.path||"";Tb(h,!b||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=dn(),_;if(a){let N=typeof a=="string"?Br(a):a;at(x==="/"||N.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=y;let C=_.pathname||"/",j=C;if(x!=="/"){let N=x.replace(/^\//,"").split("/");j="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=jb(t,{pathname:j});kn(b||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),kn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=X_(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:ws([x,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?x:ws([x,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),f,r,o,c);return a&&E?v.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},E):E}function G_(){let t=t2(),a=P_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),r?v.createElement("pre",{style:c},r):null,f)}var Y_=v.createElement(G_,null),K_=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.unstable_onError?this.props.unstable_onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Sn.Provider,{value:this.props.routeContext},v.createElement(km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q_({routeContext:t,match:a,children:r}){let o=v.useContext(Hr);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(Sn.Provider,{value:t},r)}function X_(t,a=[],r=null,o=null,c=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,f=r?.errors;if(f!=null){let h=u.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);at(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,h+1))}let m=!1,p=-1;if(r)for(let h=0;h<u.length;h++){let x=u[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=h),x.route.id){let{loaderData:b,errors:y}=r,_=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||_){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((h,x,b)=>{let y,_=!1,C=null,j=null;r&&(y=f&&x.route.id?f[x.route.id]:void 0,C=x.route.errorElement||Y_,m&&(p<0&&b===0?(Tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,j=null):p===b&&(_=!0,j=x.route.hydrateFallbackElement||null)));let S=a.concat(u.slice(0,b+1)),E=()=>{let N;return y?N=C:_?N=j:x.route.Component?N=v.createElement(x.route.Component,null):x.route.element?N=x.route.element:N=h,v.createElement(Q_,{match:x,routeContext:{outlet:h,matches:S,isDataRoute:r!=null},children:N})};return r&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?v.createElement(K_,{location:r.location,revalidation:r.revalidation,component:C,error:y,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:o}):E()},null)}function Mm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W_(t){let a=v.useContext(Hr);return at(a,Mm(t)),a}function Z_(t){let a=v.useContext(Mc);return at(a,Mm(t)),a}function J_(t){let a=v.useContext(Sn);return at(a,Mm(t)),a}function Om(t){let a=J_(t),r=a.matches[a.matches.length-1];return at(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function e2(){return Om("useRouteId")}function t2(){let t=v.useContext(km),a=Z_("useRouteError"),r=Om("useRouteError");return t!==void 0?t:a.errors?.[r]}function n2(){let{router:t}=W_("useNavigate"),a=Om("useNavigate"),r=v.useRef(!1);return Eb(()=>{r.current=!0}),v.useCallback(async(c,u={})=>{kn(r.current,Cb),r.current&&(typeof c=="number"?t.navigate(c):await t.navigate(c,{fromRouteId:a,...u}))},[t,a])}var Bv={};function Tb(t,a,r){!a&&!Bv[t]&&(Bv[t]=!0,kn(!1,r))}v.memo(s2);function s2({routes:t,future:a,state:r,unstable_onError:o}){return Ab(t,void 0,r,o,a)}function Dr({to:t,replace:a,state:r,relative:o}){at($r(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=v.useContext(Ln);kn(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext(Sn),{pathname:f}=dn(),m=$t(),p=Rm(t,Tm(u),f,o==="path"),h=JSON.stringify(p);return v.useEffect(()=>{m(JSON.parse(h),{replace:a,state:r,relative:o})},[m,h,o,a,r]),null}function a2(t){return I_(t.context)}function De(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r2({basename:t="/",children:a=null,location:r,navigationType:o="POP",navigator:c,static:u=!1}){at(!$r(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=v.useMemo(()=>({basename:f,navigator:c,static:u,future:{}}),[f,c,u]);typeof r=="string"&&(r=Br(r));let{pathname:p="/",search:h="",hash:x="",state:b=null,key:y="default"}=r,_=v.useMemo(()=>{let C=Ns(p,f);return C==null?null:{location:{pathname:C,search:h,hash:x,state:b,key:y},navigationType:o}},[f,p,h,x,b,y,o]);return kn(_!=null,`<Router basename="${f}"> is not able to match the URL "${p}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:v.createElement(Ln.Provider,{value:m},v.createElement(bo.Provider,{children:a,value:_}))}function i2({children:t,location:a}){return V_(Qf(t),a)}function Qf(t,a=[]){let r=[];return v.Children.forEach(t,(o,c)=>{if(!v.isValidElement(o))return;let u=[...a,c];if(o.type===v.Fragment){r.push.apply(r,Qf(o.props.children,u));return}at(o.type===De,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Qf(o.props.children,u)),r.push(f)}),r}var tc="get",nc="application/x-www-form-urlencoded";function Oc(t){return t!=null&&typeof t.tagName=="string"}function o2(t){return Oc(t)&&t.tagName.toLowerCase()==="button"}function l2(t){return Oc(t)&&t.tagName.toLowerCase()==="form"}function c2(t){return Oc(t)&&t.tagName.toLowerCase()==="input"}function u2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d2(t,a){return t.button===0&&(!a||a==="_self")&&!u2(t)}var Il=null;function f2(){if(Il===null)try{new FormData(document.createElement("form"),0),Il=!1}catch{Il=!0}return Il}var m2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _f(t){return t!=null&&!m2.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):t}function h2(t,a){let r,o,c,u,f;if(l2(t)){let m=t.getAttribute("action");o=m?Ns(m,a):null,r=t.getAttribute("method")||tc,c=_f(t.getAttribute("enctype"))||nc,u=new FormData(t)}else if(o2(t)||c2(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(o=p?Ns(p,a):null,r=t.getAttribute("formmethod")||m.getAttribute("method")||tc,c=_f(t.getAttribute("formenctype"))||_f(m.getAttribute("enctype"))||nc,u=new FormData(m,t),!f2()){let{name:h,type:x,value:b}=t;if(x==="image"){let y=h?`${h}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else h&&u.append(h,b)}}else{if(Oc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tc,o=null,c=nc,f=t}return u&&c==="text/plain"&&(f=u,u=void 0),{action:o,method:r.toLowerCase(),encType:c,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function p2(t,a,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname=`_root.${r}`:a&&Ns(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function g2(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function v2(t,a,r){let o=await Promise.all(t.map(async c=>{let u=a.routes[c.route.id];if(u){let f=await g2(u,r);return f.links?f.links():[]}return[]}));return w2(o.flat(1).filter(x2).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Hv(t,a,r,o,c,u){let f=(p,h)=>r[h]?p.route.id!==r[h].route.id:!0,m=(p,h)=>r[h].pathname!==p.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==p.params["*"];return u==="assets"?a.filter((p,h)=>f(p,h)||m(p,h)):u==="data"?a.filter((p,h)=>{let x=o.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(f(p,h)||m(p,h))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function y2(t,a,{includeHydrateFallback:r}={}){return b2(t.map(o=>{let c=a.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function b2(t){return[...new Set(t)]}function j2(t){let a={},r=Object.keys(t).sort();for(let o of r)a[o]=t[o];return a}function w2(t,a){let r=new Set;return new Set(a),t.reduce((o,c)=>{let u=JSON.stringify(j2(c));return r.has(u)||(r.add(u),o.push({key:u,link:c})),o},[])}function Rb(){let t=v.useContext(Hr);return Dm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N2(){let t=v.useContext(Mc);return Dm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zm=v.createContext(void 0);zm.displayName="FrameworkContext";function kb(){let t=v.useContext(zm);return Dm(t,"You must render this element inside a <HydratedRouter> element"),t}function S2(t,a){let r=v.useContext(zm),[o,c]=v.useState(!1),[u,f]=v.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:h,onMouseLeave:x,onTouchStart:b}=a,y=v.useRef(null);v.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let j=E=>{E.forEach(N=>{f(N.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),v.useEffect(()=>{if(o){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[o]);let _=()=>{c(!0)},C=()=>{c(!1),f(!1)};return r?t!=="intent"?[u,y,{}]:[u,y,{onFocus:Ki(m,_),onBlur:Ki(p,C),onMouseEnter:Ki(h,_),onMouseLeave:Ki(x,C),onTouchStart:Ki(b,_)}]:[!1,y,{}]}function Ki(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function _2({page:t,...a}){let{router:r}=Rb(),o=v.useMemo(()=>jb(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?v.createElement(E2,{page:t,matches:o,...a}):null}function C2(t){let{manifest:a,routeModules:r}=kb(),[o,c]=v.useState([]);return v.useEffect(()=>{let u=!1;return v2(t,a,r).then(f=>{u||c(f)}),()=>{u=!0}},[t,a,r]),o}function E2({page:t,matches:a,...r}){let o=dn(),{manifest:c,routeModules:u}=kb(),{basename:f}=Rb(),{loaderData:m,matches:p}=N2(),h=v.useMemo(()=>Hv(t,a,p,c,o,"data"),[t,a,p,c,o]),x=v.useMemo(()=>Hv(t,a,p,c,o,"assets"),[t,a,p,c,o]),b=v.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let C=new Set,j=!1;if(a.forEach(E=>{let N=c.routes[E.route.id];!N||!N.hasLoader||(!h.some(T=>T.route.id===E.route.id)&&E.route.id in m&&u[E.route.id]?.shouldRevalidate||N.hasClientLoader?j=!0:C.add(E.route.id))}),C.size===0)return[];let S=p2(t,f,"data");return j&&C.size>0&&S.searchParams.set("_routes",a.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[f,m,o,c,h,a,t,u]),y=v.useMemo(()=>y2(x,c),[x,c]),_=C2(x);return v.createElement(v.Fragment,null,b.map(C=>v.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),y.map(C=>v.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),_.map(({key:C,link:j})=>v.createElement("link",{key:C,nonce:r.nonce,...j})))}function A2(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mb&&(window.__reactRouterVersion="7.8.2")}catch{}function T2({basename:t,children:a,window:r}){let o=v.useRef();o.current==null&&(o.current=h_({window:r,v5Compat:!0}));let c=o.current,[u,f]=v.useState({action:c.action,location:c.location}),m=v.useCallback(p=>{v.startTransition(()=>f(p))},[f]);return v.useLayoutEffect(()=>c.listen(m),[c,m]),v.createElement(r2,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:c})}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=v.forwardRef(function({onClick:a,discover:r="render",prefetch:o="none",relative:c,reloadDocument:u,replace:f,state:m,target:p,to:h,preventScrollReset:x,viewTransition:b,...y},_){let{basename:C}=v.useContext(Ln),j=typeof h=="string"&&Ob.test(h),S,E=!1;if(typeof h=="string"&&j&&(S=h,Mb))try{let R=new URL(window.location.href),P=h.startsWith("//")?new URL(R.protocol+h):new URL(h),B=Ns(P.pathname,C);P.origin===R.origin&&B!=null?h=B+P.search+P.hash:E=!0}catch{kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=$_(h,{relative:c}),[T,O,M]=S2(o,y),G=O2(h,{replace:f,state:m,target:p,preventScrollReset:x,relative:c,viewTransition:b});function I(R){a&&a(R),R.defaultPrevented||G(R)}let q=v.createElement("a",{...y,...M,href:S||N,onClick:E||u?a:I,ref:A2(_,O),target:p,"data-discover":!j&&r==="render"?"true":void 0});return T&&!j?v.createElement(v.Fragment,null,q,v.createElement(_2,{page:N})):q});lt.displayName="Link";var R2=v.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:o="",end:c=!1,style:u,to:f,viewTransition:m,children:p,...h},x){let b=jo(f,{relative:h.relative}),y=dn(),_=v.useContext(Mc),{navigator:C,basename:j}=v.useContext(Ln),S=_!=null&&U2(b)&&m===!0,E=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,N=y.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(N=N.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&j&&(T=Ns(T,j)||T);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=N===E||!c&&N.startsWith(E)&&N.charAt(O)==="/",G=T!=null&&(T===E||!c&&T.startsWith(E)&&T.charAt(E.length)==="/"),I={isActive:M,isPending:G,isTransitioning:S},q=M?a:void 0,R;typeof o=="function"?R=o(I):R=[o,M?"active":null,G?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(I):u;return v.createElement(lt,{...h,"aria-current":q,className:R,ref:x,style:P,to:f,viewTransition:m},typeof p=="function"?p(I):p)});R2.displayName="NavLink";var k2=v.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:o,replace:c,state:u,method:f=tc,action:m,onSubmit:p,relative:h,preventScrollReset:x,viewTransition:b,...y},_)=>{let C=L2(),j=P2(m,{relative:h}),S=f.toLowerCase()==="get"?"get":"post",E=typeof m=="string"&&Ob.test(m),N=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let O=T.nativeEvent.submitter,M=O?.getAttribute("formmethod")||f;C(O||T.currentTarget,{fetcherKey:a,method:M,navigate:r,replace:c,state:u,relative:h,preventScrollReset:x,viewTransition:b})};return v.createElement("form",{ref:_,method:S,action:j,onSubmit:o?p:N,...y,"data-discover":!E&&t==="render"?"true":void 0})});k2.displayName="Form";function M2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Db(t){let a=v.useContext(Hr);return at(a,M2(t)),a}function O2(t,{target:a,replace:r,state:o,preventScrollReset:c,relative:u,viewTransition:f}={}){let m=$t(),p=dn(),h=jo(t,{relative:u});return v.useCallback(x=>{if(d2(x,a)){x.preventDefault();let b=r!==void 0?r:oo(p)===oo(h);m(t,{replace:b,state:o,preventScrollReset:c,relative:u,viewTransition:f})}},[p,m,h,r,o,a,t,c,u,f])}var D2=0,z2=()=>`__${String(++D2)}__`;function L2(){let{router:t}=Db("useSubmit"),{basename:a}=v.useContext(Ln),r=e2();return v.useCallback(async(o,c={})=>{let{action:u,method:f,encType:m,formData:p,body:h}=h2(o,a);if(c.navigate===!1){let x=c.fetcherKey||z2();await t.fetch(x,r,c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:h,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await t.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:p,body:h,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[t,a,r])}function P2(t,{relative:a}={}){let{basename:r}=v.useContext(Ln),o=v.useContext(Sn);at(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...jo(t||".",{relative:a})},f=dn();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ws([r,u.pathname])),oo(u)}function U2(t,{relative:a}={}){let r=v.useContext(_b);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Db("useViewTransitionState"),c=jo(t,{relative:a});if(!r.isTransitioning)return!1;let u=Ns(r.currentLocation.pathname,o)||r.currentLocation.pathname,f=Ns(r.nextLocation.pathname,o)||r.nextLocation.pathname;return cc(c.pathname,f)!=null||cc(c.pathname,u)!=null}var wo=bb();const B2=Rc(wo),H2="http://127.0.0.1:8000/api",Cf=H2.replace(/\/+$/,""),Ca=Cf.endsWith("/v1")?Cf:`${Cf}/v1`,Qi={base:Ca,token:`${Ca}/token/`,refresh:`${Ca}/token/refresh/`,logout:`${Ca}/logout/`,role:`${Ca}/dashboard/role/`,notifications:{list:`${Ca}/notifications/`,unreadCount:`${Ca}/notifications/unread-count/`}},Dc="access_token",Lm="refresh_token";function $v(t){localStorage.setItem(Dc,t.access),localStorage.setItem(Lm,t.refresh)}function Fv(){const t=localStorage.getItem(Dc),a=localStorage.getItem(Lm);return!t||!a?null:{access:t,refresh:a}}function $2(){localStorage.removeItem(Dc),localStorage.removeItem(Lm)}function Pm(){return localStorage.getItem(Dc)}function Xi(){const t=Pm();if(!t)return null;try{const a=JSON.parse(atob(t.split(".")[1]||""));return typeof a.role=="string"?a.role:a.is_admin?"admin":a.is_teacher?"teacher":"student"}catch{return null}}function F2(){const t=Pm();if(!t)return null;try{const a=JSON.parse(atob(t.split(".")[1]||"")),r={};if(a.username&&(r.username=a.username),a.email&&(r.email=a.email),a.first_name&&(r.first_name=a.first_name),a.last_name&&(r.last_name=a.last_name),a.user&&typeof a.user=="object"){const o=a.user;!r.username&&o.username&&(r.username=o.username),!r.email&&o.email&&(r.email=o.email),!r.first_name&&o.first_name&&(r.first_name=o.first_name),!r.last_name&&o.last_name&&(r.last_name=o.last_name)}return r}catch{return null}}const q2="modulepreload",I2=function(t){return"/"+t},qv={},no=function(a,r,o){let c=Promise.resolve();if(r&&r.length>0){let h=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var f=h;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=h(r.map(x=>{if(x=I2(x),x in qv)return;qv[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":q2,b||(_.as="script"),_.crossOrigin="",_.href=x,p&&_.setAttribute("nonce",p),document.head.appendChild(_),b)return new Promise((C,j)=>{_.addEventListener("load",C),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return a().catch(u)})};class V2 extends EventTarget{emit(a,r){this.dispatchEvent(new CustomEvent(a,{detail:r}))}on(a,r){const o=r;return this.addEventListener(a,o),()=>{this.removeEventListener(a,o)}}}const uc=new V2;function Xt(t){try{window.dispatchEvent(new CustomEvent("toast:show",{detail:t}))}catch{}}const G2="http://127.0.0.1:8000/api",Y2="http://127.0.0.1:8000/api",Um=W2(Y2),K2="/v1/token/refresh/",zb="auth_tokens",Xf="access_token",Q2="access",Wf="refresh_token";function Lb(){try{const t=localStorage.getItem(zb);if(t)return JSON.parse(t);const a=localStorage.getItem(Xf),r=localStorage.getItem(Wf),o=localStorage.getItem(Q2);return a||r||o?{access:a??o??null,refresh:r??null}:{}}catch{return{}}}function X2(t){const a=JSON.stringify({access:t.access??null,refresh:t.refresh??null});localStorage.setItem(zb,a);try{t.access?localStorage.setItem(Xf,t.access):localStorage.removeItem(Xf),t.refresh?localStorage.setItem(Wf,t.refresh):localStorage.removeItem(Wf)}catch{}}function W2(t){let a=String(t).trim();return a?(a.endsWith("/")&&(a=a.slice(0,-1)),a):G2}function Pb(t,a){let r=a.startsWith("/")?a:`/${a}`;try{t.endsWith("/api")&&r.startsWith("/api")&&(r=r.replace(/^\/api/,""))}catch{}return`${t}${r}`.replace(/([^:]\/)\/+/,"$1")}function Z2(t){if(!t)return"";const a=new URLSearchParams;Object.entries(t).forEach(([o,c])=>{c!=null&&(Array.isArray(c)?c.forEach(u=>a.append(o,String(u))):a.append(o,String(c)))});const r=a.toString();return r?`?${r}`:""}function J2(t){return(t.headers.get("content-type")||"").includes("application/json")}function dc(t,a){try{try{uc.emit("api:loading",{delta:t,key:a})}catch{}try{window.dispatchEvent(new CustomEvent("api:loading",{detail:{delta:t}}))}catch{}}catch{}}async function eC(){const{refresh:t}=Lb();if(!t)return!1;dc(1);try{const a=Pb(Um,K2),r=await fetch(a,{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({refresh:t})});if(!r.ok)return!1;const o=await r.json().catch(()=>({})),c=o?.access||o?.access_token;return typeof c=="string"&&c.length>10?(X2({access:c,refresh:t}),!0):!1}catch{return!1}finally{dc(-1)}}async function Ar(t,a,r={}){const o=new AbortController,c=r.signal?[r.signal,o.signal]:[o.signal],u={accept:"application/json",...r.headers},{access:f}=Lb();!r.noAuth&&f&&(u.authorization=`Bearer ${f}`);let m;r.body!==void 0&&r.body!==null&&t!=="GET"&&(r.body instanceof FormData?m=r.body:(u["content-type"]=u["content-type"]||"application/json",m=u["content-type"].includes("application/json")?JSON.stringify(r.body):r.body));const p=Pb(Um,a)+Z2(r.params);dc(1);let h=null;try{if(h=await fetch(p,{method:t,headers:u,body:m,credentials:"include",signal:c[c.length-1]}),h.status===401&&!r._retried&&await eC())return Ar(t,a,{...r,_retried:!0});if(h.status===204)return{ok:!0,status:h.status,data:void 0};let x;if(J2(h)?x=await h.json().catch(()=>{}):x=await h.text().catch(()=>""),!h.ok){h.status===401||h.status;const b={status:h.status,url:p,method:t,data:x};try{uc.emit("api:error",b)}catch{}try{window.dispatchEvent(new CustomEvent("api:error",{detail:b}))}catch{}const y=x??{message:"Request failed"},_=y instanceof Error?y:new Error(typeof y=="string"?y:JSON.stringify(y));return{ok:!1,status:h.status,error:_}}return{ok:!0,status:h.status,data:x}}catch(x){const b=x?.message||String(x),y={status:0,url:p,method:t,message:b};try{uc.emit("api:error",y)}catch{}try{window.dispatchEvent(new CustomEvent("api:error",{detail:y}))}catch{}return{ok:!1,status:0,error:new Error(b)}}finally{dc(-1)}}class tC{get(a,r={}){return Ar("GET",a,r)}post(a,r,o={}){return Ar("POST",a,{...o,body:r})}put(a,r,o={}){return Ar("PUT",a,{...o,body:r})}patch(a,r,o={}){return Ar("PATCH",a,{...o,body:r})}delete(a,r={}){return Ar("DELETE",a,r)}}const xe=new tC;typeof window<"u"&&(window.__api_base__=Um);let Zf;typeof window<"u"&&no(()=>Promise.resolve().then(()=>GM),[]).then(t=>{const a=t?.showToast;typeof a=="function"&&(Zf=a)}).catch(()=>{});function Iv(t){try{if(typeof Zf=="function"){Zf(t);return}try{Xt({message:t.message,variant:t.variant,title:t.title})}catch{}}catch{}}async function Vv(){const t=await xe.get("/v1/profile/");return t.ok?t.data:null}async function Ub(t,a){const r=[];for(const o of t){r.push(o);const c=await xe.get(o,{params:a});if(c.ok)return{ok:!0,status:c.status,data:c.data};if(![404,405].includes(c.status))return{ok:!1,status:c.status,error:c.error,tried:r}}return{ok:!1,status:404,error:"All endpoints not found",tried:r}}function Ef(t){if(t==null)return NaN;if(typeof t=="number")return Number.isFinite(t)?t:NaN;if(typeof t=="string"){const a=Number(t);return Number.isFinite(a)?a:NaN}if(typeof t=="object"){const a=t;if(typeof a.parsedValue=="number"&&Number.isFinite(a.parsedValue))return a.parsedValue;if(typeof a.source=="string"){const r=Number(a.source);if(Number.isFinite(r))return r}if(typeof a.value=="number"&&Number.isFinite(a.value))return a.value;if(typeof a.value=="string"){const r=Number(a.value);if(Number.isFinite(r))return r}return NaN}return NaN}async function Bb(){const a=await Ub(["/v1/teocoin/balance/","/api/v1/teocoin/balance/","/api/teocoin/balance/"]);if(!a.ok)return a;const r=a.data;if(console.debug("getWallet: raw response",r),r&&r.balance&&typeof r.balance=="object"){const o=r.balance,c=Ef(o.available_balance??o.available??o.available??NaN),u=Ef(o.total_balance??o.total??NaN),f=o.wallet_address??r.wallet_address??null,m=o.updated_at??r.updated_at??void 0,p=Ef(o.staked_balance??o.staked??NaN),h=Number.isFinite(u)&&Number.isFinite(p)?Math.max(0,u-p):NaN,x={address:f,balance_teo:Number.isFinite(c)?c:Number.isFinite(h)?h:Number.isFinite(u)?u:0,balance_eur:void 0,updated_at:m,raw:r};return console.debug("getWallet: normalized walletInfo",x),{ok:!0,status:a.status,data:x}}return{ok:!1,status:a.status,error:"Unexpected balance payload",tried:a.tried}}async function Af(t=1,a=20,r){if(typeof r=="string"&&r.length>0)try{let S=r;if(/^https?:\/\//i.test(r))try{const ne=new URL(r);S=ne.pathname+(ne.search||"")}catch{S=r}const E=await xe.get(S);if(!E.ok)return E;const N=E.data,T=N?.results,O=N?.transactions,M=N?.data,G=Array.isArray(T)?T:Array.isArray(O)?O:Array.isArray(M)?M:Array.isArray(N)?N:[],I=typeof N?.count=="number"?N.count:Array.isArray(G)?G.length:0,q=G.map((ne,te)=>{const Y=ne,D=Y.amount_teo??Y.amount??Y.value??0;return{id:Y.id??Y.tx_id??te,type:Y.type??Y.transaction_type??Y.kind??"unknown",amount_teo:typeof D=="number"?D:Number(D??0),description:Y.description??Y.note??Y.notes??Y.memo??null,created_at:Y.created_at??Y.timestamp??new Date().toISOString(),reference:Y.reference??Y.tx_hash??Y.hash??null,...Y}}),R=N?.next,P=N?.previous,B=typeof R=="string"?R:null,K=typeof P=="string"?P:null;return{ok:!0,status:E.status,data:{count:I,next:B,previous:K,results:q}}}catch(S){return{ok:!1,status:0,error:S}}const c=await Ub(["/api/v1/teocoin/transactions/","/api/v1/teocoin/transactions/history/","/api/v1/wallet/transactions/","/v1/teocoin/transactions/","/v1/teocoin/transactions/history/","/v1/wallet/transactions/","/v1/services/earnings/history/","/v1/users/me/wallet/transactions/","/api/v1/services/earnings/history/","/api/v1/users/me/wallet/transactions/"],{page:t,page_size:a,limit:a});if(!c.ok)return c;const u=c.data,f=u?.results,m=u?.transactions,p=u?.data,h=Array.isArray(f)?f:Array.isArray(m)?m:Array.isArray(p)?p:Array.isArray(u)?u:[],x=typeof u?.count=="number"?u.count:Array.isArray(h)?h.length:0,b=h.map((S,E)=>{const N=S,T=N.amount_teo??N.amount??N.value??0;return{id:N.id??N.tx_id??E,type:N.type??N.transaction_type??N.kind??"unknown",amount_teo:typeof T=="number"?T:Number(T??0),description:N.description??N.note??N.notes??N.memo??null,created_at:N.created_at??N.timestamp??new Date().toISOString(),reference:N.reference??N.tx_hash??N.hash??null,...N}}),y=u?.next,_=u?.previous,C=typeof y=="string"?y:null,j=typeof _=="string"?_:null;return{ok:!0,status:c.status,data:{count:x,next:C,previous:j,results:b}}}const fc=Bb,Hb=H.createContext(void 0),zc=()=>{const t=v.useContext(Hb);return t||{booting:!1,isAuthenticated:!1,role:null,isTeacher:!1,pendingTeoCount:0,setPendingTeoCount:a=>{},login:async()=>!1,logout:()=>{},refreshRole:async()=>{},redirectAfterAuth:()=>{},setSession:()=>{},postAuth:async()=>{}}};async function Gv(t,a,r){const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a??{})});let c;try{c=await o.json()}catch(u){console.debug("[Auth] httpJSON parse failed",u)}return{ok:o.ok,status:o.status,data:c}}function nC({children:t}){const[{booting:a,isAuthenticated:r,role:o},c]=v.useState({booting:!0,isAuthenticated:!!Fv(),role:Xi()}),u=$t(),f=dn(),m=H.useCallback(E=>{try{const T=new URLSearchParams(f.search).get("redirect"),O=f.state?.from?.pathname,M=E??o;u(T||O||(M==="admin"?"/admin":M==="teacher"?"/teacher":"/dashboard"),{replace:!0})}catch(N){console.debug("[Auth] redirectAfterAuth failed",N),u("/dashboard",{replace:!0})}},[f.search,f.state,u,o]);v.useEffect(()=>{(async()=>{const E=Fv();if(!E){c({booting:!1,isAuthenticated:!1,role:null});return}let N=Xi();if(!N)try{const T=await fetch(Qi.role,{headers:{Authorization:`Bearer ${E.access}`}});T.ok&&(N=(await T.json())?.role??N)}catch(T){console.debug("[Auth] profile sync failed inner",T)}try{const T=await Vv();if(T){const O=await fc(),M=O.ok?O.data.balance_teo??0:0,G=T,I={id:G?.id?String(G.id):T.username??T.email??"",name:T.username??(`${T.first_name??""} ${T.last_name??""}`.trim()||T.email||"User"),email:T.email??"",role:T.role??N??"student",tokens:Number.isFinite(Number(M))?Number(M):0,avatar:T.avatar??null,walletAddress:T.wallet_address??(O.ok?O.data.address??null:null)};try{localStorage.setItem("artlearn_user",JSON.stringify(I))}catch(q){console.debug("[Auth] save artlearn_user failed",q)}}}catch(T){console.debug("[Auth] profile sync failed",T)}c({booting:!1,isAuthenticated:!0,role:N})})()},[]);const p=H.useCallback(async({tokens:E,role:N,unverified:T=!1})=>{if(E)try{$v(E),console.debug("[Auth] postAuth: tokens saved")}catch(M){console.debug("[Auth] postAuth: saveTokens failed",M)}const O=N??Xi();c({booting:!1,isAuthenticated:!T,role:O});try{const M=await Vv();if(M){const G=await fc(),I=G.ok?G.data.balance_teo??0:0,q=M,R={id:q?.id?String(q.id):M.username??M.email??"",name:M.username??(`${M.first_name??""} ${M.last_name??""}`.trim()||M.email||"User"),email:M.email??"",role:M.role??O??"student",tokens:Number.isFinite(Number(I))?Number(I):0,avatar:M.avatar??null,walletAddress:M.wallet_address??(G.ok?G.data.address??null:null)};try{localStorage.setItem("artlearn_user",JSON.stringify(R))}catch(P){console.debug("[Auth] save artlearn_user failed",P)}}}catch(M){console.debug("[Auth] postAuth profile sync failed",M)}if(T)try{u("/verify-email/sent",{replace:!0});return}catch(M){console.debug("[Auth] boot role fetch failed",M)}try{console.debug("[Auth] postAuth: redirecting for role",O),m(O)}catch(M){console.debug("[Auth] login: role fetch failed",M)}},[u,m]),h=H.useCallback(async(E,N)=>{let T=await Gv(Qi.token,{email:E,password:N});if(!T.ok&&T.status===400&&(T=await Gv(Qi.token,{username:E,password:N})),!T.ok||!T.data?.access||!T.data?.refresh)return!1;let M=Xi();try{const G=await fetch(Qi.role,{headers:{Authorization:`Bearer ${T.data.access}`}});G.ok&&(M=(await G.json())?.role??M)}catch(G){console.debug("[Auth] refreshRole failed",G)}try{await p({tokens:{access:T.data.access,refresh:T.data.refresh},role:M,unverified:!1})}catch(G){console.debug("[Auth] postAuth navigate/redirect failed",G)}return!0},[p]),x=H.useCallback(()=>{$2(),c({booting:!1,isAuthenticated:!1,role:null})},[]),b=H.useCallback(async()=>{const E=Pm();if(E)try{const N=await fetch(Qi.role,{headers:{Authorization:`Bearer ${E}`}});if(N.ok){const T=await N.json();c(O=>({...O,role:T?.role??O.role}))}}catch(N){console.debug("[Auth] redirectAfterAuth navigate failed",N)}},[]),y=H.useCallback((E,N)=>{try{$v(E)}catch(O){console.debug("[Auth] login role fetch failed",O)}const T=N??Xi();c({booting:!1,isAuthenticated:!0,role:T})},[]),_=v.useMemo(()=>({booting:a,isAuthenticated:r,role:o,isTeacher:o==="teacher"||o==="admin",pendingTeoCount:0,setPendingTeoCount:E=>j(E),login:h,logout:x,refreshRole:b,redirectAfterAuth:m,setSession:y,postAuth:p}),[a,r,o,m,h,x,b,y,p]),[C,j]=v.useState(0),S=v.useMemo(()=>({..._,pendingTeoCount:C,setPendingTeoCount:j}),[_,C]);return s.jsx(Hb.Provider,{value:S,children:t})}function es(){const t=zc(),[a,r]=H.useState(()=>{try{const p=localStorage.getItem("artlearn_user");return p?JSON.parse(p):null}catch{return null}});return H.useEffect(()=>{try{const p=localStorage.getItem("artlearn_user");r(p?JSON.parse(p):null)}catch{r(null)}},[t.isAuthenticated]),{user:a,login:async(p,h)=>{const x=await t.login(p,h);try{const b=localStorage.getItem("artlearn_user");b&&r(JSON.parse(b))}catch(b){console.debug("[FigmaShim] login read local user failed",b)}return x},logout:()=>{t.logout(),r(null);try{localStorage.removeItem("artlearn_user")}catch(p){console.debug("[FigmaShim] logout remove user failed",p)}},signup:async(p,h,x,b)=>{const y=`${"http://127.0.0.1:8000/api".replace(/\/+$/,"")}/v1/register/`;try{const C=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,email:h,password:x,role:b})}),j=await C.text();let S;try{S=j?JSON.parse(j):void 0}catch{S=j}if(console.debug("[FigmaShim] register response",C.status,S),C.ok){if(await t.login(h,x)){try{localStorage.setItem("artlearn_user",JSON.stringify({id:S.user.id,name:S.user.username,email:S.user.email,role:S.user.role,tokens:b==="teacher"?500:50}))}catch(N){console.debug("[FigmaShim] save backend user failed",N)}return!0}if(typeof t.postAuth=="function")try{return await t.postAuth({role:S.user.role,unverified:!0}),!0}catch(N){console.debug("[FigmaShim] postAuth(unverified) failed",N)}return!1}}catch(C){console.debug("[FigmaShim] register call failed, falling back to demo shim",C)}const _={id:String(Date.now()),name:p,email:h,role:b,tokens:b==="teacher"?500:50};try{localStorage.setItem("artlearn_user",JSON.stringify(_))}catch(C){console.debug("[FigmaShim] signup save local user failed",C)}r(_);try{const C=btoa(JSON.stringify({alg:"none"})),j=btoa(JSON.stringify({role:_.role})),E={access:`${C}.${j}.sig`,refresh:String(Date.now())};if(typeof t.postAuth=="function")try{console.debug("[FigmaShim] signup: calling postAuth (fallback)",_.role),await t.postAuth({tokens:E,role:_.role,unverified:!1}),console.debug("[FigmaShim] signup: postAuth returned (fallback)")}catch(N){console.debug("[FigmaShim] postAuth failed (fallback)",N)}else typeof t.setSession=="function"&&t.setSession(E,_.role),typeof t.redirectAfterAuth=="function"&&t.redirectAfterAuth(_.role)}catch(C){console.debug("[FigmaShim] signup fallback tokens failed",C)}return!0},connectWallet:async()=>{if(typeof window<"u"&&window.ethereum)try{const p=window.ethereum;if(!p)return!1;const h=await p.request({method:"eth_requestAccounts"});if(h&&h.length>0&&a){const x={...a,walletAddress:h[0]};r(x);try{localStorage.setItem("artlearn_user",JSON.stringify(x))}catch(b){console.debug("[FigmaShim] connectWallet: save user failed",b)}return!0}}catch(p){console.debug("[FigmaShim] connectWallet failed",p)}return!1},updateTokens:p=>{if(a){const h={...a,tokens:a.tokens+p};r(h);try{localStorage.setItem("artlearn_user",JSON.stringify(h))}catch(x){console.debug("[FigmaShim] updateTokens save failed",x)}}},isAuthenticated:t.isAuthenticated,isTeacher:t.isTeacher}}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,o)=>o?o.toUpperCase():r.toLowerCase()),Yv=t=>{const a=aC(t);return a.charAt(0).toUpperCase()+a.slice(1)},$b=(...t)=>t.filter((a,r,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===r).join(" ").trim(),rC=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=v.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:f,...m},p)=>v.createElement("svg",{ref:p,...iC,width:a,height:a,stroke:t,strokeWidth:o?Number(r)*24/Number(a):r,className:$b("lucide",c),...!u&&!rC(m)&&{"aria-hidden":"true"},...m},[...f.map(([h,x])=>v.createElement(h,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,a)=>{const r=v.forwardRef(({className:o,...c},u)=>v.createElement(oC,{ref:u,iconNode:a,className:$b(`lucide-${sC(Yv(t))}`,`lucide-${t}`,o),...c}));return r.displayName=Yv(t),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bm=_e("arrow-left",lC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fb=_e("award",cC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dC=_e("bell",uC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mn=_e("book-open",fC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hC=_e("calendar",mC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gC=_e("check",pC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qb=_e("chevron-down",xC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yC=_e("chevron-up",vC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jC=_e("circle-alert",bC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vs=_e("circle-check-big",wC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lo=_e("clock",NC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_C=_e("copy",SC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],co=_e("eye",CC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hm=_e("file-text",EC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],uo=_e("graduation-cap",AC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],RC=_e("heart",TC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],MC=_e("house",kC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],DC=_e("lightbulb",OC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],LC=_e("link",zC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jf=_e("lock",PC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BC=_e("log-out",UC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$C=_e("map-pin",HC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ib=_e("message-circle",FC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Kv=_e("monitor",qC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qv=_e("moon",IC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],mc=_e("palette",VC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],YC=_e("panel-left",GC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xv=_e("pen-line",KC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],em=_e("play",QC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sc=_e("plus",XC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZC=_e("save",WC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eE=_e("search",JC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vb=_e("settings",tE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lc=_e("sparkles",nE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tm=_e("square-pen",sE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mt=_e("star",aE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wv=_e("sun",rE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Aa=_e("target",iE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lE=_e("trash-2",oE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ac=_e("trending-up",cE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ro=_e("trophy",uE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pc=_e("upload",dE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],io=_e("user-check",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gb=_e("user",mE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pt=_e("users",hE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],fo=_e("wallet",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yb=_e("x",gE);function Zv(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Uc(...t){return a=>{let r=!1;const o=t.map(c=>{const u=Zv(c,a);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let c=0;c<o.length;c++){const u=o[c];typeof u=="function"?u():Zv(t[c],null)}}}}function Ge(...t){return v.useCallback(Uc(...t),t)}function Ta(t){const a=xE(t),r=v.forwardRef((o,c)=>{const{children:u,...f}=o,m=v.Children.toArray(u),p=m.find(yE);if(p){const h=p.props.children,x=m.map(b=>b===p?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:b);return s.jsx(a,{...f,ref:c,children:v.isValidElement(h)?v.cloneElement(h,void 0,x):null})}return s.jsx(a,{...f,ref:c,children:u})});return r.displayName=`${t}.Slot`,r}var Pa=Ta("Slot");function xE(t){const a=v.forwardRef((r,o)=>{const{children:c,...u}=r;if(v.isValidElement(c)){const f=jE(c),m=bE(u,c.props);return c.type!==v.Fragment&&(m.ref=o?Uc(o,f):f),v.cloneElement(c,m)}return v.Children.count(c)>1?v.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var Kb=Symbol("radix.slottable");function vE(t){const a=({children:r})=>s.jsx(s.Fragment,{children:r});return a.displayName=`${t}.Slottable`,a.__radixId=Kb,a}function yE(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kb}function bE(t,a){const r={...a};for(const o in a){const c=t[o],u=a[o];/^on[A-Z]/.test(o)?c&&u?r[o]=(...m)=>{const p=u(...m);return c(...m),p}:c&&(r[o]=c):o==="style"?r[o]={...c,...u}:o==="className"&&(r[o]=[c,u].filter(Boolean).join(" "))}return{...t,...r}}function jE(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Qb(t){var a,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(a=0;a<c;a++)t[a]&&(r=Qb(t[a]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function Xb(){for(var t,a,r=0,o="",c=arguments.length;r<c;r++)(t=arguments[r])&&(a=Qb(t))&&(o&&(o+=" "),o+=a);return o}const Jv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ey=Xb,$m=(t,a)=>r=>{var o;if(a?.variants==null)return ey(t,r?.class,r?.className);const{variants:c,defaultVariants:u}=a,f=Object.keys(c).map(h=>{const x=r?.[h],b=u?.[h];if(x===null)return null;const y=Jv(x)||Jv(b);return c[h][y]}),m=r&&Object.entries(r).reduce((h,x)=>{let[b,y]=x;return y===void 0||(h[b]=y),h},{}),p=a==null||(o=a.compoundVariants)===null||o===void 0?void 0:o.reduce((h,x)=>{let{class:b,className:y,..._}=x;return Object.entries(_).every(C=>{let[j,S]=C;return Array.isArray(S)?S.includes({...u,...m}[j]):{...u,...m}[j]===S})?[...h,b,y]:h},[]);return ey(t,f,p,r?.class,r?.className)},Tf=768;function wE(){const[t,a]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Tf-1}px)`),o=()=>{a(window.innerWidth<Tf)};return r.addEventListener("change",o),a(window.innerWidth<Tf),()=>r.removeEventListener("change",o)},[]),!!t}const Fm="-",NE=t=>{const a=_E(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:f=>{const m=f.split(Fm);return m[0]===""&&m.length!==1&&m.shift(),Wb(m,a)||SE(f)},getConflictingClassGroupIds:(f,m)=>{const p=r[f]||[];return m&&o[f]?[...p,...o[f]]:p}}},Wb=(t,a)=>{if(t.length===0)return a.classGroupId;const r=t[0],o=a.nextPart.get(r),c=o?Wb(t.slice(1),o):void 0;if(c)return c;if(a.validators.length===0)return;const u=t.join(Fm);return a.validators.find(({validator:f})=>f(u))?.classGroupId},ty=/^\[(.+)\]$/,SE=t=>{if(ty.test(t)){const a=ty.exec(t)[1],r=a?.substring(0,a.indexOf(":"));if(r)return"arbitrary.."+r}},_E=t=>{const{theme:a,prefix:r}=t,o={nextPart:new Map,validators:[]};return EE(Object.entries(t.classGroups),r).forEach(([u,f])=>{nm(f,o,u,a)}),o},nm=(t,a,r,o)=>{t.forEach(c=>{if(typeof c=="string"){const u=c===""?a:ny(a,c);u.classGroupId=r;return}if(typeof c=="function"){if(CE(c)){nm(c(o),a,r,o);return}a.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([u,f])=>{nm(f,ny(a,u),r,o)})})},ny=(t,a)=>{let r=t;return a.split(Fm).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},CE=t=>t.isThemeGetter,EE=(t,a)=>a?t.map(([r,o])=>{const c=o.map(u=>typeof u=="string"?a+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([f,m])=>[a+f,m])):u);return[r,c]}):t,AE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,r=new Map,o=new Map;const c=(u,f)=>{r.set(u,f),a++,a>t&&(a=0,o=r,r=new Map)};return{get(u){let f=r.get(u);if(f!==void 0)return f;if((f=o.get(u))!==void 0)return c(u,f),f},set(u,f){r.has(u)?r.set(u,f):c(u,f)}}},Zb="!",TE=t=>{const{separator:a,experimentalParseClassName:r}=t,o=a.length===1,c=a[0],u=a.length,f=m=>{const p=[];let h=0,x=0,b;for(let S=0;S<m.length;S++){let E=m[S];if(h===0){if(E===c&&(o||m.slice(S,S+u)===a)){p.push(m.slice(x,S)),x=S+u;continue}if(E==="/"){b=S;continue}}E==="["?h++:E==="]"&&h--}const y=p.length===0?m:m.substring(x),_=y.startsWith(Zb),C=_?y.substring(1):y,j=b&&b>x?b-x:void 0;return{modifiers:p,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:j}};return r?m=>r({className:m,parseClassName:f}):f},RE=t=>{if(t.length<=1)return t;const a=[];let r=[];return t.forEach(o=>{o[0]==="["?(a.push(...r.sort(),o),r=[]):r.push(o)}),a.push(...r.sort()),a},kE=t=>({cache:AE(t.cacheSize),parseClassName:TE(t),...NE(t)}),ME=/\s+/,OE=(t,a)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:c}=a,u=[],f=t.trim().split(ME);let m="";for(let p=f.length-1;p>=0;p-=1){const h=f[p],{modifiers:x,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:_}=r(h);let C=!!_,j=o(C?y.substring(0,_):y);if(!j){if(!C){m=h+(m.length>0?" "+m:m);continue}if(j=o(y),!j){m=h+(m.length>0?" "+m:m);continue}C=!1}const S=RE(x).join(":"),E=b?S+Zb:S,N=E+j;if(u.includes(N))continue;u.push(N);const T=c(j,C);for(let O=0;O<T.length;++O){const M=T[O];u.push(E+M)}m=h+(m.length>0?" "+m:m)}return m};function DE(){let t=0,a,r,o="";for(;t<arguments.length;)(a=arguments[t++])&&(r=Jb(a))&&(o&&(o+=" "),o+=r);return o}const Jb=t=>{if(typeof t=="string")return t;let a,r="";for(let o=0;o<t.length;o++)t[o]&&(a=Jb(t[o]))&&(r&&(r+=" "),r+=a);return r};function zE(t,...a){let r,o,c,u=f;function f(p){const h=a.reduce((x,b)=>b(x),t());return r=kE(h),o=r.cache.get,c=r.cache.set,u=m,m(p)}function m(p){const h=o(p);if(h)return h;const x=OE(p,r);return c(p,x),x}return function(){return u(DE.apply(null,arguments))}}const tt=t=>{const a=r=>r[t]||[];return a.isThemeGetter=!0,a},e0=/^\[(?:([a-z-]+):)?(.+)\]$/i,LE=/^\d+\/\d+$/,PE=new Set(["px","full","screen"]),UE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$E=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>kr(t)||PE.has(t)||LE.test(t),Xs=t=>Fr(t,"length",XE),kr=t=>!!t&&!Number.isNaN(Number(t)),Rf=t=>Fr(t,"number",kr),Wi=t=>!!t&&Number.isInteger(Number(t)),qE=t=>t.endsWith("%")&&kr(t.slice(0,-1)),Te=t=>e0.test(t),Ws=t=>UE.test(t),IE=new Set(["length","size","percentage"]),VE=t=>Fr(t,IE,t0),GE=t=>Fr(t,"position",t0),YE=new Set(["image","url"]),KE=t=>Fr(t,YE,ZE),QE=t=>Fr(t,"",WE),Zi=()=>!0,Fr=(t,a,r)=>{const o=e0.exec(t);return o?o[1]?typeof a=="string"?o[1]===a:a.has(o[1]):r(o[2]):!1},XE=t=>BE.test(t)&&!HE.test(t),t0=()=>!1,WE=t=>$E.test(t),ZE=t=>FE.test(t),JE=()=>{const t=tt("colors"),a=tt("spacing"),r=tt("blur"),o=tt("brightness"),c=tt("borderColor"),u=tt("borderRadius"),f=tt("borderSpacing"),m=tt("borderWidth"),p=tt("contrast"),h=tt("grayscale"),x=tt("hueRotate"),b=tt("invert"),y=tt("gap"),_=tt("gradientColorStops"),C=tt("gradientColorStopPositions"),j=tt("inset"),S=tt("margin"),E=tt("opacity"),N=tt("padding"),T=tt("saturate"),O=tt("scale"),M=tt("sepia"),G=tt("skew"),I=tt("space"),q=tt("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Te,a],K=()=>[Te,a],ne=()=>["",xs,Xs],te=()=>["auto",kr,Te],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Te],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[kr,Te];return{cacheSize:500,separator:":",theme:{colors:[Zi],spacing:[xs,Xs],blur:["none","",Ws,Te],brightness:$(),borderColor:[t],borderRadius:["none","","full",Ws,Te],borderSpacing:K(),borderWidth:ne(),contrast:$(),grayscale:ae(),hueRotate:$(),invert:ae(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[qE,Xs],inset:B(),margin:B(),opacity:$(),padding:K(),saturate:$(),scale:$(),sepia:ae(),skew:$(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Ws]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Te]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wi,Te]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Wi,Te]}],"grid-cols":[{"grid-cols":[Zi]}],"col-start-end":[{col:["auto",{span:["full",Wi,Te]},Te]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Zi]}],"row-start-end":[{row:["auto",{span:[Wi,Te]},Te]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,a]}],"min-w":[{"min-w":[Te,a,"min","max","fit"]}],"max-w":[{"max-w":[Te,a,"none","full","min","max","fit","prose",{screen:[Ws]},Ws]}],h:[{h:[Te,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,a,"auto","min","max","fit"]}],"font-size":[{text:["base",Ws,Xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rf]}],"font-family":[{font:[Zi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",kr,Rf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,Xs]}],"underline-offset":[{"underline-offset":["auto",xs,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),GE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:D()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[xs,Te]}],"outline-w":[{outline:[xs,Xs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[xs,Xs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ws,QE]}],"shadow-color":[{shadow:[Zi]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ws,Te]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[b]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Wi,Te]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,Xs,Rf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eA=zE(JE);function ge(...t){return eA(Xb(t))}const tA=$m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{primary:"bg-primary text-primary-foreground hover:bg-primary/90",default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",md:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ye=v.forwardRef(({className:t,variant:a,size:r,asChild:o=!1,...c},u)=>{const f=o?Pa:"button";return s.jsx(f,{"data-slot":"button",className:ge(tA({variant:a,size:r,className:t})),ref:u,...c})});ye.displayName="Button";const Lt=v.forwardRef(({className:t,type:a,invalid:r,success:o,hintId:c,...u},f)=>{const m=r?"aria-invalid:border-destructive aria-invalid:ring-destructive":o?"border-accent focus:border-accent":"border-input",p=u.disabled?"disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 bg-input-background/60 text-muted-foreground border-border/60":"";return s.jsx("input",{ref:f,type:a,"data-slot":"input","aria-invalid":r?!0:void 0,"aria-describedby":c,className:ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 flex h-9 w-full min-w-0 rounded-md px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",m,p,t),...u})});Lt.displayName="Input";var nA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=nA.reduce((t,a)=>{const r=Ta(`Primitive.${a}`),o=v.forwardRef((c,u)=>{const{asChild:f,...m}=c,p=f?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(p,{...m,ref:u})});return o.displayName=`Primitive.${a}`,{...t,[a]:o}},{});function n0(t,a){t&&wo.flushSync(()=>t.dispatchEvent(a))}function he(t,a,{checkForDefaultPrevented:r=!0}={}){return function(c){if(t?.(c),r===!1||!c.defaultPrevented)return a?.(c)}}function sA(t,a){const r=v.createContext(a),o=u=>{const{children:f,...m}=u,p=v.useMemo(()=>m,Object.values(m));return s.jsx(r.Provider,{value:p,children:f})};o.displayName=t+"Provider";function c(u){const f=v.useContext(r);if(f)return f;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${t}\``)}return[o,c]}function Pn(t,a=[]){let r=[];function o(u,f){const m=v.createContext(f),p=r.length;r=[...r,f];const h=b=>{const{scope:y,children:_,...C}=b,j=y?.[t]?.[p]||m,S=v.useMemo(()=>C,Object.values(C));return s.jsx(j.Provider,{value:S,children:_})};h.displayName=u+"Provider";function x(b,y){const _=y?.[t]?.[p]||m,C=v.useContext(_);if(C)return C;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${u}\``)}return[h,x]}const c=()=>{const u=r.map(f=>v.createContext(f));return function(m){const p=m?.[t]||u;return v.useMemo(()=>({[`__scope${t}`]:{...m,[t]:p}}),[m,p])}};return c.scopeName=t,[o,aA(c,...a)]}function aA(...t){const a=t[0];if(t.length===1)return a;const r=()=>{const o=t.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const f=o.reduce((m,{useScope:p,scopeName:h})=>{const b=p(u)[`__scope${h}`];return{...m,...b}},{});return v.useMemo(()=>({[`__scope${a.scopeName}`]:f}),[f])}};return r.scopeName=a.scopeName,r}var jt=globalThis?.document?v.useLayoutEffect:()=>{},rA=yb[" useId ".trim().toString()]||(()=>{}),iA=0;function Rn(t){const[a,r]=v.useState(rA());return jt(()=>{r(o=>o??String(iA++))},[t]),a?`radix-${a}`:""}var oA=yb[" useInsertionEffect ".trim().toString()]||jt;function Ra({prop:t,defaultProp:a,onChange:r=()=>{},caller:o}){const[c,u,f]=lA({defaultProp:a,onChange:r}),m=t!==void 0,p=m?t:c;{const x=v.useRef(t!==void 0);v.useEffect(()=>{const b=x.current;b!==m&&console.warn(`${o} is changing from ${b?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=m},[m,o])}const h=v.useCallback(x=>{if(m){const b=cA(x)?x(t):x;b!==t&&f.current?.(b)}else u(x)},[m,t,u,f]);return[p,h]}function lA({defaultProp:t,onChange:a}){const[r,o]=v.useState(t),c=v.useRef(r),u=v.useRef(a);return oA(()=>{u.current=a},[a]),v.useEffect(()=>{c.current!==r&&(u.current?.(r),c.current=r)},[r,c]),[r,o,u]}function cA(t){return typeof t=="function"}function On(t){const a=v.useRef(t);return v.useEffect(()=>{a.current=t}),v.useMemo(()=>(...r)=>a.current?.(...r),[])}function uA(t,a=globalThis?.document){const r=On(t);v.useEffect(()=>{const o=c=>{c.key==="Escape"&&r(c)};return a.addEventListener("keydown",o,{capture:!0}),()=>a.removeEventListener("keydown",o,{capture:!0})},[r,a])}var dA="DismissableLayer",sm="dismissableLayer.update",fA="dismissableLayer.pointerDownOutside",mA="dismissableLayer.focusOutside",sy,s0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),No=v.forwardRef((t,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,onDismiss:m,...p}=t,h=v.useContext(s0),[x,b]=v.useState(null),y=x?.ownerDocument??globalThis?.document,[,_]=v.useState({}),C=Ge(a,I=>b(I)),j=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=j.indexOf(S),N=x?j.indexOf(x):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,O=N>=E,M=gA(I=>{const q=I.target,R=[...h.branches].some(P=>P.contains(q));!O||R||(c?.(I),f?.(I),I.defaultPrevented||m?.())},y),G=xA(I=>{const q=I.target;[...h.branches].some(P=>P.contains(q))||(u?.(I),f?.(I),I.defaultPrevented||m?.())},y);return uA(I=>{N===h.layers.size-1&&(o?.(I),!I.defaultPrevented&&m&&(I.preventDefault(),m()))},y),v.useEffect(()=>{if(x)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(sy=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),ay(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=sy)}},[x,y,r,h]),v.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),ay())},[x,h]),v.useEffect(()=>{const I=()=>_({});return document.addEventListener(sm,I),()=>document.removeEventListener(sm,I)},[]),s.jsx(Ee.div,{...p,ref:C,style:{pointerEvents:T?O?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,G.onFocusCapture),onBlurCapture:he(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,M.onPointerDownCapture)})});No.displayName=dA;var hA="DismissableLayerBranch",pA=v.forwardRef((t,a)=>{const r=v.useContext(s0),o=v.useRef(null),c=Ge(a,o);return v.useEffect(()=>{const u=o.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),s.jsx(Ee.div,{...t,ref:c})});pA.displayName=hA;function gA(t,a=globalThis?.document){const r=On(t),o=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const u=m=>{if(m.target&&!o.current){let p=function(){a0(fA,r,h,{discrete:!0})};const h={originalEvent:m};m.pointerType==="touch"?(a.removeEventListener("click",c.current),c.current=p,a.addEventListener("click",c.current,{once:!0})):p()}else a.removeEventListener("click",c.current);o.current=!1},f=window.setTimeout(()=>{a.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(f),a.removeEventListener("pointerdown",u),a.removeEventListener("click",c.current)}},[a,r]),{onPointerDownCapture:()=>o.current=!0}}function xA(t,a=globalThis?.document){const r=On(t),o=v.useRef(!1);return v.useEffect(()=>{const c=u=>{u.target&&!o.current&&a0(mA,r,{originalEvent:u},{discrete:!1})};return a.addEventListener("focusin",c),()=>a.removeEventListener("focusin",c)},[a,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ay(){const t=new CustomEvent(sm);document.dispatchEvent(t)}function a0(t,a,r,{discrete:o}){const c=r.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});a&&c.addEventListener(t,a,{once:!0}),o?n0(c,u):c.dispatchEvent(u)}var kf="focusScope.autoFocusOnMount",Mf="focusScope.autoFocusOnUnmount",ry={bubbles:!1,cancelable:!0},vA="FocusScope",Bc=v.forwardRef((t,a)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:u,...f}=t,[m,p]=v.useState(null),h=On(c),x=On(u),b=v.useRef(null),y=Ge(a,j=>p(j)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(o){let j=function(T){if(_.paused||!m)return;const O=T.target;m.contains(O)?b.current=O:Zs(b.current,{select:!0})},S=function(T){if(_.paused||!m)return;const O=T.relatedTarget;O!==null&&(m.contains(O)||Zs(b.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Zs(m)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const N=new MutationObserver(E);return m&&N.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),N.disconnect()}}},[o,m,_.paused]),v.useEffect(()=>{if(m){oy.add(_);const j=document.activeElement;if(!m.contains(j)){const E=new CustomEvent(kf,ry);m.addEventListener(kf,h),m.dispatchEvent(E),E.defaultPrevented||(yA(SA(r0(m)),{select:!0}),document.activeElement===j&&Zs(m))}return()=>{m.removeEventListener(kf,h),setTimeout(()=>{const E=new CustomEvent(Mf,ry);m.addEventListener(Mf,x),m.dispatchEvent(E),E.defaultPrevented||Zs(j??document.body,{select:!0}),m.removeEventListener(Mf,x),oy.remove(_)},0)}}},[m,h,x,_]);const C=v.useCallback(j=>{if(!r&&!o||_.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,E=document.activeElement;if(S&&E){const N=j.currentTarget,[T,O]=bA(N);T&&O?!j.shiftKey&&E===O?(j.preventDefault(),r&&Zs(T,{select:!0})):j.shiftKey&&E===T&&(j.preventDefault(),r&&Zs(O,{select:!0})):E===N&&j.preventDefault()}},[r,o,_.paused]);return s.jsx(Ee.div,{tabIndex:-1,...f,ref:y,onKeyDown:C})});Bc.displayName=vA;function yA(t,{select:a=!1}={}){const r=document.activeElement;for(const o of t)if(Zs(o,{select:a}),document.activeElement!==r)return}function bA(t){const a=r0(t),r=iy(a,t),o=iy(a.reverse(),t);return[r,o]}function r0(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function iy(t,a){for(const r of t)if(!jA(r,{upTo:a}))return r}function jA(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wA(t){return t instanceof HTMLInputElement&&"select"in t}function Zs(t,{select:a=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&wA(t)&&a&&t.select()}}var oy=NA();function NA(){let t=[];return{add(a){const r=t[0];a!==r&&r?.pause(),t=ly(t,a),t.unshift(a)},remove(a){t=ly(t,a),t[0]?.resume()}}}function ly(t,a){const r=[...t],o=r.indexOf(a);return o!==-1&&r.splice(o,1),r}function SA(t){return t.filter(a=>a.tagName!=="A")}var _A="Portal",So=v.forwardRef((t,a)=>{const{container:r,...o}=t,[c,u]=v.useState(!1);jt(()=>u(!0),[]);const f=r||c&&globalThis?.document?.body;return f?B2.createPortal(s.jsx(Ee.div,{...o,ref:a}),f):null});So.displayName=_A;function CA(t,a){return v.useReducer((r,o)=>a[r][o]??r,t)}var Un=t=>{const{present:a,children:r}=t,o=EA(a),c=typeof r=="function"?r({present:o.isPresent}):v.Children.only(r),u=Ge(o.ref,AA(c));return typeof r=="function"||o.isPresent?v.cloneElement(c,{ref:u}):null};Un.displayName="Presence";function EA(t){const[a,r]=v.useState(),o=v.useRef(null),c=v.useRef(t),u=v.useRef("none"),f=t?"mounted":"unmounted",[m,p]=CA(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Vl(o.current);u.current=m==="mounted"?h:"none"},[m]),jt(()=>{const h=o.current,x=c.current;if(x!==t){const y=u.current,_=Vl(h);t?p("MOUNT"):_==="none"||h?.display==="none"?p("UNMOUNT"):p(x&&y!==_?"ANIMATION_OUT":"UNMOUNT"),c.current=t}},[t,p]),jt(()=>{if(a){let h;const x=a.ownerDocument.defaultView??window,b=_=>{const j=Vl(o.current).includes(CSS.escape(_.animationName));if(_.target===a&&j&&(p("ANIMATION_END"),!c.current)){const S=a.style.animationFillMode;a.style.animationFillMode="forwards",h=x.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=S)})}},y=_=>{_.target===a&&(u.current=Vl(o.current))};return a.addEventListener("animationstart",y),a.addEventListener("animationcancel",b),a.addEventListener("animationend",b),()=>{x.clearTimeout(h),a.removeEventListener("animationstart",y),a.removeEventListener("animationcancel",b),a.removeEventListener("animationend",b)}}else p("ANIMATION_END")},[a,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:v.useCallback(h=>{o.current=h?getComputedStyle(h):null,r(h)},[])}}function Vl(t){return t?.animationName||"none"}function AA(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Of=0;function qm(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cy()),document.body.insertAdjacentElement("beforeend",t[1]??cy()),Of++,()=>{Of===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Of--}},[])}function cy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gn=function(){return Gn=Object.assign||function(a){for(var r,o=1,c=arguments.length;o<c;o++){r=arguments[o];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(a[u]=r[u])}return a},Gn.apply(this,arguments)};function i0(t,a){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(t);c<o.length;c++)a.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(t,o[c])&&(r[o[c]]=t[o[c]]);return r}function TA(t,a,r){if(r||arguments.length===2)for(var o=0,c=a.length,u;o<c;o++)(u||!(o in a))&&(u||(u=Array.prototype.slice.call(a,0,o)),u[o]=a[o]);return t.concat(u||Array.prototype.slice.call(a))}var rc="right-scroll-bar-position",ic="width-before-scroll-bar",RA="with-scroll-bars-hidden",kA="--removed-body-scroll-bar-size";function Df(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function MA(t,a){var r=v.useState(function(){return{value:t,callback:a,facade:{get current(){return r.value},set current(o){var c=r.value;c!==o&&(r.value=o,r.callback(o,c))}}}})[0];return r.callback=a,r.facade}var OA=typeof window<"u"?v.useLayoutEffect:v.useEffect,uy=new WeakMap;function DA(t,a){var r=MA(null,function(o){return t.forEach(function(c){return Df(c,o)})});return OA(function(){var o=uy.get(r);if(o){var c=new Set(o),u=new Set(t),f=r.current;c.forEach(function(m){u.has(m)||Df(m,null)}),u.forEach(function(m){c.has(m)||Df(m,f)})}uy.set(r,t)},[t]),r}function zA(t){return t}function LA(t,a){a===void 0&&(a=zA);var r=[],o=!1,c={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var f=a(u,o);return r.push(f),function(){r=r.filter(function(m){return m!==f})}},assignSyncMedium:function(u){for(o=!0;r.length;){var f=r;r=[],f.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){o=!0;var f=[];if(r.length){var m=r;r=[],m.forEach(u),f=r}var p=function(){var x=f;f=[],x.forEach(u)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(x){f.push(x),h()},filter:function(x){return f=f.filter(x),r}}}};return c}function PA(t){t===void 0&&(t={});var a=LA(null);return a.options=Gn({async:!0,ssr:!1},t),a}var o0=function(t){var a=t.sideCar,r=i0(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=a.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,Gn({},r))};o0.isSideCarExport=!0;function UA(t,a){return t.useMedium(a),o0}var l0=PA(),zf=function(){},Hc=v.forwardRef(function(t,a){var r=v.useRef(null),o=v.useState({onScrollCapture:zf,onWheelCapture:zf,onTouchMoveCapture:zf}),c=o[0],u=o[1],f=t.forwardProps,m=t.children,p=t.className,h=t.removeScrollBar,x=t.enabled,b=t.shards,y=t.sideCar,_=t.noRelative,C=t.noIsolation,j=t.inert,S=t.allowPinchZoom,E=t.as,N=E===void 0?"div":E,T=t.gapMode,O=i0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,G=DA([r,a]),I=Gn(Gn({},O),c);return v.createElement(v.Fragment,null,x&&v.createElement(M,{sideCar:l0,removeScrollBar:h,shards:b,noRelative:_,noIsolation:C,inert:j,setCallbacks:u,allowPinchZoom:!!S,lockRef:r,gapMode:T}),f?v.cloneElement(v.Children.only(m),Gn(Gn({},I),{ref:G})):v.createElement(N,Gn({},I,{className:p,ref:G}),m))});Hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hc.classNames={fullWidth:ic,zeroRight:rc};var BA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=BA();return a&&t.setAttribute("nonce",a),t}function $A(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function FA(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var qA=function(){var t=0,a=null;return{add:function(r){t==0&&(a=HA())&&($A(a,r),FA(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},IA=function(){var t=qA();return function(a,r){v.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&r])}},c0=function(){var t=IA(),a=function(r){var o=r.styles,c=r.dynamic;return t(o,c),null};return a},VA={left:0,top:0,right:0,gap:0},Lf=function(t){return parseInt(t||"",10)||0},GA=function(t){var a=window.getComputedStyle(document.body),r=a[t==="padding"?"paddingLeft":"marginLeft"],o=a[t==="padding"?"paddingTop":"marginTop"],c=a[t==="padding"?"paddingRight":"marginRight"];return[Lf(r),Lf(o),Lf(c)]},YA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VA;var a=GA(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,o-r+a[2]-a[0])}},KA=c0(),Mr="data-scroll-locked",QA=function(t,a,r,o){var c=t.left,u=t.top,f=t.right,m=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(RA,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(m,"px ").concat(o,`;
  }
  body[`).concat(Mr,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rc,` {
    right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(ic,` {
    margin-right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Mr,`] {
    `).concat(kA,": ").concat(m,`px;
  }
`)},dy=function(){var t=parseInt(document.body.getAttribute(Mr)||"0",10);return isFinite(t)?t:0},XA=function(){v.useEffect(function(){return document.body.setAttribute(Mr,(dy()+1).toString()),function(){var t=dy()-1;t<=0?document.body.removeAttribute(Mr):document.body.setAttribute(Mr,t.toString())}},[])},WA=function(t){var a=t.noRelative,r=t.noImportant,o=t.gapMode,c=o===void 0?"margin":o;XA();var u=v.useMemo(function(){return YA(c)},[c]);return v.createElement(KA,{styles:QA(u,!a,c,r?"":"!important")})},am=!1;if(typeof window<"u")try{var Gl=Object.defineProperty({},"passive",{get:function(){return am=!0,!0}});window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{am=!1}var _r=am?{passive:!1}:!1,ZA=function(t){return t.tagName==="TEXTAREA"},u0=function(t,a){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZA(t)&&r[a]==="visible")},JA=function(t){return u0(t,"overflowY")},eT=function(t){return u0(t,"overflowX")},fy=function(t,a){var r=a.ownerDocument,o=a;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=d0(t,o);if(c){var u=f0(t,o),f=u[1],m=u[2];if(f>m)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},tT=function(t){var a=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[a,r,o]},nT=function(t){var a=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[a,r,o]},d0=function(t,a){return t==="v"?JA(a):eT(a)},f0=function(t,a){return t==="v"?tT(a):nT(a)},sT=function(t,a){return t==="h"&&a==="rtl"?-1:1},aT=function(t,a,r,o,c){var u=sT(t,window.getComputedStyle(a).direction),f=u*o,m=r.target,p=a.contains(m),h=!1,x=f>0,b=0,y=0;do{if(!m)break;var _=f0(t,m),C=_[0],j=_[1],S=_[2],E=j-S-u*C;(C||E)&&d0(t,m)&&(b+=E,y+=C);var N=m.parentNode;m=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!p&&m!==document.body||p&&(a.contains(m)||a===m));return(x&&Math.abs(b)<1||!x&&Math.abs(y)<1)&&(h=!0),h},Yl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},my=function(t){return[t.deltaX,t.deltaY]},hy=function(t){return t&&"current"in t?t.current:t},rT=function(t,a){return t[0]===a[0]&&t[1]===a[1]},iT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oT=0,Cr=[];function lT(t){var a=v.useRef([]),r=v.useRef([0,0]),o=v.useRef(),c=v.useState(oT++)[0],u=v.useState(c0)[0],f=v.useRef(t);v.useEffect(function(){f.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(c));var j=TA([t.lockRef.current],(t.shards||[]).map(hy),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(c))})}}},[t.inert,t.lockRef.current,t.shards]);var m=v.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var E=Yl(j),N=r.current,T="deltaX"in j?j.deltaX:N[0]-E[0],O="deltaY"in j?j.deltaY:N[1]-E[1],M,G=j.target,I=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in j&&I==="h"&&G.type==="range")return!1;var q=fy(I,G);if(!q)return!0;if(q?M=I:(M=I==="v"?"h":"v",q=fy(I,G)),!q)return!1;if(!o.current&&"changedTouches"in j&&(T||O)&&(o.current=M),!M)return!0;var R=o.current||M;return aT(R,S,j,R==="h"?T:O)},[]),p=v.useCallback(function(j){var S=j;if(!(!Cr.length||Cr[Cr.length-1]!==u)){var E="deltaY"in S?my(S):Yl(S),N=a.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&rT(M.delta,E)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var T=(f.current.shards||[]).map(hy).filter(Boolean).filter(function(M){return M.contains(S.target)}),O=T.length>0?m(S,T[0]):!f.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),h=v.useCallback(function(j,S,E,N){var T={name:j,delta:S,target:E,should:N,shadowParent:cT(E)};a.current.push(T),setTimeout(function(){a.current=a.current.filter(function(O){return O!==T})},1)},[]),x=v.useCallback(function(j){r.current=Yl(j),o.current=void 0},[]),b=v.useCallback(function(j){h(j.type,my(j),j.target,m(j,t.lockRef.current))},[]),y=v.useCallback(function(j){h(j.type,Yl(j),j.target,m(j,t.lockRef.current))},[]);v.useEffect(function(){return Cr.push(u),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:y}),document.addEventListener("wheel",p,_r),document.addEventListener("touchmove",p,_r),document.addEventListener("touchstart",x,_r),function(){Cr=Cr.filter(function(j){return j!==u}),document.removeEventListener("wheel",p,_r),document.removeEventListener("touchmove",p,_r),document.removeEventListener("touchstart",x,_r)}},[]);var _=t.removeScrollBar,C=t.inert;return v.createElement(v.Fragment,null,C?v.createElement(u,{styles:iT(c)}):null,_?v.createElement(WA,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cT(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const uT=UA(l0,lT);var $c=v.forwardRef(function(t,a){return v.createElement(Hc,Gn({},t,{ref:a,sideCar:uT}))});$c.classNames=Hc.classNames;var dT=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},Er=new WeakMap,Kl=new WeakMap,Ql={},Pf=0,m0=function(t){return t&&(t.host||m0(t.parentNode))},fT=function(t,a){return a.map(function(r){if(t.contains(r))return r;var o=m0(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},mT=function(t,a,r,o){var c=fT(a,Array.isArray(t)?t:[t]);Ql[r]||(Ql[r]=new WeakMap);var u=Ql[r],f=[],m=new Set,p=new Set(c),h=function(b){!b||m.has(b)||(m.add(b),h(b.parentNode))};c.forEach(h);var x=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(y){if(m.has(y))x(y);else try{var _=y.getAttribute(o),C=_!==null&&_!=="false",j=(Er.get(y)||0)+1,S=(u.get(y)||0)+1;Er.set(y,j),u.set(y,S),f.push(y),j===1&&C&&Kl.set(y,!0),S===1&&y.setAttribute(r,"true"),C||y.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return x(a),m.clear(),Pf++,function(){f.forEach(function(b){var y=Er.get(b)-1,_=u.get(b)-1;Er.set(b,y),u.set(b,_),y||(Kl.has(b)||b.removeAttribute(o),Kl.delete(b)),_||b.removeAttribute(r)}),Pf--,Pf||(Er=new WeakMap,Er=new WeakMap,Kl=new WeakMap,Ql={})}},Im=function(t,a,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),c=dT(t);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),mT(o,c,r,"aria-hidden")):function(){return null}},Fc="Dialog",[h0,tz]=Pn(Fc),[hT,Bn]=h0(Fc),p0=t=>{const{__scopeDialog:a,children:r,open:o,defaultOpen:c,onOpenChange:u,modal:f=!0}=t,m=v.useRef(null),p=v.useRef(null),[h,x]=Ra({prop:o,defaultProp:c??!1,onChange:u,caller:Fc});return s.jsx(hT,{scope:a,triggerRef:m,contentRef:p,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:h,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(b=>!b),[x]),modal:f,children:r})};p0.displayName=Fc;var g0="DialogTrigger",x0=v.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,c=Bn(g0,r),u=Ge(a,c.triggerRef);return s.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Ym(c.open),...o,ref:u,onClick:he(t.onClick,c.onOpenToggle)})});x0.displayName=g0;var Vm="DialogPortal",[pT,v0]=h0(Vm,{forceMount:void 0}),y0=t=>{const{__scopeDialog:a,forceMount:r,children:o,container:c}=t,u=Bn(Vm,a);return s.jsx(pT,{scope:a,forceMount:r,children:v.Children.map(o,f=>s.jsx(Un,{present:r||u.open,children:s.jsx(So,{asChild:!0,container:c,children:f})}))})};y0.displayName=Vm;var hc="DialogOverlay",b0=v.forwardRef((t,a)=>{const r=v0(hc,t.__scopeDialog),{forceMount:o=r.forceMount,...c}=t,u=Bn(hc,t.__scopeDialog);return u.modal?s.jsx(Un,{present:o||u.open,children:s.jsx(xT,{...c,ref:a})}):null});b0.displayName=hc;var gT=Ta("DialogOverlay.RemoveScroll"),xT=v.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,c=Bn(hc,r);return s.jsx($c,{as:gT,allowPinchZoom:!0,shards:[c.contentRef],children:s.jsx(Ee.div,{"data-state":Ym(c.open),...o,ref:a,style:{pointerEvents:"auto",...o.style}})})}),ka="DialogContent",j0=v.forwardRef((t,a)=>{const r=v0(ka,t.__scopeDialog),{forceMount:o=r.forceMount,...c}=t,u=Bn(ka,t.__scopeDialog);return s.jsx(Un,{present:o||u.open,children:u.modal?s.jsx(vT,{...c,ref:a}):s.jsx(yT,{...c,ref:a})})});j0.displayName=ka;var vT=v.forwardRef((t,a)=>{const r=Bn(ka,t.__scopeDialog),o=v.useRef(null),c=Ge(a,r.contentRef,o);return v.useEffect(()=>{const u=o.current;if(u)return Im(u)},[]),s.jsx(w0,{...t,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,u=>{u.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0;(f.button===2||m)&&u.preventDefault()}),onFocusOutside:he(t.onFocusOutside,u=>u.preventDefault())})}),yT=v.forwardRef((t,a)=>{const r=Bn(ka,t.__scopeDialog),o=v.useRef(!1),c=v.useRef(!1);return s.jsx(w0,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(o.current||r.triggerRef.current?.focus(),u.preventDefault()),o.current=!1,c.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(o.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=u.target;r.triggerRef.current?.contains(f)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),w0=v.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,...f}=t,m=Bn(ka,r),p=v.useRef(null),h=Ge(a,p);return qm(),s.jsxs(s.Fragment,{children:[s.jsx(Bc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:u,children:s.jsx(No,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Ym(m.open),...f,ref:h,onDismiss:()=>m.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bT,{titleId:m.titleId}),s.jsx(wT,{contentRef:p,descriptionId:m.descriptionId})]})]})}),Gm="DialogTitle",N0=v.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,c=Bn(Gm,r);return s.jsx(Ee.h2,{id:c.titleId,...o,ref:a})});N0.displayName=Gm;var S0="DialogDescription",_0=v.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,c=Bn(S0,r);return s.jsx(Ee.p,{id:c.descriptionId,...o,ref:a})});_0.displayName=S0;var C0="DialogClose",E0=v.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,c=Bn(C0,r);return s.jsx(Ee.button,{type:"button",...o,ref:a,onClick:he(t.onClick,()=>c.onOpenChange(!1))})});E0.displayName=C0;function Ym(t){return t?"open":"closed"}var A0="DialogTitleWarning",[nz,T0]=sA(A0,{contentName:ka,titleName:Gm,docsSlug:"dialog"}),bT=({titleId:t})=>{const a=T0(A0),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},jT="DialogDescriptionWarning",wT=({contentRef:t,descriptionId:a})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T0(jT).contentName}}.`;return v.useEffect(()=>{const c=t.current?.getAttribute("aria-describedby");a&&c&&(document.getElementById(a)||console.warn(o))},[o,t,a]),null},R0=p0,NT=x0,k0=y0,M0=b0,O0=j0,D0=N0,z0=_0,L0=E0;function ST({...t}){return s.jsx(R0,{"data-slot":"sheet",...t})}function _T({...t}){return s.jsx(k0,{"data-slot":"sheet-portal",...t})}function CT({className:t,...a}){return s.jsx(M0,{"data-slot":"sheet-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function ET({className:t,children:a,side:r="right",...o}){return s.jsxs(_T,{children:[s.jsx(CT,{}),s.jsxs(O0,{"data-slot":"sheet-content",className:ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-card transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[a,s.jsxs(L0,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none focus-ring",children:[s.jsx(Yb,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function AT({className:t,...a}){return s.jsx("div",{"data-slot":"sheet-header",className:ge("flex flex-col gap-1.5 p-4",t),...a})}function TT({className:t,...a}){return s.jsx(D0,{"data-slot":"sheet-title",className:ge("text-foreground font-semibold",t),...a})}function RT({className:t,...a}){return s.jsx(z0,{"data-slot":"sheet-description",className:ge("text-muted-foreground text-sm",t),...a})}const kT=["top","right","bottom","left"],ta=Math.min,cn=Math.max,pc=Math.round,Xl=Math.floor,Xn=t=>({x:t,y:t}),MT={left:"right",right:"left",bottom:"top",top:"bottom"},OT={start:"end",end:"start"};function rm(t,a,r){return cn(t,ta(a,r))}function Ss(t,a){return typeof t=="function"?t(a):t}function _s(t){return t.split("-")[0]}function qr(t){return t.split("-")[1]}function Km(t){return t==="x"?"y":"x"}function Qm(t){return t==="y"?"height":"width"}const DT=new Set(["top","bottom"]);function Yn(t){return DT.has(_s(t))?"y":"x"}function Xm(t){return Km(Yn(t))}function zT(t,a,r){r===void 0&&(r=!1);const o=qr(t),c=Xm(t),u=Qm(c);let f=c==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return a.reference[u]>a.floating[u]&&(f=gc(f)),[f,gc(f)]}function LT(t){const a=gc(t);return[im(t),a,im(a)]}function im(t){return t.replace(/start|end/g,a=>OT[a])}const py=["left","right"],gy=["right","left"],PT=["top","bottom"],UT=["bottom","top"];function BT(t,a,r){switch(t){case"top":case"bottom":return r?a?gy:py:a?py:gy;case"left":case"right":return a?PT:UT;default:return[]}}function HT(t,a,r,o){const c=qr(t);let u=BT(_s(t),r==="start",o);return c&&(u=u.map(f=>f+"-"+c),a&&(u=u.concat(u.map(im)))),u}function gc(t){return t.replace(/left|right|bottom|top/g,a=>MT[a])}function $T(t){return{top:0,right:0,bottom:0,left:0,...t}}function P0(t){return typeof t!="number"?$T(t):{top:t,right:t,bottom:t,left:t}}function xc(t){const{x:a,y:r,width:o,height:c}=t;return{width:o,height:c,top:r,left:a,right:a+o,bottom:r+c,x:a,y:r}}function xy(t,a,r){let{reference:o,floating:c}=t;const u=Yn(a),f=Xm(a),m=Qm(f),p=_s(a),h=u==="y",x=o.x+o.width/2-c.width/2,b=o.y+o.height/2-c.height/2,y=o[m]/2-c[m]/2;let _;switch(p){case"top":_={x,y:o.y-c.height};break;case"bottom":_={x,y:o.y+o.height};break;case"right":_={x:o.x+o.width,y:b};break;case"left":_={x:o.x-c.width,y:b};break;default:_={x:o.x,y:o.y}}switch(qr(a)){case"start":_[f]-=y*(r&&h?-1:1);break;case"end":_[f]+=y*(r&&h?-1:1);break}return _}const FT=async(t,a,r)=>{const{placement:o="bottom",strategy:c="absolute",middleware:u=[],platform:f}=r,m=u.filter(Boolean),p=await(f.isRTL==null?void 0:f.isRTL(a));let h=await f.getElementRects({reference:t,floating:a,strategy:c}),{x,y:b}=xy(h,o,p),y=o,_={},C=0;for(let j=0;j<m.length;j++){const{name:S,fn:E}=m[j],{x:N,y:T,data:O,reset:M}=await E({x,y:b,initialPlacement:o,placement:y,strategy:c,middlewareData:_,rects:h,platform:f,elements:{reference:t,floating:a}});x=N??x,b=T??b,_={..._,[S]:{..._[S],...O}},M&&C<=50&&(C++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(h=M.rects===!0?await f.getElementRects({reference:t,floating:a,strategy:c}):M.rects),{x,y:b}=xy(h,y,p)),j=-1)}return{x,y:b,placement:y,strategy:c,middlewareData:_}};async function mo(t,a){var r;a===void 0&&(a={});const{x:o,y:c,platform:u,rects:f,elements:m,strategy:p}=t,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:b="floating",altBoundary:y=!1,padding:_=0}=Ss(a,t),C=P0(_),S=m[y?b==="floating"?"reference":"floating":b],E=xc(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(S)))==null||r?S:S.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:h,rootBoundary:x,strategy:p})),N=b==="floating"?{x:o,y:c,width:f.floating.width,height:f.floating.height}:f.reference,T=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),O=await(u.isElement==null?void 0:u.isElement(T))?await(u.getScale==null?void 0:u.getScale(T))||{x:1,y:1}:{x:1,y:1},M=xc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:N,offsetParent:T,strategy:p}):N);return{top:(E.top-M.top+C.top)/O.y,bottom:(M.bottom-E.bottom+C.bottom)/O.y,left:(E.left-M.left+C.left)/O.x,right:(M.right-E.right+C.right)/O.x}}const qT=t=>({name:"arrow",options:t,async fn(a){const{x:r,y:o,placement:c,rects:u,platform:f,elements:m,middlewareData:p}=a,{element:h,padding:x=0}=Ss(t,a)||{};if(h==null)return{};const b=P0(x),y={x:r,y:o},_=Xm(c),C=Qm(_),j=await f.getDimensions(h),S=_==="y",E=S?"top":"left",N=S?"bottom":"right",T=S?"clientHeight":"clientWidth",O=u.reference[C]+u.reference[_]-y[_]-u.floating[C],M=y[_]-u.reference[_],G=await(f.getOffsetParent==null?void 0:f.getOffsetParent(h));let I=G?G[T]:0;(!I||!await(f.isElement==null?void 0:f.isElement(G)))&&(I=m.floating[T]||u.floating[C]);const q=O/2-M/2,R=I/2-j[C]/2-1,P=ta(b[E],R),B=ta(b[N],R),K=P,ne=I-j[C]-B,te=I/2-j[C]/2+q,Y=rm(K,te,ne),D=!p.arrow&&qr(c)!=null&&te!==Y&&u.reference[C]/2-(te<K?P:B)-j[C]/2<0,X=D?te<K?te-K:te-ne:0;return{[_]:y[_]+X,data:{[_]:Y,centerOffset:te-Y-X,...D&&{alignmentOffset:X}},reset:D}}}),IT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var r,o;const{placement:c,middlewareData:u,rects:f,initialPlacement:m,platform:p,elements:h}=a,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:j=!0,...S}=Ss(t,a);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const E=_s(c),N=Yn(m),T=_s(m)===m,O=await(p.isRTL==null?void 0:p.isRTL(h.floating)),M=y||(T||!j?[gc(m)]:LT(m)),G=C!=="none";!y&&G&&M.push(...HT(m,j,C,O));const I=[m,...M],q=await mo(a,S),R=[];let P=((o=u.flip)==null?void 0:o.overflows)||[];if(x&&R.push(q[E]),b){const te=zT(c,f,O);R.push(q[te[0]],q[te[1]])}if(P=[...P,{placement:c,overflows:R}],!R.every(te=>te<=0)){var B,K;const te=(((B=u.flip)==null?void 0:B.index)||0)+1,Y=I[te];if(Y&&(!(b==="alignment"?N!==Yn(Y):!1)||P.every(se=>Yn(se.placement)===N?se.overflows[0]>0:!0)))return{data:{index:te,overflows:P},reset:{placement:Y}};let D=(K=P.filter(X=>X.overflows[0]<=0).sort((X,se)=>X.overflows[1]-se.overflows[1])[0])==null?void 0:K.placement;if(!D)switch(_){case"bestFit":{var ne;const X=(ne=P.filter(se=>{if(G){const ae=Yn(se.placement);return ae===N||ae==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ae=>ae>0).reduce((ae,k)=>ae+k,0)]).sort((se,ae)=>se[1]-ae[1])[0])==null?void 0:ne[0];X&&(D=X);break}case"initialPlacement":D=m;break}if(c!==D)return{reset:{placement:D}}}return{}}}};function vy(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function yy(t){return kT.some(a=>t[a]>=0)}const VT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:r}=a,{strategy:o="referenceHidden",...c}=Ss(t,a);switch(o){case"referenceHidden":{const u=await mo(a,{...c,elementContext:"reference"}),f=vy(u,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:yy(f)}}}case"escaped":{const u=await mo(a,{...c,altBoundary:!0}),f=vy(u,r.floating);return{data:{escapedOffsets:f,escaped:yy(f)}}}default:return{}}}}},U0=new Set(["left","top"]);async function GT(t,a){const{placement:r,platform:o,elements:c}=t,u=await(o.isRTL==null?void 0:o.isRTL(c.floating)),f=_s(r),m=qr(r),p=Yn(r)==="y",h=U0.has(f)?-1:1,x=u&&p?-1:1,b=Ss(a,t);let{mainAxis:y,crossAxis:_,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof C=="number"&&(_=m==="end"?C*-1:C),p?{x:_*x,y:y*h}:{x:y*h,y:_*x}}const YT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var r,o;const{x:c,y:u,placement:f,middlewareData:m}=a,p=await GT(a,t);return f===((r=m.offset)==null?void 0:r.placement)&&(o=m.arrow)!=null&&o.alignmentOffset?{}:{x:c+p.x,y:u+p.y,data:{...p,placement:f}}}}},KT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:r,y:o,placement:c}=a,{mainAxis:u=!0,crossAxis:f=!1,limiter:m={fn:S=>{let{x:E,y:N}=S;return{x:E,y:N}}},...p}=Ss(t,a),h={x:r,y:o},x=await mo(a,p),b=Yn(_s(c)),y=Km(b);let _=h[y],C=h[b];if(u){const S=y==="y"?"top":"left",E=y==="y"?"bottom":"right",N=_+x[S],T=_-x[E];_=rm(N,_,T)}if(f){const S=b==="y"?"top":"left",E=b==="y"?"bottom":"right",N=C+x[S],T=C-x[E];C=rm(N,C,T)}const j=m.fn({...a,[y]:_,[b]:C});return{...j,data:{x:j.x-r,y:j.y-o,enabled:{[y]:u,[b]:f}}}}}},QT=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:r,y:o,placement:c,rects:u,middlewareData:f}=a,{offset:m=0,mainAxis:p=!0,crossAxis:h=!0}=Ss(t,a),x={x:r,y:o},b=Yn(c),y=Km(b);let _=x[y],C=x[b];const j=Ss(m,a),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(p){const T=y==="y"?"height":"width",O=u.reference[y]-u.floating[T]+S.mainAxis,M=u.reference[y]+u.reference[T]-S.mainAxis;_<O?_=O:_>M&&(_=M)}if(h){var E,N;const T=y==="y"?"width":"height",O=U0.has(_s(c)),M=u.reference[b]-u.floating[T]+(O&&((E=f.offset)==null?void 0:E[b])||0)+(O?0:S.crossAxis),G=u.reference[b]+u.reference[T]+(O?0:((N=f.offset)==null?void 0:N[b])||0)-(O?S.crossAxis:0);C<M?C=M:C>G&&(C=G)}return{[y]:_,[b]:C}}}},XT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var r,o;const{placement:c,rects:u,platform:f,elements:m}=a,{apply:p=()=>{},...h}=Ss(t,a),x=await mo(a,h),b=_s(c),y=qr(c),_=Yn(c)==="y",{width:C,height:j}=u.floating;let S,E;b==="top"||b==="bottom"?(S=b,E=y===(await(f.isRTL==null?void 0:f.isRTL(m.floating))?"start":"end")?"left":"right"):(E=b,S=y==="end"?"top":"bottom");const N=j-x.top-x.bottom,T=C-x.left-x.right,O=ta(j-x[S],N),M=ta(C-x[E],T),G=!a.middlewareData.shift;let I=O,q=M;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(q=T),(o=a.middlewareData.shift)!=null&&o.enabled.y&&(I=N),G&&!y){const P=cn(x.left,0),B=cn(x.right,0),K=cn(x.top,0),ne=cn(x.bottom,0);_?q=C-2*(P!==0||B!==0?P+B:cn(x.left,x.right)):I=j-2*(K!==0||ne!==0?K+ne:cn(x.top,x.bottom))}await p({...a,availableWidth:q,availableHeight:I});const R=await f.getDimensions(m.floating);return C!==R.width||j!==R.height?{reset:{rects:!0}}:{}}}};function qc(){return typeof window<"u"}function Ir(t){return B0(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function ts(t){var a;return(a=(B0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function B0(t){return qc()?t instanceof Node||t instanceof un(t).Node:!1}function Dn(t){return qc()?t instanceof Element||t instanceof un(t).Element:!1}function Zn(t){return qc()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function by(t){return!qc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}const WT=new Set(["inline","contents"]);function _o(t){const{overflow:a,overflowX:r,overflowY:o,display:c}=zn(t);return/auto|scroll|overlay|hidden|clip/.test(a+o+r)&&!WT.has(c)}const ZT=new Set(["table","td","th"]);function JT(t){return ZT.has(Ir(t))}const eR=[":popover-open",":modal"];function Ic(t){return eR.some(a=>{try{return t.matches(a)}catch{return!1}})}const tR=["transform","translate","scale","rotate","perspective"],nR=["transform","translate","scale","rotate","perspective","filter"],sR=["paint","layout","strict","content"];function Wm(t){const a=Zm(),r=Dn(t)?zn(t):t;return tR.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||nR.some(o=>(r.willChange||"").includes(o))||sR.some(o=>(r.contain||"").includes(o))}function aR(t){let a=na(t);for(;Zn(a)&&!zr(a);){if(Wm(a))return a;if(Ic(a))return null;a=na(a)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rR=new Set(["html","body","#document"]);function zr(t){return rR.has(Ir(t))}function zn(t){return un(t).getComputedStyle(t)}function Vc(t){return Dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(Ir(t)==="html")return t;const a=t.assignedSlot||t.parentNode||by(t)&&t.host||ts(t);return by(a)?a.host:a}function H0(t){const a=na(t);return zr(a)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(a)&&_o(a)?a:H0(a)}function ho(t,a,r){var o;a===void 0&&(a=[]),r===void 0&&(r=!0);const c=H0(t),u=c===((o=t.ownerDocument)==null?void 0:o.body),f=un(c);if(u){const m=om(f);return a.concat(f,f.visualViewport||[],_o(c)?c:[],m&&r?ho(m):[])}return a.concat(c,ho(c,[],r))}function om(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $0(t){const a=zn(t);let r=parseFloat(a.width)||0,o=parseFloat(a.height)||0;const c=Zn(t),u=c?t.offsetWidth:r,f=c?t.offsetHeight:o,m=pc(r)!==u||pc(o)!==f;return m&&(r=u,o=f),{width:r,height:o,$:m}}function Jm(t){return Dn(t)?t:t.contextElement}function Or(t){const a=Jm(t);if(!Zn(a))return Xn(1);const r=a.getBoundingClientRect(),{width:o,height:c,$:u}=$0(a);let f=(u?pc(r.width):r.width)/o,m=(u?pc(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const iR=Xn(0);function F0(t){const a=un(t);return!Zm()||!a.visualViewport?iR:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function oR(t,a,r){return a===void 0&&(a=!1),!r||a&&r!==un(t)?!1:a}function Ma(t,a,r,o){a===void 0&&(a=!1),r===void 0&&(r=!1);const c=t.getBoundingClientRect(),u=Jm(t);let f=Xn(1);a&&(o?Dn(o)&&(f=Or(o)):f=Or(t));const m=oR(u,r,o)?F0(u):Xn(0);let p=(c.left+m.x)/f.x,h=(c.top+m.y)/f.y,x=c.width/f.x,b=c.height/f.y;if(u){const y=un(u),_=o&&Dn(o)?un(o):o;let C=y,j=om(C);for(;j&&o&&_!==C;){const S=Or(j),E=j.getBoundingClientRect(),N=zn(j),T=E.left+(j.clientLeft+parseFloat(N.paddingLeft))*S.x,O=E.top+(j.clientTop+parseFloat(N.paddingTop))*S.y;p*=S.x,h*=S.y,x*=S.x,b*=S.y,p+=T,h+=O,C=un(j),j=om(C)}}return xc({width:x,height:b,x:p,y:h})}function Gc(t,a){const r=Vc(t).scrollLeft;return a?a.left+r:Ma(ts(t)).left+r}function q0(t,a){const r=t.getBoundingClientRect(),o=r.left+a.scrollLeft-Gc(t,r),c=r.top+a.scrollTop;return{x:o,y:c}}function lR(t){let{elements:a,rect:r,offsetParent:o,strategy:c}=t;const u=c==="fixed",f=ts(o),m=a?Ic(a.floating):!1;if(o===f||m&&u)return r;let p={scrollLeft:0,scrollTop:0},h=Xn(1);const x=Xn(0),b=Zn(o);if((b||!b&&!u)&&((Ir(o)!=="body"||_o(f))&&(p=Vc(o)),Zn(o))){const _=Ma(o);h=Or(o),x.x=_.x+o.clientLeft,x.y=_.y+o.clientTop}const y=f&&!b&&!u?q0(f,p):Xn(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-p.scrollLeft*h.x+x.x+y.x,y:r.y*h.y-p.scrollTop*h.y+x.y+y.y}}function cR(t){return Array.from(t.getClientRects())}function uR(t){const a=ts(t),r=Vc(t),o=t.ownerDocument.body,c=cn(a.scrollWidth,a.clientWidth,o.scrollWidth,o.clientWidth),u=cn(a.scrollHeight,a.clientHeight,o.scrollHeight,o.clientHeight);let f=-r.scrollLeft+Gc(t);const m=-r.scrollTop;return zn(o).direction==="rtl"&&(f+=cn(a.clientWidth,o.clientWidth)-c),{width:c,height:u,x:f,y:m}}const jy=25;function dR(t,a){const r=un(t),o=ts(t),c=r.visualViewport;let u=o.clientWidth,f=o.clientHeight,m=0,p=0;if(c){u=c.width,f=c.height;const x=Zm();(!x||x&&a==="fixed")&&(m=c.offsetLeft,p=c.offsetTop)}const h=Gc(o);if(h<=0){const x=o.ownerDocument,b=x.body,y=getComputedStyle(b),_=x.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,C=Math.abs(o.clientWidth-b.clientWidth-_);C<=jy&&(u-=C)}else h<=jy&&(u+=h);return{width:u,height:f,x:m,y:p}}const fR=new Set(["absolute","fixed"]);function mR(t,a){const r=Ma(t,!0,a==="fixed"),o=r.top+t.clientTop,c=r.left+t.clientLeft,u=Zn(t)?Or(t):Xn(1),f=t.clientWidth*u.x,m=t.clientHeight*u.y,p=c*u.x,h=o*u.y;return{width:f,height:m,x:p,y:h}}function wy(t,a,r){let o;if(a==="viewport")o=dR(t,r);else if(a==="document")o=uR(ts(t));else if(Dn(a))o=mR(a,r);else{const c=F0(t);o={x:a.x-c.x,y:a.y-c.y,width:a.width,height:a.height}}return xc(o)}function I0(t,a){const r=na(t);return r===a||!Dn(r)||zr(r)?!1:zn(r).position==="fixed"||I0(r,a)}function hR(t,a){const r=a.get(t);if(r)return r;let o=ho(t,[],!1).filter(m=>Dn(m)&&Ir(m)!=="body"),c=null;const u=zn(t).position==="fixed";let f=u?na(t):t;for(;Dn(f)&&!zr(f);){const m=zn(f),p=Wm(f);!p&&m.position==="fixed"&&(c=null),(u?!p&&!c:!p&&m.position==="static"&&!!c&&fR.has(c.position)||_o(f)&&!p&&I0(t,f))?o=o.filter(x=>x!==f):c=m,f=na(f)}return a.set(t,o),o}function pR(t){let{element:a,boundary:r,rootBoundary:o,strategy:c}=t;const f=[...r==="clippingAncestors"?Ic(a)?[]:hR(a,this._c):[].concat(r),o],m=f[0],p=f.reduce((h,x)=>{const b=wy(a,x,c);return h.top=cn(b.top,h.top),h.right=ta(b.right,h.right),h.bottom=ta(b.bottom,h.bottom),h.left=cn(b.left,h.left),h},wy(a,m,c));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function gR(t){const{width:a,height:r}=$0(t);return{width:a,height:r}}function xR(t,a,r){const o=Zn(a),c=ts(a),u=r==="fixed",f=Ma(t,!0,u,a);let m={scrollLeft:0,scrollTop:0};const p=Xn(0);function h(){p.x=Gc(c)}if(o||!o&&!u)if((Ir(a)!=="body"||_o(c))&&(m=Vc(a)),o){const _=Ma(a,!0,u,a);p.x=_.x+a.clientLeft,p.y=_.y+a.clientTop}else c&&h();u&&!o&&c&&h();const x=c&&!o&&!u?q0(c,m):Xn(0),b=f.left+m.scrollLeft-p.x-x.x,y=f.top+m.scrollTop-p.y-x.y;return{x:b,y,width:f.width,height:f.height}}function Uf(t){return zn(t).position==="static"}function Ny(t,a){if(!Zn(t)||zn(t).position==="fixed")return null;if(a)return a(t);let r=t.offsetParent;return ts(t)===r&&(r=r.ownerDocument.body),r}function V0(t,a){const r=un(t);if(Ic(t))return r;if(!Zn(t)){let c=na(t);for(;c&&!zr(c);){if(Dn(c)&&!Uf(c))return c;c=na(c)}return r}let o=Ny(t,a);for(;o&&JT(o)&&Uf(o);)o=Ny(o,a);return o&&zr(o)&&Uf(o)&&!Wm(o)?r:o||aR(t)||r}const vR=async function(t){const a=this.getOffsetParent||V0,r=this.getDimensions,o=await r(t.floating);return{reference:xR(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function yR(t){return zn(t).direction==="rtl"}const bR={convertOffsetParentRelativeRectToViewportRelativeRect:lR,getDocumentElement:ts,getClippingRect:pR,getOffsetParent:V0,getElementRects:vR,getClientRects:cR,getDimensions:gR,getScale:Or,isElement:Dn,isRTL:yR};function G0(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function jR(t,a){let r=null,o;const c=ts(t);function u(){var m;clearTimeout(o),(m=r)==null||m.disconnect(),r=null}function f(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),u();const h=t.getBoundingClientRect(),{left:x,top:b,width:y,height:_}=h;if(m||a(),!y||!_)return;const C=Xl(b),j=Xl(c.clientWidth-(x+y)),S=Xl(c.clientHeight-(b+_)),E=Xl(x),T={rootMargin:-C+"px "+-j+"px "+-S+"px "+-E+"px",threshold:cn(0,ta(1,p))||1};let O=!0;function M(G){const I=G[0].intersectionRatio;if(I!==p){if(!O)return f();I?f(!1,I):o=setTimeout(()=>{f(!1,1e-7)},1e3)}I===1&&!G0(h,t.getBoundingClientRect())&&f(),O=!1}try{r=new IntersectionObserver(M,{...T,root:c.ownerDocument})}catch{r=new IntersectionObserver(M,T)}r.observe(t)}return f(!0),u}function wR(t,a,r,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,h=Jm(t),x=c||u?[...h?ho(h):[],...ho(a)]:[];x.forEach(E=>{c&&E.addEventListener("scroll",r,{passive:!0}),u&&E.addEventListener("resize",r)});const b=h&&m?jR(h,r):null;let y=-1,_=null;f&&(_=new ResizeObserver(E=>{let[N]=E;N&&N.target===h&&_&&(_.unobserve(a),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var T;(T=_)==null||T.observe(a)})),r()}),h&&!p&&_.observe(h),_.observe(a));let C,j=p?Ma(t):null;p&&S();function S(){const E=Ma(t);j&&!G0(j,E)&&r(),j=E,C=requestAnimationFrame(S)}return r(),()=>{var E;x.forEach(N=>{c&&N.removeEventListener("scroll",r),u&&N.removeEventListener("resize",r)}),b?.(),(E=_)==null||E.disconnect(),_=null,p&&cancelAnimationFrame(C)}}const NR=YT,SR=KT,_R=IT,CR=XT,ER=VT,Sy=qT,AR=QT,TR=(t,a,r)=>{const o=new Map,c={platform:bR,...r},u={...c.platform,_c:o};return FT(t,a,{...c,platform:u})};var RR=typeof document<"u",kR=function(){},oc=RR?v.useLayoutEffect:kR;function vc(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let r,o,c;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==a.length)return!1;for(o=r;o--!==0;)if(!vc(t[o],a[o]))return!1;return!0}if(c=Object.keys(t),r=c.length,r!==Object.keys(a).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(a,c[o]))return!1;for(o=r;o--!==0;){const u=c[o];if(!(u==="_owner"&&t.$$typeof)&&!vc(t[u],a[u]))return!1}return!0}return t!==t&&a!==a}function Y0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _y(t,a){const r=Y0(t);return Math.round(a*r)/r}function Bf(t){const a=v.useRef(t);return oc(()=>{a.current=t}),a}function MR(t){t===void 0&&(t={});const{placement:a="bottom",strategy:r="absolute",middleware:o=[],platform:c,elements:{reference:u,floating:f}={},transform:m=!0,whileElementsMounted:p,open:h}=t,[x,b]=v.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[y,_]=v.useState(o);vc(y,o)||_(o);const[C,j]=v.useState(null),[S,E]=v.useState(null),N=v.useCallback(se=>{se!==G.current&&(G.current=se,j(se))},[]),T=v.useCallback(se=>{se!==I.current&&(I.current=se,E(se))},[]),O=u||C,M=f||S,G=v.useRef(null),I=v.useRef(null),q=v.useRef(x),R=p!=null,P=Bf(p),B=Bf(c),K=Bf(h),ne=v.useCallback(()=>{if(!G.current||!I.current)return;const se={placement:a,strategy:r,middleware:y};B.current&&(se.platform=B.current),TR(G.current,I.current,se).then(ae=>{const k={...ae,isPositioned:K.current!==!1};te.current&&!vc(q.current,k)&&(q.current=k,wo.flushSync(()=>{b(k)}))})},[y,a,r,B,K]);oc(()=>{h===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,b(se=>({...se,isPositioned:!1})))},[h]);const te=v.useRef(!1);oc(()=>(te.current=!0,()=>{te.current=!1}),[]),oc(()=>{if(O&&(G.current=O),M&&(I.current=M),O&&M){if(P.current)return P.current(O,M,ne);ne()}},[O,M,ne,P,R]);const Y=v.useMemo(()=>({reference:G,floating:I,setReference:N,setFloating:T}),[N,T]),D=v.useMemo(()=>({reference:O,floating:M}),[O,M]),X=v.useMemo(()=>{const se={position:r,left:0,top:0};if(!D.floating)return se;const ae=_y(D.floating,x.x),k=_y(D.floating,x.y);return m?{...se,transform:"translate("+ae+"px, "+k+"px)",...Y0(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:k}},[r,m,D.floating,x.x,x.y]);return v.useMemo(()=>({...x,update:ne,refs:Y,elements:D,floatingStyles:X}),[x,ne,Y,D,X])}const OR=t=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:c}=typeof t=="function"?t(r):t;return o&&a(o)?o.current!=null?Sy({element:o.current,padding:c}).fn(r):{}:o?Sy({element:o,padding:c}).fn(r):{}}}},DR=(t,a)=>({...NR(t),options:[t,a]}),zR=(t,a)=>({...SR(t),options:[t,a]}),LR=(t,a)=>({...AR(t),options:[t,a]}),PR=(t,a)=>({..._R(t),options:[t,a]}),UR=(t,a)=>({...CR(t),options:[t,a]}),BR=(t,a)=>({...ER(t),options:[t,a]}),HR=(t,a)=>({...OR(t),options:[t,a]});var $R="Arrow",K0=v.forwardRef((t,a)=>{const{children:r,width:o=10,height:c=5,...u}=t;return s.jsx(Ee.svg,{...u,ref:a,width:o,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});K0.displayName=$R;var FR=K0;function qR(t){const[a,r]=v.useState(void 0);return jt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let f,m;if("borderBoxSize"in u){const p=u.borderBoxSize,h=Array.isArray(p)?p[0]:p;f=h.inlineSize,m=h.blockSize}else f=t.offsetWidth,m=t.offsetHeight;r({width:f,height:m})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),a}var eh="Popper",[Q0,Vr]=Pn(eh),[IR,X0]=Q0(eh),W0=t=>{const{__scopePopper:a,children:r}=t,[o,c]=v.useState(null);return s.jsx(IR,{scope:a,anchor:o,onAnchorChange:c,children:r})};W0.displayName=eh;var Z0="PopperAnchor",J0=v.forwardRef((t,a)=>{const{__scopePopper:r,virtualRef:o,...c}=t,u=X0(Z0,r),f=v.useRef(null),m=Ge(a,f),p=v.useRef(null);return v.useEffect(()=>{const h=p.current;p.current=o?.current||f.current,h!==p.current&&u.onAnchorChange(p.current)}),o?null:s.jsx(Ee.div,{...c,ref:m})});J0.displayName=Z0;var th="PopperContent",[VR,GR]=Q0(th),ej=v.forwardRef((t,a)=>{const{__scopePopper:r,side:o="bottom",sideOffset:c=0,align:u="center",alignOffset:f=0,arrowPadding:m=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:b="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:C,...j}=t,S=X0(th,r),[E,N]=v.useState(null),T=Ge(a,oe=>N(oe)),[O,M]=v.useState(null),G=qR(O),I=G?.width??0,q=G?.height??0,R=o+(u!=="center"?"-"+u:""),P=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},B=Array.isArray(h)?h:[h],K=B.length>0,ne={padding:P,boundary:B.filter(KR),altBoundary:K},{refs:te,floatingStyles:Y,placement:D,isPositioned:X,middlewareData:se}=MR({strategy:"fixed",placement:R,whileElementsMounted:(...oe)=>wR(...oe,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[DR({mainAxis:c+q,alignmentAxis:f}),p&&zR({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?LR():void 0,...ne}),p&&PR({...ne}),UR({...ne,apply:({elements:oe,rects:de,availableWidth:Ce,availableHeight:je})=>{const{width:Pe,height:et}=de.reference,rt=oe.floating.style;rt.setProperty("--radix-popper-available-width",`${Ce}px`),rt.setProperty("--radix-popper-available-height",`${je}px`),rt.setProperty("--radix-popper-anchor-width",`${Pe}px`),rt.setProperty("--radix-popper-anchor-height",`${et}px`)}}),O&&HR({element:O,padding:m}),QR({arrowWidth:I,arrowHeight:q}),y&&BR({strategy:"referenceHidden",...ne})]}),[ae,k]=sj(D),$=On(C);jt(()=>{X&&$?.()},[X,$]);const L=se.arrow?.x,U=se.arrow?.y,Z=se.arrow?.centerOffset!==0,[re,ue]=v.useState();return jt(()=>{E&&ue(window.getComputedStyle(E).zIndex)},[E]),s.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:X?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[se.transformOrigin?.x,se.transformOrigin?.y].join(" "),...se.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(VR,{scope:r,placedSide:ae,onArrowChange:M,arrowX:L,arrowY:U,shouldHideArrow:Z,children:s.jsx(Ee.div,{"data-side":ae,"data-align":k,...j,ref:T,style:{...j.style,animation:X?void 0:"none"}})})})});ej.displayName=th;var tj="PopperArrow",YR={top:"bottom",right:"left",bottom:"top",left:"right"},nj=v.forwardRef(function(a,r){const{__scopePopper:o,...c}=a,u=GR(tj,o),f=YR[u.placedSide];return s.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:s.jsx(FR,{...c,ref:r,style:{...c.style,display:"block"}})})});nj.displayName=tj;function KR(t){return t!==null}var QR=t=>({name:"transformOrigin",options:t,fn(a){const{placement:r,rects:o,middlewareData:c}=a,f=c.arrow?.centerOffset!==0,m=f?0:t.arrowWidth,p=f?0:t.arrowHeight,[h,x]=sj(r),b={start:"0%",center:"50%",end:"100%"}[x],y=(c.arrow?.x??0)+m/2,_=(c.arrow?.y??0)+p/2;let C="",j="";return h==="bottom"?(C=f?b:`${y}px`,j=`${-p}px`):h==="top"?(C=f?b:`${y}px`,j=`${o.floating.height+p}px`):h==="right"?(C=`${-p}px`,j=f?b:`${_}px`):h==="left"&&(C=`${o.floating.width+p}px`,j=f?b:`${_}px`),{data:{x:C,y:j}}}});function sj(t){const[a,r="center"]=t.split("-");return[a,r]}var nh=W0,sh=J0,ah=ej,rh=nj,aj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XR="VisuallyHidden",rj=v.forwardRef((t,a)=>s.jsx(Ee.span,{...t,ref:a,style:{...aj,...t.style}}));rj.displayName=XR;var WR=rj,[Yc,sz]=Pn("Tooltip",[Vr]),Kc=Vr(),ij="TooltipProvider",ZR=700,lm="tooltip.open",[JR,ih]=Yc(ij),oj=t=>{const{__scopeTooltip:a,delayDuration:r=ZR,skipDelayDuration:o=300,disableHoverableContent:c=!1,children:u}=t,f=v.useRef(!0),m=v.useRef(!1),p=v.useRef(0);return v.useEffect(()=>{const h=p.current;return()=>window.clearTimeout(h)},[]),s.jsx(JR,{scope:a,isOpenDelayedRef:f,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(p.current),f.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f.current=!0,o)},[o]),isPointerInTransitRef:m,onPointerInTransitChange:v.useCallback(h=>{m.current=h},[]),disableHoverableContent:c,children:u})};oj.displayName=ij;var po="Tooltip",[ek,Co]=Yc(po),lj=t=>{const{__scopeTooltip:a,children:r,open:o,defaultOpen:c,onOpenChange:u,disableHoverableContent:f,delayDuration:m}=t,p=ih(po,t.__scopeTooltip),h=Kc(a),[x,b]=v.useState(null),y=Rn(),_=v.useRef(0),C=f??p.disableHoverableContent,j=m??p.delayDuration,S=v.useRef(!1),[E,N]=Ra({prop:o,defaultProp:c??!1,onChange:I=>{I?(p.onOpen(),document.dispatchEvent(new CustomEvent(lm))):p.onClose(),u?.(I)},caller:po}),T=v.useMemo(()=>E?S.current?"delayed-open":"instant-open":"closed",[E]),O=v.useCallback(()=>{window.clearTimeout(_.current),_.current=0,S.current=!1,N(!0)},[N]),M=v.useCallback(()=>{window.clearTimeout(_.current),_.current=0,N(!1)},[N]),G=v.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{S.current=!0,N(!0),_.current=0},j)},[j,N]);return v.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),s.jsx(nh,{...h,children:s.jsx(ek,{scope:a,contentId:y,open:E,stateAttribute:T,trigger:x,onTriggerChange:b,onTriggerEnter:v.useCallback(()=>{p.isOpenDelayedRef.current?G():O()},[p.isOpenDelayedRef,G,O]),onTriggerLeave:v.useCallback(()=>{C?M():(window.clearTimeout(_.current),_.current=0)},[M,C]),onOpen:O,onClose:M,disableHoverableContent:C,children:r})})};lj.displayName=po;var cm="TooltipTrigger",cj=v.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,c=Co(cm,r),u=ih(cm,r),f=Kc(r),m=v.useRef(null),p=Ge(a,m,c.onTriggerChange),h=v.useRef(!1),x=v.useRef(!1),b=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),s.jsx(sh,{asChild:!0,...f,children:s.jsx(Ee.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...o,ref:p,onPointerMove:he(t.onPointerMove,y=>{y.pointerType!=="touch"&&!x.current&&!u.isPointerInTransitRef.current&&(c.onTriggerEnter(),x.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{c.onTriggerLeave(),x.current=!1}),onPointerDown:he(t.onPointerDown,()=>{c.open&&c.onClose(),h.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:he(t.onFocus,()=>{h.current||c.onOpen()}),onBlur:he(t.onBlur,c.onClose),onClick:he(t.onClick,c.onClose)})})});cj.displayName=cm;var oh="TooltipPortal",[tk,nk]=Yc(oh,{forceMount:void 0}),uj=t=>{const{__scopeTooltip:a,forceMount:r,children:o,container:c}=t,u=Co(oh,a);return s.jsx(tk,{scope:a,forceMount:r,children:s.jsx(Un,{present:r||u.open,children:s.jsx(So,{asChild:!0,container:c,children:o})})})};uj.displayName=oh;var Lr="TooltipContent",dj=v.forwardRef((t,a)=>{const r=nk(Lr,t.__scopeTooltip),{forceMount:o=r.forceMount,side:c="top",...u}=t,f=Co(Lr,t.__scopeTooltip);return s.jsx(Un,{present:o||f.open,children:f.disableHoverableContent?s.jsx(fj,{side:c,...u,ref:a}):s.jsx(sk,{side:c,...u,ref:a})})}),sk=v.forwardRef((t,a)=>{const r=Co(Lr,t.__scopeTooltip),o=ih(Lr,t.__scopeTooltip),c=v.useRef(null),u=Ge(a,c),[f,m]=v.useState(null),{trigger:p,onClose:h}=r,x=c.current,{onPointerInTransitChange:b}=o,y=v.useCallback(()=>{m(null),b(!1)},[b]),_=v.useCallback((C,j)=>{const S=C.currentTarget,E={x:C.clientX,y:C.clientY},N=ok(E,S.getBoundingClientRect()),T=lk(E,N),O=ck(j.getBoundingClientRect()),M=dk([...T,...O]);m(M),b(!0)},[b]);return v.useEffect(()=>()=>y(),[y]),v.useEffect(()=>{if(p&&x){const C=S=>_(S,x),j=S=>_(S,p);return p.addEventListener("pointerleave",C),x.addEventListener("pointerleave",j),()=>{p.removeEventListener("pointerleave",C),x.removeEventListener("pointerleave",j)}}},[p,x,_,y]),v.useEffect(()=>{if(f){const C=j=>{const S=j.target,E={x:j.clientX,y:j.clientY},N=p?.contains(S)||x?.contains(S),T=!uk(E,f);N?y():T&&(y(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[p,x,f,h,y]),s.jsx(fj,{...t,ref:u})}),[ak,rk]=Yc(po,{isInside:!1}),ik=vE("TooltipContent"),fj=v.forwardRef((t,a)=>{const{__scopeTooltip:r,children:o,"aria-label":c,onEscapeKeyDown:u,onPointerDownOutside:f,...m}=t,p=Co(Lr,r),h=Kc(r),{onClose:x}=p;return v.useEffect(()=>(document.addEventListener(lm,x),()=>document.removeEventListener(lm,x)),[x]),v.useEffect(()=>{if(p.trigger){const b=y=>{y.target?.contains(p.trigger)&&x()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[p.trigger,x]),s.jsx(No,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:x,children:s.jsxs(ah,{"data-state":p.stateAttribute,...h,...m,ref:a,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ik,{children:o}),s.jsx(ak,{scope:r,isInside:!0,children:s.jsx(WR,{id:p.contentId,role:"tooltip",children:c||o})})]})})});dj.displayName=Lr;var mj="TooltipArrow",hj=v.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,c=Kc(r);return rk(mj,r).isInside?null:s.jsx(rh,{...c,...o,ref:a})});hj.displayName=mj;function ok(t,a){const r=Math.abs(a.top-t.y),o=Math.abs(a.bottom-t.y),c=Math.abs(a.right-t.x),u=Math.abs(a.left-t.x);switch(Math.min(r,o,c,u)){case u:return"left";case c:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function lk(t,a,r=5){const o=[];switch(a){case"top":o.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":o.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":o.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":o.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return o}function ck(t){const{top:a,right:r,bottom:o,left:c}=t;return[{x:c,y:a},{x:r,y:a},{x:r,y:o},{x:c,y:o}]}function uk(t,a){const{x:r,y:o}=t;let c=!1;for(let u=0,f=a.length-1;u<a.length;f=u++){const m=a[u],p=a[f],h=m.x,x=m.y,b=p.x,y=p.y;x>o!=y>o&&r<(b-h)*(o-x)/(y-x)+h&&(c=!c)}return c}function dk(t){const a=t.slice();return a.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),fk(a)}function fk(t){if(t.length<=1)return t.slice();const a=[];for(let o=0;o<t.length;o++){const c=t[o];for(;a.length>=2;){const u=a[a.length-1],f=a[a.length-2];if((u.x-f.x)*(c.y-f.y)>=(u.y-f.y)*(c.x-f.x))a.pop();else break}a.push(c)}a.pop();const r=[];for(let o=t.length-1;o>=0;o--){const c=t[o];for(;r.length>=2;){const u=r[r.length-1],f=r[r.length-2];if((u.x-f.x)*(c.y-f.y)>=(u.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),a.length===1&&r.length===1&&a[0].x===r[0].x&&a[0].y===r[0].y?a:a.concat(r)}var mk=oj,hk=lj,pk=cj,gk=uj,xk=dj,vk=hj;function pj({delayDuration:t=0,...a}){return s.jsx(mk,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function yk({...t}){return s.jsx(pj,{children:s.jsx(hk,{"data-slot":"tooltip",...t})})}function bk({...t}){return s.jsx(pk,{"data-slot":"tooltip-trigger",className:ge("focus-ring"),...t})}function jk({className:t,sideOffset:a=0,children:r,...o}){return s.jsx(gk,{children:s.jsxs(xk,{"data-slot":"tooltip-content",sideOffset:a,className:ge("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-lg px-3 py-1.5 text-xs text-balance border border-border shadow-card",t),...o,children:[r,s.jsx(vk,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const wk="sidebar_state",Nk=3600*24*7,Sk="16rem",_k="18rem",Ck="3rem",Ek="b",gj=v.createContext(null);function lh(){const t=v.useContext(gj);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Ak({defaultOpen:t=!0,open:a,onOpenChange:r,className:o,style:c,children:u,...f}){const m=wE(),[p,h]=v.useState(!1),[x,b]=v.useState(t),y=a??x,_=v.useCallback(E=>{const N=typeof E=="function"?E(y):E;r?r(N):b(N),document.cookie=`${wk}=${N}; path=/; max-age=${Nk}`},[r,y]),C=v.useCallback(()=>m?h(E=>!E):_(E=>!E),[m,_,h]);v.useEffect(()=>{const E=N=>{N.key===Ek&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),C())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[C]);const j=y?"expanded":"collapsed",S=v.useMemo(()=>({state:j,open:y,setOpen:_,isMobile:m,openMobile:p,setOpenMobile:h,toggleSidebar:C}),[j,y,_,m,p,h,C]);return s.jsx(gj.Provider,{value:S,children:s.jsx(pj,{delayDuration:0,children:s.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Sk,"--sidebar-width-icon":Ck,...c},className:ge("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",o),...f,children:u})})})}function Tk({side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:o,children:c,...u}){const{isMobile:f,state:m,openMobile:p,setOpenMobile:h}=lh();return r==="none"?s.jsx("div",{"data-slot":"sidebar",className:ge("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",o),...u,children:c}):f?s.jsx(ST,{open:p,onOpenChange:h,...u,children:s.jsxs(ET,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":_k},side:t,children:[s.jsxs(AT,{className:"sr-only",children:[s.jsx(TT,{children:"Sidebar"}),s.jsx(RT,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:c})]})}):s.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":m,"data-collapsible":m==="collapsed"?r:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[s.jsx("div",{"data-slot":"sidebar-gap",className:ge("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]","group-data-[collapsible=offcanvas]:w-0")}),s.jsx("div",{"data-slot":"sidebar-container",className:ge("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...u,children:s.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-card",children:c})})]})}function Rk({className:t,onClick:a,...r}){const{toggleSidebar:o}=lh();return s.jsxs(ye,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ge("size-7",t),onClick:c=>{a?.(c),o()},...r,children:[s.jsx(YC,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function kk({className:t,...a}){return s.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:ge("flex flex-col gap-2 p-2",t),...a})}function Mk({className:t,...a}){return s.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:ge("flex flex-col gap-2 p-2",t),...a})}function Ok({className:t,...a}){return s.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ge("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function Dk({className:t,...a}){return s.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ge("relative flex w-full min-w-0 flex-col p-2",t),...a})}const xj=v.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const c=a?Pa:"div";return s.jsx(c,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ge("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),ref:o,...r})});xj.displayName="SidebarGroupLabel";const zk=v.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const c=a?Pa:"button";return s.jsx(c,{"data-slot":"sidebar-group-action","data-sidebar":"group-action",className:ge("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","group-data-[collapsible=icon]:hidden",t),ref:o,...r})});zk.displayName="SidebarGroupAction";function Lk({className:t,...a}){return s.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ge("w-full text-sm",t),...a})}function Cy({className:t,...a}){return s.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ge("flex w-full min-w-0 flex-col gap-1",t),...a})}function Ji({className:t,...a}){return s.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ge("group/menu-item relative",t),...a})}const Pk=$m("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),Tr=v.forwardRef(({asChild:t=!1,isActive:a=!1,variant:r="default",size:o="default",tooltip:c,className:u,...f},m)=>{const p=t?Pa:"button",{isMobile:h,state:x}=lh(),b=s.jsx(p,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":o,"data-active":a,className:ge(Pk({variant:r,size:o}),u),ref:m,...f});return c?(typeof c=="string"&&(c={children:c}),s.jsxs(yk,{children:[s.jsx(bk,{asChild:!0,children:b}),s.jsx(jk,{side:"right",align:"center",hidden:x!=="collapsed"||h,...c})]})):b});Tr.displayName="SidebarMenuButton";const Uk=v.forwardRef(({className:t,asChild:a=!1,showOnHover:r=!1,...o},c)=>{const u=a?Pa:"button";return s.jsx(u,{"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:ge("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",t),ref:c,...o})});Uk.displayName="SidebarMenuAction";const Bk=v.forwardRef(({asChild:t=!1,size:a="md",isActive:r=!1,className:o,...c},u)=>{const f=t?Pa:"a";return s.jsx(f,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":a,"data-active":r,className:ge("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a==="sm"&&"text-xs",a==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),ref:u,...c})});Bk.displayName="SidebarMenuSubButton";const Hk=$m("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{muted:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function be({className:t,variant:a,asChild:r=!1,...o}){const c=r?Pa:"span";return s.jsx(c,{"data-slot":"badge",className:ge(Hk({variant:a}),t),...o})}async function vj(t=1,a=10){const r=await xe.get("/v1/student/enrolled_courses/",{params:{page:t,page_size:a}});if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=r.data,c=Array.isArray(o)?o:o?.results??[],u=Array.isArray(o)?c.length:o?.count??c.length;return{ok:!0,status:r.status,data:{items:c,count:u}}}async function yj(t){const a=`/api/v1/courses/${t}/outline/?include_progress=1`,r=await xe.get(a);return r.ok?{ok:!0,status:r.status,data:r.data}:{ok:!1,status:r.status,error:r.error}}function $k(t){return Array.isArray(t)?{ok:!0,status:200,data:t,count:t.length,next:null,previous:null}:{ok:!0,status:200,data:t.results??[],count:t.count,next:t.next,previous:t.previous}}async function Fk(t={}){const a=await xe.get("/v1/courses/",{params:t});return a.ok?$k(a.data):{ok:!1,status:a.status,data:[]}}async function bj(t){const a=await xe.get(`/v1/courses/${t}/`);return a.ok?{ok:!0,status:a.status,data:a.data}:{ok:!1,status:a.status,data:null}}const qk=t=>{const a=new FormData;return t.text&&(a.set("text",t.text),a.set("content",t.text)),t.files?.length&&t.files.forEach((r,o)=>a.append("files",r,r.name||`file_${o}`)),a};async function jj(t){const a=new URLSearchParams;t?.page&&a.set("page",String(t.page)),t?.page_size&&a.set("page_size",String(t.page_size)),t?.status&&a.set("status",String(t.status));const r=`/v1/exercises/submissions/${a.toString()?`?${a.toString()}`:""}`,o=await xe.get(r);if(!o.ok)return{ok:!1,status:o.status,error:o.error};const c=o.data,f=(Array.isArray(c)?c:Array.isArray(c?.results)?c.results??[]:[]).map(m=>{const p=m,h=p.exercise??p;return{id:Number(h.id??p.id??0),course_id:h.course_id??h.course??null,lesson_id:h.lesson_id??null,title:h.title??h.name??p.title??"Esercizio",description:h.description??p.text,status:p.status??h.status,due_at:h.due_at??null,submitted_at:p.submitted_at??null,grade:p.grade??null,reviewer_comment:p.reviewer_comment??null}});return{ok:!0,status:o.status,data:f}}async function Ik(t){const a=await xe.get(`/v1/exercises/${t}/`);if(a.ok&&a.data){const o=a.data;return{ok:!0,status:a.status,data:{id:Number(o.id??t),course_id:o.course_id??o.course??null,lesson_id:o.lesson_id??null,title:o.title??o.name??`Esercizio #${t}`,description:o.description??null,status:o.status??null,due_at:o.due_at??null}}}const r=await xe.get(`/v1/exercises/${t}/my_submission/`);if(r.ok&&r.data){const o=r.data,c=o.exercise??o;return{ok:!0,status:r.status,data:{id:Number(c.id??c.exercise_id??c.pk??c.submission_id??t),course_id:c.course_id??c.course??null,lesson_id:c.lesson_id??null,title:c.title??o.title??`Esercizio #${t}`,description:c.description??o.text,status:o.status??c.status,due_at:c.due_at??null}}}return{ok:!1,status:r.status??a.status??404,error:r.error??a.error}}async function wj(t,a){const r=`/api/v1/exercises/${t}/submit/`;if(a.files?.length){const c=await xe.post(r,qk(a));if(c.ok)return{ok:!0,status:c.status,data:c.data};if(![400,415,422].includes(c.status))return{ok:!1,status:c.status,error:c.error}}const o=await xe.post(r,{text:a.text??"",content:a.text??""});return o.ok?{ok:!0,status:o.status,data:o.data}:{ok:!1,status:o.status,error:o.error}}async function Vk(t){const a=await xe.get(`/v1/courses/${t}/lessons/`);if(!a.ok)return{ok:!1,status:a.status,error:a.error};const r=Array.isArray(a.data)?a.data:a.data?.results??[];return{ok:!0,status:a.status,data:r}}async function Nj(t){const a=await xe.get(`/v1/exercises/${t}/my_submission/`);return a.ok?{ok:!0,status:a.status,data:a.data}:{ok:!1,status:a.status,error:a.error}}const Ht=t=>{const a=Number(t);return Number.isFinite(a)?a:void 0};function Gk(t){const a=Ht(t?.submission_id??t?.submission?.id??t?.submission_pk??t?.submission?.pk??t?.submissionId??t?.id??t?.pk),r=t?.exercise,o=Ht(t?.exercise_id??r?.id??r?.exercise_id??t?.exerciseId??t?.pk??t?.exercise_pk);return{submission_id:a??void 0,exercise_id:o??void 0,exercise_title:t?.exercise_title??t?.title??void 0,course_id:Ht(t?.course_id??t?.course),lesson_id:Ht(t?.lesson_id??t?.lesson),submitted_at:t?.submitted_at??t?.created_at??t?.created,student:t?.student?{id:Ht(t.student.id),name:t.student.name??t.student.full_name??t.student.username}:void 0,status:t?.status??void 0}}function Ey(t){const a=Array.isArray(t?.files)?t.files.map(o=>({url:String(o?.url??o),name:o?.name??void 0})):Array.isArray(t?.attachments)?t.attachments.map(o=>({url:String(o?.url??o),name:o?.name??void 0})):[],r=t?.student||t?.author?{id:Ht(t?.student?.id??t?.author?.id),name:t?.student?.name??t?.author?.name??t?.student?.username??t?.author?.username}:void 0;return{id:Ht(t?.id??t?.submission_id)??0,exercise_id:Ht(t?.exercise_id??t?.exercise?.id??t?.exerciseId)??0,lesson_id:Ht(t?.lesson_id??t?.lesson)??void 0,course_id:Ht(t?.course_id??t?.course)??void 0,student:r,text:t?.text??t?.answer??"",files:a,created_at:t?.created_at??t?.submitted_at??void 0,status:t?.status??void 0,title:t?.exercise_title??t?.title??void 0,from_exercise:t?.__from_exercise??t?.from_exercise??!1}}const Ea=new Map;async function ch(){const t=["/v1/reviews/assigned/","/v1/reviewer/assigned/"];for(const a of t){const r=await xe.get(a);if(r.ok){console.debug?.("[reviews.listAssignedReviews] url=",a,"raw=",r.data);const o=Array.isArray(r.data)?r.data:r.data?.results??[];return{ok:!0,status:r.status,data:o.map(Gk)}}if(![404,405].includes(r.status??r.status))return{ok:!1,status:r.status,error:r.error}}return{ok:!1,status:404,error:"No assigned reviews endpoint"}}async function Yk(t){const a=["/v1/reviews/history/","/v1/reviewer/history/"];for(const r of a){const o=await xe.get(r,{params:t,query:t});if(o.ok){const c=Array.isArray(o.data)?o.data:o.data?.results??[];return{ok:!0,status:o.status,data:c}}if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"No reviews history endpoint"}}async function Sj(t){const a=[`/v1/submissions/${t}/review-detail/`,`/v1/exercises/submissions/${t}/`,`/v1/submissions/${t}/`,`/v1/reviews/${t}/submission/`,`/v1/exercises/${t}/my_submission/`,`/v1/exercises/${t}/`,`/v1/exercises/${t}/submissions/`,`/v1/exercises/${t}/submissions/${t}/`];let r=404;for(const o of a){const c=await xe.get(o);if(c.ok){o.includes("/submissions/")&&Ea.set(t,"submission");let f=c.data;if(Array.isArray(f)&&(f=f[0]),f&&f.results&&Array.isArray(f.results)&&(f=f.results[0]),f&&typeof f=="object"){const m=f.my_submission??f.submission??f.latest_submission??f.student_submission??(Array.isArray(f.submissions)?f.submissions[0]:void 0);if(m)return!m.exercise_id&&m.exercise?.id&&(m.exercise_id=m.exercise.id),m.exercise_id&&Ea.set(Number(m.exercise_id),"exercise"),{ok:!0,status:c.status,data:Ey(m)};const p={id:Ht(f.id??f.exercise_id)??t,exercise_id:Ht(f.id??f.exercise_id)??t,lesson_id:Ht(f.lesson_id??f.lesson)??void 0,course_id:Ht(f.course_id??f.course)??void 0,student:f.student?{id:Ht(f.student.id),name:f.student.name}:void 0,text:f.solution??f.answer??f.text??f.description??f.content??"",files:Array.isArray(f.attachments)?f.attachments.map(h=>({url:String(h?.url??h),name:h?.name})):[],created_at:f.created_at??f.submitted_at??void 0,status:f.status??void 0,title:f.title??f.name??void 0};return Ea.set(Number(p.exercise_id??p.id),"exercise"),p.__from_exercise=!0,{ok:!0,status:c.status,data:Ey(p)}}}const u=c.status??c.status;if(u===403)return{ok:!1,status:403,error:c.error??"Forbidden"};if(![404,405].includes(u))return{ok:!1,status:u,error:c.error};r=u}return{ok:!1,status:r,error:"Submission not found"}}async function _j(t,a,r){const o={score:a.score,grade:a.score,comment:a.comment??""};a.decision&&(o.decision=a.decision),typeof a.technical=="number"&&(o.technical=a.technical),typeof a.creative=="number"&&(o.creative=a.creative),typeof a.following=="number"&&(o.following=a.following),Array.isArray(a.recommendations)&&a.recommendations.length&&(o.recommendations=a.recommendations);const u=(()=>{const f=[],m=Ea.get(t);return r&&f.push(`/v1/exercises/${r}/review/`),m==="submission"?(f.push(`/v1/submissions/${t}/review/`),f.push(`/v1/exercises/${t}/review/`)):(f.push(`/v1/exercises/${t}/review/`),f.push(`/v1/submissions/${t}/review/`)),f.push(`/v1/reviews/${t}/submit/`),f.push(`/v1/reviews/${t}/`),f})();for(const f of u){console.debug?.("[reviews.sendReview] POSTing",f,o);const m=await xe.post(f,o);if(m.ok)return f.includes("/exercises/")?Ea.set(t,"exercise"):f.includes("/submissions/")?Ea.set(t,"submission"):Ea.set(t,"review"),{ok:!0,status:m.status,data:m.data};if(![404,405,422].includes(m.status??m.status))return console.debug?.("[reviews.sendReview] POST failed non-404",f,m),{ok:!1,status:m.status,error:m.error}}return{ok:!1,status:404,error:"Review submit endpoint not found"}}function Cj(){const[t,a]=v.useState(null),[r,o]=v.useState(!0),[c,u]=v.useState(null);return v.useEffect(()=>{let f=!0;async function m(){o(!0);try{const[p,h,x]=await Promise.all([vj(1,100),ch(),fc()]),b=p.ok?p.data.count??p.data.items.length:0,y=h.ok?h.data.length:0,_=0,C=x.ok?x.data.balance_teo??0:0,j=`${Number.isFinite(C)?Math.round(C):0} Creator Tokens`,E=(p.ok?p.data.items??[]:[]).map(O=>{const M=String(O.id??O.course_id??O.pk??""),G=O.title??O.name??"Untitled",I=O.description??void 0,q=O.cover_url??O.cover_image??O.thumbnail??void 0,R=typeof O.progress=="number"?O.progress:typeof O.progress_percent=="number"?O.progress_percent:void 0,P=typeof O.lessons_count=="number"?O.lessons_count:typeof O.lessons=="number"?O.lessons:typeof O.total_lessons=="number"?O.total_lessons:10,B=typeof O.completed_lessons=="number"?O.completed_lessons:typeof R=="number"?Math.round(R/100*P):0;return{id:M,title:G,description:I,thumbnail:q,progressPercent:R,lessonsTotal:P,lessonsCompleted:B}}),T=await Promise.all(E.map(async O=>{try{const M=Number(O.id);if(Number.isFinite(M)&&M>0){const G=await yj(M);if(G.ok&&G.data){const q=G.data,R=Array.isArray(q.lessons)?q.lessons:[],P=R.length>0?R.length:O.lessonsTotal??10,K=(Array.isArray(q.progress?.completed_lesson_ids)?q.progress.completed_lesson_ids:[]).length,ne=typeof q.progress?.percent=="number"?Math.round(q.progress.percent):P>0?Math.round(K/P*100):O.progressPercent??0;return{...O,lessonsTotal:P,lessonsCompleted:K,progressPercent:ne}}const I=await Vk(M);if(I.ok){const q=I.data.length,R=typeof O.progressPercent=="number"?Math.round(O.progressPercent/100*q):O.lessonsCompleted??0,P=q>0?Math.round(R/q*100):O.progressPercent??0;return{...O,lessonsTotal:q,lessonsCompleted:R,progressPercent:P}}}}catch(M){console.debug("Failed to enrich course outline",O.id,M)}return O}));if(!f)return;a({activeCourses:b,pendingReviews:y,reviewsGiven:_,teoBalance:C??0,creatorTokensLabel:j,enrolledCourses:T}),u(null)}catch(p){if(!f)return;u(String(p?.message??p??"Error")),a({activeCourses:0,pendingReviews:0,reviewsGiven:0,teoBalance:0,creatorTokensLabel:"0 Creator Tokens"})}finally{f&&o(!1)}}return m(),()=>{f=!1}},[]),{stats:t,loading:r,error:c}}function Kk(t){if(Array.isArray(t))return{ok:!0,status:200,data:t,next:null,previous:null,count:t.length};if(t&&typeof t=="object"){const a=t;if(Array.isArray(a?.data)){const o=a.data;return{ok:!0,status:200,data:o,next:null,previous:null,count:o.length}}if(a&&a.data&&typeof a.data=="object"){const o=a.data;if(Array.isArray(o.results))return{ok:!0,status:200,data:o.results,next:o.next??null,previous:o.previous??null,count:typeof o.count=="number"?o.count:o.results.length}}const r=t;if(Array.isArray(r.results))return{ok:!0,status:200,data:r.results,next:r.next??null,previous:r.previous??null,count:typeof r.count=="number"?r.count:r.results.length}}return{ok:!0,status:200,data:[],next:null,previous:null,count:0}}async function Qk(){const t=await xe.get("/v1/notifications/unread-count/");if(!t.ok)return 0;const a=t.data;return typeof a=="number"?a:typeof a?.count=="number"?a.count:typeof a?.unread_count=="number"?a.unread_count:0}async function Xk(t){const a=await xe.get("/v1/notifications/",{params:t});if(!a.ok)return{ok:!1,status:a.status,data:[]};const r=Kk(a.data??[]);try{if(typeof window<"u"){const c=window;c.__notif_raw_logged||(console.debug("[notifications.getNotifications] raw sample",(r.data||[])[0]),c.__notif_raw_logged=!0)}}catch{}const o=r.data.map(c=>{if(!c||c.notification_type!=="teocoin_discount_pending"||c.decision_id!=null)return c;const u=c,f=u.related_object_type||u.related_type||u.relatedModel,m=typeof f=="string"&&f.includes("TeacherDiscountDecision"),p=u.related_object_id;return m&&typeof p=="number"?{...c,decision_id:p}:c});return{...r,data:o}}async function Wk(t){return await xe.patch(`/v1/notifications/${t}/read/`,{read:!0})}async function Zk(){return{ok:!1,status:405,error:{detail:"Not implemented on backend"}}}function Hf(){typeof window<"u"&&window.dispatchEvent(new CustomEvent("notifications:updated"))}async function Ay(t){return xe.get(`/api/v1/teacher-choices/${t}/`)}async function Jk(){try{const t=await xe.get("/api/v1/teacher-choices/pending/");if(!t.ok)return 0;const a=t.data;return a?typeof a.count=="number"?a.count:Array.isArray(a.pending_requests)?a.pending_requests.length:Array.isArray(a)?a.length:0:0}catch{return 0}}function e4({currentPage:t,onPageChange:a}){const{user:r,isTeacher:o}=es(),{stats:c,loading:u}=Cj(),f=F2(),m=f?f.username??(f.first_name||f.last_name?`${f.first_name??""} ${f.last_name??""}`.trim():f.email):void 0,p=r?r.name??r.email??String(r.id??""):m,h=p&&p.length>20?p.slice(0,20)+"…":p??"",y=o?[{title:"Dashboard",page:"teacher-dashboard",icon:uo},{title:"My Courses",page:"courses",icon:Mn},{title:"Students",page:"students",icon:Pt},{title:"Peer Review",page:"peer-review",icon:io},{title:"Community",page:"community",icon:Pt},{title:"Analytics",page:"analytics",icon:ro}]:[{title:"Dashboard",page:"dashboard",icon:MC},{title:"Learning Paths",page:"courses",icon:Mn},{title:"Peer Review",page:"peer-review",icon:io},{title:"Community",page:"community",icon:Pt},{title:"Gallery",page:"gallery",icon:mc},{title:"Discussions",page:"discussions",icon:Ib},{title:"Achievements",page:"achievements",icon:ro}];function _(){const[j,S]=v.useState(null);return v.useEffect(()=>{let E=!0;async function N(){try{const O=await Qk();E&&S(O)}catch{E&&S(null)}}N();const T=()=>{N()};return window.addEventListener("notifications:updated",T),()=>{E=!1,window.removeEventListener("notifications:updated",T)}},[]),!j||j<=0?null:s.jsx(be,{variant:"secondary",className:"ml-auto bg-primary text-primary-foreground",children:j})}function C(){const[j,S]=v.useState(null);return v.useEffect(()=>{let E=!0;async function N(){try{const O=await Jk();E&&S(O)}catch{E&&S(null)}}N();const T=()=>{N()};return window.addEventListener("notifications:updated",T),()=>{E=!1,window.removeEventListener("notifications:updated",T)}},[]),!j||j<=0?null:s.jsx(be,{variant:"secondary",className:"ml-auto bg-yellow-100 text-yellow-800",children:j})}return s.jsxs(Tk,{children:[s.jsx(kk,{children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2",children:[s.jsx("div",{className:"size-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(mc,{className:"size-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-medium",children:"ArtLearn"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o?"Teacher Studio":"Community Studio"})]})]})}),s.jsx(Ok,{children:s.jsxs(Dk,{children:[s.jsx(xj,{children:"Navigation"}),s.jsx(Lk,{children:s.jsx(Cy,{children:y.map(j=>s.jsx(Ji,{children:s.jsx(Tr,{asChild:!0,isActive:t===j.page||j.page==="teacher-dashboard"&&t==="dashboard"&&o||j.page==="dashboard"&&t==="dashboard"&&!o,children:s.jsxs("button",{onClick:()=>a(j.page),className:"w-full flex items-center gap-2",children:[s.jsx(j.icon,{className:"size-4"}),s.jsx("span",{children:j.title}),j.title==="Peer Review"&&!o&&s.jsx(be,{variant:"secondary",className:"ml-auto bg-blue-100 text-blue-800",children:u?"…":c?.pendingReviews??0})]})})},j.title))})})]})}),s.jsx(Mk,{children:s.jsxs(Cy,{children:[s.jsx(Ji,{children:s.jsxs(Tr,{onClick:()=>a("notifications"),children:[s.jsx(dC,{className:"size-4"}),s.jsx("span",{children:"Notifiche"}),s.jsx(_,{})]})}),o&&s.jsx(Ji,{children:s.jsxs(Tr,{onClick:()=>a("teacher-opportunities"),children:[s.jsx(ro,{className:"size-4"}),s.jsx("span",{children:"Opportunity"}),s.jsx(C,{})]})}),s.jsx(Ji,{children:s.jsxs(Tr,{onClick:()=>a("wallet"),children:[s.jsx(fo,{className:"size-4"}),s.jsx("span",{children:"Wallet"}),s.jsxs(be,{variant:"secondary",className:"ml-auto bg-purple-100 text-purple-800",children:[r?.tokens||0," ✨"]})]})}),s.jsx(Ji,{children:s.jsxs(Tr,{onClick:()=>a("profile"),tooltip:p,children:[s.jsx(Gb,{className:"size-4"}),h?s.jsx("span",{className:"truncate max-w-[9rem]",title:p,children:h}):null,s.jsx(be,{variant:"outline",className:"ml-auto capitalize text-xs",children:r?.role})]})})]})})]})}var $f={exports:{}},Ff={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function t4(){if(Ty)return Ff;Ty=1;var t=kc();function a(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var r=typeof Object.is=="function"?Object.is:a,o=t.useState,c=t.useEffect,u=t.useLayoutEffect,f=t.useDebugValue;function m(b,y){var _=y(),C=o({inst:{value:_,getSnapshot:y}}),j=C[0].inst,S=C[1];return u(function(){j.value=_,j.getSnapshot=y,p(j)&&S({inst:j})},[b,_,y]),c(function(){return p(j)&&S({inst:j}),b(function(){p(j)&&S({inst:j})})},[b]),f(_),_}function p(b){var y=b.getSnapshot;b=b.value;try{var _=y();return!r(b,_)}catch{return!0}}function h(b,y){return y()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:m;return Ff.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,Ff}var Ry;function n4(){return Ry||(Ry=1,$f.exports=t4()),$f.exports}var s4=n4();function a4(){return s4.useSyncExternalStore(r4,()=>!0,()=>!1)}function r4(){return()=>{}}var uh="Avatar",[i4,az]=Pn(uh),[o4,Ej]=i4(uh),Aj=v.forwardRef((t,a)=>{const{__scopeAvatar:r,...o}=t,[c,u]=v.useState("idle");return s.jsx(o4,{scope:r,imageLoadingStatus:c,onImageLoadingStatusChange:u,children:s.jsx(Ee.span,{...o,ref:a})})});Aj.displayName=uh;var Tj="AvatarImage",Rj=v.forwardRef((t,a)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:c=()=>{},...u}=t,f=Ej(Tj,r),m=l4(o,u),p=On(h=>{c(h),f.onImageLoadingStatusChange(h)});return jt(()=>{m!=="idle"&&p(m)},[m,p]),m==="loaded"?s.jsx(Ee.img,{...u,ref:a,src:o}):null});Rj.displayName=Tj;var kj="AvatarFallback",Mj=v.forwardRef((t,a)=>{const{__scopeAvatar:r,delayMs:o,...c}=t,u=Ej(kj,r),[f,m]=v.useState(o===void 0);return v.useEffect(()=>{if(o!==void 0){const p=window.setTimeout(()=>m(!0),o);return()=>window.clearTimeout(p)}},[o]),f&&u.imageLoadingStatus!=="loaded"?s.jsx(Ee.span,{...c,ref:a}):null});Mj.displayName=kj;function ky(t,a){return t?a?(t.src!==a&&(t.src=a),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l4(t,{referrerPolicy:a,crossOrigin:r}){const o=a4(),c=v.useRef(null),u=o?(c.current||(c.current=new window.Image),c.current):null,[f,m]=v.useState(()=>ky(u,t));return jt(()=>{m(ky(u,t))},[u,t]),jt(()=>{const p=b=>()=>{m(b)};if(!u)return;const h=p("loaded"),x=p("error");return u.addEventListener("load",h),u.addEventListener("error",x),a&&(u.referrerPolicy=a),typeof r=="string"&&(u.crossOrigin=r),()=>{u.removeEventListener("load",h),u.removeEventListener("error",x)}},[u,r,a]),f}var c4=Aj,u4=Rj,d4=Mj;function ys({className:t,...a}){return s.jsx(c4,{"data-slot":"avatar",className:ge("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...a})}function Qc({className:t,...a}){return s.jsx(u4,{"data-slot":"avatar-image",className:ge("aspect-square size-full",t),...a})}function bs({className:t,children:a}){return s.jsx(d4,{"data-slot":"avatar-fallback",className:ge("aspect-square size-full flex items-center justify-center bg-muted text-sm font-medium text-foreground leading-none",t),children:a})}function dh(t){const a=t+"CollectionProvider",[r,o]=Pn(a),[c,u]=r(a,{collectionRef:{current:null},itemMap:new Map}),f=j=>{const{scope:S,children:E}=j,N=H.useRef(null),T=H.useRef(new Map).current;return s.jsx(c,{scope:S,itemMap:T,collectionRef:N,children:E})};f.displayName=a;const m=t+"CollectionSlot",p=Ta(m),h=H.forwardRef((j,S)=>{const{scope:E,children:N}=j,T=u(m,E),O=Ge(S,T.collectionRef);return s.jsx(p,{ref:O,children:N})});h.displayName=m;const x=t+"CollectionItemSlot",b="data-radix-collection-item",y=Ta(x),_=H.forwardRef((j,S)=>{const{scope:E,children:N,...T}=j,O=H.useRef(null),M=Ge(S,O),G=u(x,E);return H.useEffect(()=>(G.itemMap.set(O,{ref:O,...T}),()=>void G.itemMap.delete(O))),s.jsx(y,{[b]:"",ref:M,children:N})});_.displayName=x;function C(j){const S=u(t+"CollectionConsumer",j);return H.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const T=Array.from(N.querySelectorAll(`[${b}]`));return Array.from(S.itemMap.values()).sort((G,I)=>T.indexOf(G.ref.current)-T.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:f,Slot:h,ItemSlot:_},C,o]}var f4=v.createContext(void 0);function Xc(t){const a=v.useContext(f4);return t||a||"ltr"}var qf="rovingFocusGroup.onEntryFocus",m4={bubbles:!1,cancelable:!0},Eo="RovingFocusGroup",[um,Oj,h4]=dh(Eo),[p4,Wc]=Pn(Eo,[h4]),[g4,x4]=p4(Eo),Dj=v.forwardRef((t,a)=>s.jsx(um.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(um.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(v4,{...t,ref:a})})}));Dj.displayName=Eo;var v4=v.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:c=!1,dir:u,currentTabStopId:f,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...b}=t,y=v.useRef(null),_=Ge(a,y),C=Xc(u),[j,S]=Ra({prop:f,defaultProp:m??null,onChange:p,caller:Eo}),[E,N]=v.useState(!1),T=On(h),O=Oj(r),M=v.useRef(!1),[G,I]=v.useState(0);return v.useEffect(()=>{const q=y.current;if(q)return q.addEventListener(qf,T),()=>q.removeEventListener(qf,T)},[T]),s.jsx(g4,{scope:r,orientation:o,dir:C,loop:c,currentTabStopId:j,onItemFocus:v.useCallback(q=>S(q),[S]),onItemShiftTab:v.useCallback(()=>N(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(q=>q+1),[]),onFocusableItemRemove:v.useCallback(()=>I(q=>q-1),[]),children:s.jsx(Ee.div,{tabIndex:E||G===0?-1:0,"data-orientation":o,...b,ref:_,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{M.current=!0}),onFocus:he(t.onFocus,q=>{const R=!M.current;if(q.target===q.currentTarget&&R&&!E){const P=new CustomEvent(qf,m4);if(q.currentTarget.dispatchEvent(P),!P.defaultPrevented){const B=O().filter(D=>D.focusable),K=B.find(D=>D.active),ne=B.find(D=>D.id===j),Y=[K,ne,...B].filter(Boolean).map(D=>D.ref.current);Pj(Y,x)}}M.current=!1}),onBlur:he(t.onBlur,()=>N(!1))})})}),zj="RovingFocusGroupItem",Lj=v.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:c=!1,tabStopId:u,children:f,...m}=t,p=Rn(),h=u||p,x=x4(zj,r),b=x.currentTabStopId===h,y=Oj(r),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:j}=x;return v.useEffect(()=>{if(o)return _(),()=>C()},[o,_,C]),s.jsx(um.ItemSlot,{scope:r,id:h,focusable:o,active:c,children:s.jsx(Ee.span,{tabIndex:b?0:-1,"data-orientation":x.orientation,...m,ref:a,onMouseDown:he(t.onMouseDown,S=>{o?x.onItemFocus(h):S.preventDefault()}),onFocus:he(t.onFocus,()=>x.onItemFocus(h)),onKeyDown:he(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){x.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=j4(S,x.orientation,x.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=y().filter(O=>O.focusable).map(O=>O.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const O=T.indexOf(S.currentTarget);T=x.loop?w4(T,O+1):T.slice(O+1)}setTimeout(()=>Pj(T))}}),children:typeof f=="function"?f({isCurrentTabStop:b,hasTabStop:j!=null}):f})})});Lj.displayName=zj;var y4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b4(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function j4(t,a,r){const o=b4(t.key,r);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return y4[o]}function Pj(t,a=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:a}),document.activeElement!==r))return}function w4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var Uj=Dj,Bj=Lj,dm=["Enter"," "],N4=["ArrowDown","PageUp","Home"],Hj=["ArrowUp","PageDown","End"],S4=[...N4,...Hj],_4={ltr:[...dm,"ArrowRight"],rtl:[...dm,"ArrowLeft"]},C4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ao="Menu",[go,E4,A4]=dh(Ao),[Ua,$j]=Pn(Ao,[A4,Vr,Wc]),Zc=Vr(),Fj=Wc(),[T4,Ba]=Ua(Ao),[R4,To]=Ua(Ao),qj=t=>{const{__scopeMenu:a,open:r=!1,children:o,dir:c,onOpenChange:u,modal:f=!0}=t,m=Zc(a),[p,h]=v.useState(null),x=v.useRef(!1),b=On(u),y=Xc(c);return v.useEffect(()=>{const _=()=>{x.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>x.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),s.jsx(nh,{...m,children:s.jsx(T4,{scope:a,open:r,onOpenChange:b,content:p,onContentChange:h,children:s.jsx(R4,{scope:a,onClose:v.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:x,dir:y,modal:f,children:o})})})};qj.displayName=Ao;var k4="MenuAnchor",fh=v.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,c=Zc(r);return s.jsx(sh,{...c,...o,ref:a})});fh.displayName=k4;var mh="MenuPortal",[M4,Ij]=Ua(mh,{forceMount:void 0}),Vj=t=>{const{__scopeMenu:a,forceMount:r,children:o,container:c}=t,u=Ba(mh,a);return s.jsx(M4,{scope:a,forceMount:r,children:s.jsx(Un,{present:r||u.open,children:s.jsx(So,{asChild:!0,container:c,children:o})})})};Vj.displayName=mh;var Nn="MenuContent",[O4,hh]=Ua(Nn),Gj=v.forwardRef((t,a)=>{const r=Ij(Nn,t.__scopeMenu),{forceMount:o=r.forceMount,...c}=t,u=Ba(Nn,t.__scopeMenu),f=To(Nn,t.__scopeMenu);return s.jsx(go.Provider,{scope:t.__scopeMenu,children:s.jsx(Un,{present:o||u.open,children:s.jsx(go.Slot,{scope:t.__scopeMenu,children:f.modal?s.jsx(D4,{...c,ref:a}):s.jsx(z4,{...c,ref:a})})})})}),D4=v.forwardRef((t,a)=>{const r=Ba(Nn,t.__scopeMenu),o=v.useRef(null),c=Ge(a,o);return v.useEffect(()=>{const u=o.current;if(u)return Im(u)},[]),s.jsx(ph,{...t,ref:c,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),z4=v.forwardRef((t,a)=>{const r=Ba(Nn,t.__scopeMenu);return s.jsx(ph,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),L4=Ta("MenuContent.ScrollLock"),ph=v.forwardRef((t,a)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:c,onOpenAutoFocus:u,onCloseAutoFocus:f,disableOutsidePointerEvents:m,onEntryFocus:p,onEscapeKeyDown:h,onPointerDownOutside:x,onFocusOutside:b,onInteractOutside:y,onDismiss:_,disableOutsideScroll:C,...j}=t,S=Ba(Nn,r),E=To(Nn,r),N=Zc(r),T=Fj(r),O=E4(r),[M,G]=v.useState(null),I=v.useRef(null),q=Ge(a,I,S.onContentChange),R=v.useRef(0),P=v.useRef(""),B=v.useRef(0),K=v.useRef(null),ne=v.useRef("right"),te=v.useRef(0),Y=C?$c:v.Fragment,D=C?{as:L4,allowPinchZoom:!0}:void 0,X=ae=>{const k=P.current+ae,$=O().filter(oe=>!oe.disabled),L=document.activeElement,U=$.find(oe=>oe.ref.current===L)?.textValue,Z=$.map(oe=>oe.textValue),re=K4(Z,k,U),ue=$.find(oe=>oe.textValue===re)?.ref.current;(function oe(de){P.current=de,window.clearTimeout(R.current),de!==""&&(R.current=window.setTimeout(()=>oe(""),1e3))})(k),ue&&setTimeout(()=>ue.focus())};v.useEffect(()=>()=>window.clearTimeout(R.current),[]),qm();const se=v.useCallback(ae=>ne.current===K.current?.side&&X4(ae,K.current?.area),[]);return s.jsx(O4,{scope:r,searchRef:P,onItemEnter:v.useCallback(ae=>{se(ae)&&ae.preventDefault()},[se]),onItemLeave:v.useCallback(ae=>{se(ae)||(I.current?.focus(),G(null))},[se]),onTriggerLeave:v.useCallback(ae=>{se(ae)&&ae.preventDefault()},[se]),pointerGraceTimerRef:B,onPointerGraceIntentChange:v.useCallback(ae=>{K.current=ae},[]),children:s.jsx(Y,{...D,children:s.jsx(Bc,{asChild:!0,trapped:c,onMountAutoFocus:he(u,ae=>{ae.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:s.jsx(No,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:h,onPointerDownOutside:x,onFocusOutside:b,onInteractOutside:y,onDismiss:_,children:s.jsx(Uj,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:o,currentTabStopId:M,onCurrentTabStopIdChange:G,onEntryFocus:he(p,ae=>{E.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ah,{role:"menu","aria-orientation":"vertical","data-state":lw(S.open),"data-radix-menu-content":"",dir:E.dir,...N,...j,ref:q,style:{outline:"none",...j.style},onKeyDown:he(j.onKeyDown,ae=>{const $=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,L=ae.ctrlKey||ae.altKey||ae.metaKey,U=ae.key.length===1;$&&(ae.key==="Tab"&&ae.preventDefault(),!L&&U&&X(ae.key));const Z=I.current;if(ae.target!==Z||!S4.includes(ae.key))return;ae.preventDefault();const ue=O().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);Hj.includes(ae.key)&&ue.reverse(),G4(ue)}),onBlur:he(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:he(t.onPointerMove,xo(ae=>{const k=ae.target,$=te.current!==ae.clientX;if(ae.currentTarget.contains(k)&&$){const L=ae.clientX>te.current?"right":"left";ne.current=L,te.current=ae.clientX}}))})})})})})})});Gj.displayName=Nn;var P4="MenuGroup",gh=v.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return s.jsx(Ee.div,{role:"group",...o,ref:a})});gh.displayName=P4;var U4="MenuLabel",Yj=v.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return s.jsx(Ee.div,{...o,ref:a})});Yj.displayName=U4;var yc="MenuItem",My="menu.itemSelect",Jc=v.forwardRef((t,a)=>{const{disabled:r=!1,onSelect:o,...c}=t,u=v.useRef(null),f=To(yc,t.__scopeMenu),m=hh(yc,t.__scopeMenu),p=Ge(a,u),h=v.useRef(!1),x=()=>{const b=u.current;if(!r&&b){const y=new CustomEvent(My,{bubbles:!0,cancelable:!0});b.addEventListener(My,_=>o?.(_),{once:!0}),n0(b,y),y.defaultPrevented?h.current=!1:f.onClose()}};return s.jsx(Kj,{...c,ref:p,disabled:r,onClick:he(t.onClick,x),onPointerDown:b=>{t.onPointerDown?.(b),h.current=!0},onPointerUp:he(t.onPointerUp,b=>{h.current||b.currentTarget?.click()}),onKeyDown:he(t.onKeyDown,b=>{const y=m.searchRef.current!=="";r||y&&b.key===" "||dm.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});Jc.displayName=yc;var Kj=v.forwardRef((t,a)=>{const{__scopeMenu:r,disabled:o=!1,textValue:c,...u}=t,f=hh(yc,r),m=Fj(r),p=v.useRef(null),h=Ge(a,p),[x,b]=v.useState(!1),[y,_]=v.useState("");return v.useEffect(()=>{const C=p.current;C&&_((C.textContent??"").trim())},[u.children]),s.jsx(go.ItemSlot,{scope:r,disabled:o,textValue:c??y,children:s.jsx(Bj,{asChild:!0,...m,focusable:!o,children:s.jsx(Ee.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...u,ref:h,onPointerMove:he(t.onPointerMove,xo(C=>{o?f.onItemLeave(C):(f.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,xo(C=>f.onItemLeave(C))),onFocus:he(t.onFocus,()=>b(!0)),onBlur:he(t.onBlur,()=>b(!1))})})})}),B4="MenuCheckboxItem",Qj=v.forwardRef((t,a)=>{const{checked:r=!1,onCheckedChange:o,...c}=t;return s.jsx(ew,{scope:t.__scopeMenu,checked:r,children:s.jsx(Jc,{role:"menuitemcheckbox","aria-checked":bc(r)?"mixed":r,...c,ref:a,"data-state":vh(r),onSelect:he(c.onSelect,()=>o?.(bc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Qj.displayName=B4;var Xj="MenuRadioGroup",[H4,$4]=Ua(Xj,{value:void 0,onValueChange:()=>{}}),Wj=v.forwardRef((t,a)=>{const{value:r,onValueChange:o,...c}=t,u=On(o);return s.jsx(H4,{scope:t.__scopeMenu,value:r,onValueChange:u,children:s.jsx(gh,{...c,ref:a})})});Wj.displayName=Xj;var Zj="MenuRadioItem",Jj=v.forwardRef((t,a)=>{const{value:r,...o}=t,c=$4(Zj,t.__scopeMenu),u=r===c.value;return s.jsx(ew,{scope:t.__scopeMenu,checked:u,children:s.jsx(Jc,{role:"menuitemradio","aria-checked":u,...o,ref:a,"data-state":vh(u),onSelect:he(o.onSelect,()=>c.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Jj.displayName=Zj;var xh="MenuItemIndicator",[ew,F4]=Ua(xh,{checked:!1}),tw=v.forwardRef((t,a)=>{const{__scopeMenu:r,forceMount:o,...c}=t,u=F4(xh,r);return s.jsx(Un,{present:o||bc(u.checked)||u.checked===!0,children:s.jsx(Ee.span,{...c,ref:a,"data-state":vh(u.checked)})})});tw.displayName=xh;var q4="MenuSeparator",nw=v.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return s.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...o,ref:a})});nw.displayName=q4;var I4="MenuArrow",sw=v.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,c=Zc(r);return s.jsx(rh,{...c,...o,ref:a})});sw.displayName=I4;var V4="MenuSub",[rz,aw]=Ua(V4),so="MenuSubTrigger",rw=v.forwardRef((t,a)=>{const r=Ba(so,t.__scopeMenu),o=To(so,t.__scopeMenu),c=aw(so,t.__scopeMenu),u=hh(so,t.__scopeMenu),f=v.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:p}=u,h={__scopeMenu:t.__scopeMenu},x=v.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return v.useEffect(()=>x,[x]),v.useEffect(()=>{const b=m.current;return()=>{window.clearTimeout(b),p(null)}},[m,p]),s.jsx(fh,{asChild:!0,...h,children:s.jsx(Kj,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":c.contentId,"data-state":lw(r.open),...t,ref:Uc(a,c.onTriggerChange),onClick:b=>{t.onClick?.(b),!(t.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,xo(b=>{u.onItemEnter(b),!b.defaultPrevented&&!t.disabled&&!r.open&&!f.current&&(u.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{r.onOpenChange(!0),x()},100))})),onPointerLeave:he(t.onPointerLeave,xo(b=>{x();const y=r.content?.getBoundingClientRect();if(y){const _=r.content?.dataset.side,C=_==="right",j=C?-5:5,S=y[C?"left":"right"],E=y[C?"right":"left"];u.onPointerGraceIntentChange({area:[{x:b.clientX+j,y:b.clientY},{x:S,y:y.top},{x:E,y:y.top},{x:E,y:y.bottom},{x:S,y:y.bottom}],side:_}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(b),b.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,b=>{const y=u.searchRef.current!=="";t.disabled||y&&b.key===" "||_4[o.dir].includes(b.key)&&(r.onOpenChange(!0),r.content?.focus(),b.preventDefault())})})})});rw.displayName=so;var iw="MenuSubContent",ow=v.forwardRef((t,a)=>{const r=Ij(Nn,t.__scopeMenu),{forceMount:o=r.forceMount,...c}=t,u=Ba(Nn,t.__scopeMenu),f=To(Nn,t.__scopeMenu),m=aw(iw,t.__scopeMenu),p=v.useRef(null),h=Ge(a,p);return s.jsx(go.Provider,{scope:t.__scopeMenu,children:s.jsx(Un,{present:o||u.open,children:s.jsx(go.Slot,{scope:t.__scopeMenu,children:s.jsx(ph,{id:m.contentId,"aria-labelledby":m.triggerId,...c,ref:h,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{f.isUsingKeyboardRef.current&&p.current?.focus(),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:he(t.onFocusOutside,x=>{x.target!==m.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,x=>{f.onClose(),x.preventDefault()}),onKeyDown:he(t.onKeyDown,x=>{const b=x.currentTarget.contains(x.target),y=C4[f.dir].includes(x.key);b&&y&&(u.onOpenChange(!1),m.trigger?.focus(),x.preventDefault())})})})})})});ow.displayName=iw;function lw(t){return t?"open":"closed"}function bc(t){return t==="indeterminate"}function vh(t){return bc(t)?"indeterminate":t?"checked":"unchecked"}function G4(t){const a=document.activeElement;for(const r of t)if(r===a||(r.focus(),document.activeElement!==a))return}function Y4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}function K4(t,a,r){const c=a.length>1&&Array.from(a).every(h=>h===a[0])?a[0]:a,u=r?t.indexOf(r):-1;let f=Y4(t,Math.max(u,0));c.length===1&&(f=f.filter(h=>h!==r));const p=f.find(h=>h.toLowerCase().startsWith(c.toLowerCase()));return p!==r?p:void 0}function Q4(t,a){const{x:r,y:o}=t;let c=!1;for(let u=0,f=a.length-1;u<a.length;f=u++){const m=a[u],p=a[f],h=m.x,x=m.y,b=p.x,y=p.y;x>o!=y>o&&r<(b-h)*(o-x)/(y-x)+h&&(c=!c)}return c}function X4(t,a){if(!a)return!1;const r={x:t.clientX,y:t.clientY};return Q4(r,a)}function xo(t){return a=>a.pointerType==="mouse"?t(a):void 0}var W4=qj,Z4=fh,J4=Vj,eM=Gj,tM=gh,nM=Yj,sM=Jc,aM=Qj,rM=Wj,iM=Jj,oM=tw,lM=nw,cM=sw,uM=rw,dM=ow,eu="DropdownMenu",[fM,iz]=Pn(eu,[$j]),Ft=$j(),[mM,cw]=fM(eu),uw=t=>{const{__scopeDropdownMenu:a,children:r,dir:o,open:c,defaultOpen:u,onOpenChange:f,modal:m=!0}=t,p=Ft(a),h=v.useRef(null),[x,b]=Ra({prop:c,defaultProp:u??!1,onChange:f,caller:eu});return s.jsx(mM,{scope:a,triggerId:Rn(),triggerRef:h,contentId:Rn(),open:x,onOpenChange:b,onOpenToggle:v.useCallback(()=>b(y=>!y),[b]),modal:m,children:s.jsx(W4,{...p,open:x,onOpenChange:b,dir:o,modal:m,children:r})})};uw.displayName=eu;var dw="DropdownMenuTrigger",fw=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...c}=t,u=cw(dw,r),f=Ft(r);return s.jsx(Z4,{asChild:!0,...f,children:s.jsx(Ee.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...c,ref:Uc(a,u.triggerRef),onPointerDown:he(t.onPointerDown,m=>{!o&&m.button===0&&m.ctrlKey===!1&&(u.onOpenToggle(),u.open||m.preventDefault())}),onKeyDown:he(t.onKeyDown,m=>{o||(["Enter"," "].includes(m.key)&&u.onOpenToggle(),m.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});fw.displayName=dw;var hM="DropdownMenuPortal",mw=t=>{const{__scopeDropdownMenu:a,...r}=t,o=Ft(a);return s.jsx(J4,{...o,...r})};mw.displayName=hM;var hw="DropdownMenuContent",pw=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=cw(hw,r),u=Ft(r),f=v.useRef(!1);return s.jsx(eM,{id:c.contentId,"aria-labelledby":c.triggerId,...u,...o,ref:a,onCloseAutoFocus:he(t.onCloseAutoFocus,m=>{f.current||c.triggerRef.current?.focus(),f.current=!1,m.preventDefault()}),onInteractOutside:he(t.onInteractOutside,m=>{const p=m.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,x=p.button===2||h;(!c.modal||x)&&(f.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pw.displayName=hw;var pM="DropdownMenuGroup",gM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(tM,{...c,...o,ref:a})});gM.displayName=pM;var xM="DropdownMenuLabel",gw=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(nM,{...c,...o,ref:a})});gw.displayName=xM;var vM="DropdownMenuItem",xw=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(sM,{...c,...o,ref:a})});xw.displayName=vM;var yM="DropdownMenuCheckboxItem",bM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(aM,{...c,...o,ref:a})});bM.displayName=yM;var jM="DropdownMenuRadioGroup",wM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(rM,{...c,...o,ref:a})});wM.displayName=jM;var NM="DropdownMenuRadioItem",SM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(iM,{...c,...o,ref:a})});SM.displayName=NM;var _M="DropdownMenuItemIndicator",CM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(oM,{...c,...o,ref:a})});CM.displayName=_M;var EM="DropdownMenuSeparator",vw=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(lM,{...c,...o,ref:a})});vw.displayName=EM;var AM="DropdownMenuArrow",TM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(cM,{...c,...o,ref:a})});TM.displayName=AM;var RM="DropdownMenuSubTrigger",kM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(uM,{...c,...o,ref:a})});kM.displayName=RM;var MM="DropdownMenuSubContent",OM=v.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,c=Ft(r);return s.jsx(dM,{...c,...o,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OM.displayName=MM;var DM=uw,zM=fw,LM=mw,PM=pw,UM=gw,BM=xw,HM=vw;function yh({...t}){return s.jsx(DM,{"data-slot":"dropdown-menu",...t})}function bh({...t}){return s.jsx(zM,{"data-slot":"dropdown-menu-trigger",className:ge("focus-ring"),...t})}function jh({className:t,sideOffset:a=4,...r}){return s.jsx(LM,{children:s.jsx(PM,{"data-slot":"dropdown-menu-content",sideOffset:a,className:ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-lg border border-border p-1 shadow-card focus-ring",t),...r})})}function Kn({className:t,inset:a,variant:r="default",...o}){return s.jsx(BM,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:ge("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o})}function $M({className:t,inset:a,...r}){return s.jsx(UM,{"data-slot":"dropdown-menu-label","data-inset":a,className:ge("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function Oy({className:t,...a}){return s.jsx(HM,{"data-slot":"dropdown-menu-separator",className:ge("bg-border -mx-1 my-1 h-px",t),...a})}const Dy="theme";function If(t){try{const a=document.documentElement;if(t==="dark")a.classList.add("dark"),a.style.colorScheme="dark";else if(t==="light")a.classList.remove("dark"),a.style.colorScheme="light";else{const r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;r?a.classList.add("dark"):a.classList.remove("dark"),a.style.colorScheme=r?"dark":"light"}}catch{}}function FM(){const[t,a]=H.useState(()=>{try{const c=localStorage.getItem(Dy);return c==="dark"||c==="light"||c==="system"?c:"system"}catch{return"system"}});H.useEffect(()=>{If(t);let c=null;const u=()=>{t==="system"&&If("system")};try{c=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),c&&c.addEventListener?c.addEventListener("change",u):c&&c.addListener&&c.addListener(u)}catch{}return()=>{try{c&&c.removeEventListener?c.removeEventListener("change",u):c&&c.removeListener&&c.removeListener(u)}catch{}}},[t]);const r=c=>{try{localStorage.setItem(Dy,c)}catch{}a(c),If(c)},o=t==="dark"?Qv:t==="light"?Wv:Kv;return s.jsxs(yh,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(ye,{variant:"ghost",className:"h-8 w-8","aria-label":`Theme: ${t}`,children:s.jsx(o,{className:"h-4 w-4"})})}),s.jsxs(jh,{align:"end",forceMount:!0,children:[s.jsxs(Kn,{onClick:()=>r("system"),children:[s.jsx(Kv,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"System"})]}),s.jsxs(Kn,{onClick:()=>r("dark"),children:[s.jsx(Qv,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(Kn,{onClick:()=>r("light"),children:[s.jsx(Wv,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]})]})]})}function qM({children:t}){const r=dn()?.pathname??"",[o,c]=v.useState(()=>r.startsWith("/peer-review")),[u,f]=v.useState(!1);v.useEffect(()=>{const y=_=>{_.key==="Escape"&&f(!1)};if(u){const _=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",y),()=>{document.body.style.overflow=_,window.removeEventListener("keydown",y)}}return()=>{}},[u]);const{logout:m,user:p}=es(),h=$t(),x=v.useMemo(()=>{const y=(r||"").toLowerCase();return y==="/"||y==="/dashboard"?"dashboard":y.startsWith("/courses")?"courses":y.startsWith("/peer-review")?"peer-review":y.startsWith("/community")?"community":y.startsWith("/gallery")?"gallery":y.startsWith("/discussions")?"discussions":y.startsWith("/achievements")?"achievements":y.startsWith("/teacher")||y.startsWith("/teacher-dashboard")?"teacher-dashboard":y.startsWith("/students")?"students":y.startsWith("/analytics")?"analytics":y.startsWith("/wallet")?"wallet":y.startsWith("/notifications")?"notifications":y.startsWith("/teacher/pending-discounts")?"teacher-opportunities":"dashboard"},[r]),b=r==="/login"||r==="/register"||r.startsWith("/verify-email");return v.useEffect(()=>{c(x==="peer-review")},[x]),b?s.jsx("div",{className:"min-h-screen bg-background text-foreground",children:s.jsx("main",{className:"w-full px-4 lg:px-6",children:t})}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsxs(Ak,{open:!o,onOpenChange:y=>c(!y),children:[s.jsx(e4,{currentPage:x,onPageChange:y=>{const C=(j=>{switch(j){case"dashboard":return"/dashboard";case"courses":return"/courses";case"peer-review":return"/peer-review";case"community":return"/community";case"gallery":return"/gallery";case"discussions":return"/discussions";case"achievements":return"/achievements";case"teacher-dashboard":return"/teacher";case"students":return"/students";case"analytics":return"/analytics";case"wallet":return"/wallet";case"notifications":return"/notifications";case"teacher-opportunities":return"/teacher/pending-discounts";case"profile":return"/profile";default:return"/courses"}})(y);C&&h(C),f(!1)}}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[s.jsx("header",{className:"sticky top-0 z-40 border-b border-border bg-card/60 backdrop-blur w-full",children:s.jsxs("div",{className:"w-full flex h-14 items-center px-4 lg:px-6 transition-[padding-left] duration-200",children:[s.jsx(Rk,{className:"mr-4"}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(FM,{}),s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>{h("/wallet")},className:"flex items-center gap-2",children:[s.jsx(fo,{className:"size-4"}),s.jsx(be,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:(p?.tokens??0)+" ✨"})]}),s.jsxs(yh,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(ye,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(ys,{className:"h-8 w-8",children:[s.jsx(Qc,{src:void 0,alt:void 0}),s.jsx(bs,{children:"U"})]})})}),s.jsxs(jh,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx($M,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:p?.name??"User"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:p?.email??""}),s.jsx(be,{variant:"outline",className:"w-fit mt-1 capitalize",children:p?.role??"role"})]})}),s.jsx(Oy,{}),s.jsxs(Kn,{onClick:()=>h("/wallet"),children:[s.jsx(fo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Wallet"})]}),s.jsxs(Kn,{onClick:()=>h("/profile"),children:[s.jsx(Gb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]}),s.jsxs(Kn,{onClick:()=>h("/settings"),children:[s.jsx(Vb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),s.jsx(Oy,{}),s.jsxs(Kn,{onClick:()=>{typeof m=="function"&&m(),h("/login")},children:[s.jsx(BC,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})]})]})}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"w-full py-6 px-4 lg:px-6 transition-[padding-left] duration-200",children:s.jsx("div",{className:"max-w-[1280px] mx-auto",children:t})})})]})]}),s.jsx("footer",{className:"border-t border-border bg-card/40 w-full",children:s.jsx("div",{className:"w-full max-w-[1280px] mx-auto h-12 flex items-center px-4 lg:px-6"})})]})}function IM(){return s.jsx(qM,{footer:s.jsx("div",{className:"text-xs text-muted-foreground",children:"v1.0 • beta"}),children:s.jsx(a2,{})})}function VM(){const[t,a]=v.useState(0),[r,o]=v.useState(0),[c,u]=v.useState(!1),f=v.useRef(null),m=v.useRef(null);return v.useEffect(()=>{const p=uc.on("api:loading",x=>{const b=x?.detail?.delta??0;a(y=>Math.max(0,y+(Number.isFinite(b)?b:0)))});function h(x){const{delta:b}=x.detail||{delta:0};a(y=>Math.max(0,y+(Number.isFinite(b)?b:0)))}return window.addEventListener("api:loading",h),()=>{p(),window.removeEventListener("api:loading",h)}},[]),v.useEffect(()=>{const p=()=>{f.current&&(window.clearInterval(f.current),f.current=null)},h=()=>{m.current&&(window.clearTimeout(m.current),m.current=null)};if(t>0)!c&&!m.current&&(m.current=window.setTimeout(()=>{u(!0),o(10)},120)),f.current||(f.current=window.setInterval(()=>{o(x=>x<90?Math.min(90,x+8+Math.random()*10):x)},200));else if(h(),p(),c){o(100);const x=window.setTimeout(()=>{u(!1),o(0)},250);return()=>window.clearTimeout(x)}else o(0);return()=>{h()}},[t,c]),s.jsx("div",{style:{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,zIndex:9999,height:0},children:s.jsx("div",{style:{transition:"width 200ms ease, opacity 200ms ease",height:2,background:"var(--color-primary, #06b6d4)",boxShadow:"0 0 8px rgba(0,0,0,0.08)",width:`${r}%`,opacity:c?1:0}})})}function yw(){const[t,a]=H.useState([]);H.useEffect(()=>{function o(c){const u=c.detail,f={id:Date.now()+Math.floor(Math.random()*1e3),variant:"info",duration:4e3,...u};a(m=>[...m,f]),f.duration&&f.duration>0&&window.setTimeout(()=>{a(m=>m.filter(p=>p.id!==f.id))},f.duration)}return window.addEventListener("toast:show",o),()=>window.removeEventListener("toast:show",o)},[]);function r(o){switch(o){case"success":return"bg-emerald-600 text-white";case"warning":return"bg-amber-500 text-black";case"error":return"bg-red-600 text-white";default:return"bg-foreground text-background"}}return s.jsx("div",{className:"fixed inset-x-0 bottom-4 z-[101] flex flex-col items-center gap-2 px-4",children:t.map(o=>s.jsxs("div",{className:`w-full max-w-md rounded-md px-4 py-3 shadow-card ${r(o.variant)}`,role:"status","aria-live":"polite",children:[o.title&&s.jsx("div",{className:"text-sm font-semibold",children:o.title}),s.jsx("div",{className:"text-sm",children:o.message})]},o.id))})}const GM=Object.freeze(Object.defineProperty({__proto__:null,default:yw},Symbol.toStringTag,{value:"Module"}));class $e extends H.Component{state={hasError:!1};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("UI ErrorBoundary:",a,r),window.dispatchEvent(new CustomEvent("toast:show",{detail:{type:"error",message:"Si è verificato un errore imprevisto."}}))}render(){return this.state.hasError?this.props.fallback??s.jsxs("div",{className:"m-6 rounded-2xl border p-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa è andato storto"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Riprova più tardi o torna alla dashboard."})]}):this.props.children}}const fe=v.forwardRef(({className:t,...a},r)=>s.jsx("div",{ref:r,"data-slot":"card",className:ge("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border border-border shadow-card",t),...a})),ze=v.forwardRef(({className:t,...a},r)=>s.jsx("div",{ref:r,"data-slot":"card-header",className:ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})),Ue=v.forwardRef(({className:t,...a},r)=>s.jsx("h4",{ref:r,"data-slot":"card-title",className:ge("leading-none",t),...a})),Ve=v.forwardRef(({className:t,...a},r)=>s.jsx("p",{ref:r,"data-slot":"card-description",className:ge("text-muted-foreground",t),...a})),YM=v.forwardRef(({className:t,...a},r)=>s.jsx("div",{ref:r,"data-slot":"card-action",className:ge("col-start-2 row-span-2 row-start-1 self-start justify-self-end",t),...a})),me=v.forwardRef(({className:t,...a},r)=>s.jsx("div",{ref:r,"data-slot":"card-content",className:ge("px-6 [&:last-child]:pb-6",t),...a})),KM=v.forwardRef(({className:t,...a},r)=>s.jsx("div",{ref:r,"data-slot":"card-footer",className:ge("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...a}));fe.displayName="Card";ze.displayName="CardHeader";Ue.displayName="CardTitle";Ve.displayName="CardDescription";YM.displayName="CardAction";me.displayName="CardContent";KM.displayName="CardFooter";var tu="Tabs",[QM,oz]=Pn(tu,[Wc]),bw=Wc(),[XM,wh]=QM(tu),jw=v.forwardRef((t,a)=>{const{__scopeTabs:r,value:o,onValueChange:c,defaultValue:u,orientation:f="horizontal",dir:m,activationMode:p="automatic",...h}=t,x=Xc(m),[b,y]=Ra({prop:o,onChange:c,defaultProp:u??"",caller:tu});return s.jsx(XM,{scope:r,baseId:Rn(),value:b,onValueChange:y,orientation:f,dir:x,activationMode:p,children:s.jsx(Ee.div,{dir:x,"data-orientation":f,...h,ref:a})})});jw.displayName=tu;var ww="TabsList",Nw=v.forwardRef((t,a)=>{const{__scopeTabs:r,loop:o=!0,...c}=t,u=wh(ww,r),f=bw(r);return s.jsx(Uj,{asChild:!0,...f,orientation:u.orientation,dir:u.dir,loop:o,children:s.jsx(Ee.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:a})})});Nw.displayName=ww;var Sw="TabsTrigger",_w=v.forwardRef((t,a)=>{const{__scopeTabs:r,value:o,disabled:c=!1,...u}=t,f=wh(Sw,r),m=bw(r),p=Aw(f.baseId,o),h=Tw(f.baseId,o),x=o===f.value;return s.jsx(Bj,{asChild:!0,...m,focusable:!c,active:x,children:s.jsx(Ee.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...u,ref:a,onMouseDown:he(t.onMouseDown,b=>{!c&&b.button===0&&b.ctrlKey===!1?f.onValueChange(o):b.preventDefault()}),onKeyDown:he(t.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&f.onValueChange(o)}),onFocus:he(t.onFocus,()=>{const b=f.activationMode!=="manual";!x&&!c&&b&&f.onValueChange(o)})})})});_w.displayName=Sw;var Cw="TabsContent",Ew=v.forwardRef((t,a)=>{const{__scopeTabs:r,value:o,forceMount:c,children:u,...f}=t,m=wh(Cw,r),p=Aw(m.baseId,o),h=Tw(m.baseId,o),x=o===m.value,b=v.useRef(x);return v.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(Un,{present:c||x,children:({present:y})=>s.jsx(Ee.div,{"data-state":x?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":p,hidden:!y,id:h,tabIndex:0,...f,ref:a,style:{...t.style,animationDuration:b.current?"0s":void 0},children:y&&u})})});Ew.displayName=Cw;function Aw(t,a){return`${t}-trigger-${a}`}function Tw(t,a){return`${t}-content-${a}`}var WM=jw,ZM=Nw,JM=_w,e3=Ew;function sa({className:t,...a}){return s.jsx(WM,{"data-slot":"tabs",className:ge("flex flex-col gap-2",t),...a})}function aa({className:t,...a}){return s.jsx(ZM,{"data-slot":"tabs-list",className:ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...a})}function Je({className:t,...a}){return s.jsx(JM,{"data-slot":"tabs-trigger",className:ge("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function nt({className:t,...a}){return s.jsx(e3,{"data-slot":"tabs-content",className:ge("flex-1 outline-none",t),...a})}var Nh="Progress",Sh=100,[t3,lz]=Pn(Nh),[n3,s3]=t3(Nh),Rw=v.forwardRef((t,a)=>{const{__scopeProgress:r,value:o=null,max:c,getValueLabel:u=a3,...f}=t;(c||c===0)&&!zy(c)&&console.error(r3(`${c}`,"Progress"));const m=zy(c)?c:Sh;o!==null&&!Ly(o,m)&&console.error(i3(`${o}`,"Progress"));const p=Ly(o,m)?o:null,h=jc(p)?u(p,m):void 0;return s.jsx(n3,{scope:r,value:p,max:m,children:s.jsx(Ee.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":jc(p)?p:void 0,"aria-valuetext":h,role:"progressbar","data-state":Ow(p,m),"data-value":p??void 0,"data-max":m,...f,ref:a})})});Rw.displayName=Nh;var kw="ProgressIndicator",Mw=v.forwardRef((t,a)=>{const{__scopeProgress:r,...o}=t,c=s3(kw,r);return s.jsx(Ee.div,{"data-state":Ow(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...o,ref:a})});Mw.displayName=kw;function a3(t,a){return`${Math.round(t/a*100)}%`}function Ow(t,a){return t==null?"indeterminate":t===a?"complete":"loading"}function jc(t){return typeof t=="number"}function zy(t){return jc(t)&&!isNaN(t)&&t>0}function Ly(t,a){return jc(t)&&!isNaN(t)&&t<=a&&t>=0}function r3(t,a){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sh}\`.`}function i3(t,a){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var o3=Rw,l3=Mw;function Wn({className:t,value:a,...r}){return s.jsx(o3,{"data-slot":"progress",className:ge("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:s.jsx(l3,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}function Wt(t){const[a,r]=v.useState(!1),o=()=>{r(!0)},{src:c,alt:u,style:f,className:m,showPlaceholder:p=!0,...h}=t,x=!!c&&String(c).trim()!=="",b=a||!x,y=typeof m=="string"&&m.includes("rounded-full");if(b){if(!p||y)return null;const C=`${m??"w-full h-48"} bg-gray-100 border border-gray-200 rounded-md`;return s.jsx("div",{className:C,style:f,"aria-hidden":!0})}return s.jsx("img",{src:c,alt:u,className:m,style:f,...h,onError:o})}function c3({courseId:t,onBack:a,onEdit:r}){es();const[o,c]=v.useState("overview"),u={title:"Digital Painting Fundamentals",description:"Master the basics of digital art creation with professional techniques and industry-standard workflows.",thumbnail:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=600&h=300&fit=crop",level:"beginner",duration:"8 weeks",students:42,rating:4.8,status:"published",createdAt:"2024-01-15",lastUpdated:"2024-12-15",totalLessons:12,totalExercises:8,avgCompletionTime:"6.2 weeks",completionRate:78},f=[{id:"1",name:"Maya Chen",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b789?w=40&h=40&fit=crop&crop=face",progress:85,lastActive:"2 hours ago",completedLessons:10,totalLessons:12,joinedDate:"2024-11-15"},{id:"2",name:"Alex Rivera",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",progress:65,lastActive:"1 day ago",completedLessons:8,totalLessons:12,joinedDate:"2024-11-20"},{id:"3",name:"Emma Thompson",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop&crop=face",progress:42,lastActive:"3 days ago",completedLessons:5,totalLessons:12,joinedDate:"2024-12-01"}],m=[{id:"1",title:"Introduction to Digital Art",completionRate:95,avgTimeSpent:"18 min",exerciseSubmissions:0,studentsCompleted:40,totalStudents:42},{id:"2",title:"Setting Up Your Workspace",completionRate:88,avgTimeSpent:"25 min",exerciseSubmissions:35,studentsCompleted:37,totalStudents:42},{id:"3",title:"Understanding Light and Shadow",completionRate:72,avgTimeSpent:"32 min",exerciseSubmissions:28,studentsCompleted:30,totalStudents:42}],p=[{type:"enrollment",student:"Emma Thompson",action:"enrolled in course",time:"2 hours ago"},{type:"completion",student:"Maya Chen",action:'completed "Understanding Light and Shadow"',time:"4 hours ago"},{type:"submission",student:"Alex Rivera",action:'submitted exercise "Workspace Setup"',time:"1 day ago"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",onClick:a,children:[s.jsx(Bm,{className:"size-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{children:[s.jsx("h1",{children:u.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsx(be,{variant:"default",children:u.status}),s.jsxs("span",{children:["Created ",u.createdAt]}),s.jsxs("span",{children:["Last updated ",u.lastUpdated]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ye,{variant:"outline",onClick:r,children:[s.jsx(tm,{className:"size-4 mr-2"}),"Edit Course"]}),s.jsxs(ye,{variant:"outline",children:[s.jsx(Vb,{className:"size-4 mr-2"}),"Settings"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"size-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enrolled Students"}),s.jsx("p",{className:"text-2xl font-medium",children:u.students})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ac,{className:"size-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),s.jsxs("p",{className:"text-2xl font-medium",children:[u.completionRate,"%"]})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"size-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-medium",children:u.rating})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(lo,{className:"size-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Completion"}),s.jsx("p",{className:"text-2xl font-medium",children:u.avgCompletionTime})]})]})})})]}),s.jsxs(sa,{value:o,onValueChange:c,className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"overview",children:"Overview"}),s.jsx(Je,{value:"students",children:"Students"}),s.jsx(Je,{value:"lessons",children:"Lessons"}),s.jsx(Je,{value:"analytics",children:"Analytics"})]}),s.jsx(nt,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(fe,{children:[s.jsx(ze,{children:s.jsx(Ue,{children:"Course Information"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsx(Wt,{src:u.thumbnail,alt:u.title,className:"w-full h-48 rounded-lg object-cover"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm",children:u.description}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(be,{variant:"outline",className:"capitalize",children:u.level}),s.jsx(be,{variant:"outline",children:u.duration}),s.jsxs(be,{variant:"outline",children:[u.totalLessons," lessons"]}),s.jsxs(be,{variant:"outline",children:[u.totalExercises," exercises"]})]})]})]})]}),s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Recent Activity"}),s.jsx(Ve,{children:"Latest student interactions"})]}),s.jsx(me,{className:"space-y-3",children:p.map((h,x)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:`size-8 rounded-full flex items-center justify-center ${h.type==="enrollment"?"bg-blue-100":h.type==="completion"?"bg-green-100":"bg-purple-100"}`,children:h.type==="enrollment"?s.jsx(Pt,{className:`size-4 ${h.type==="enrollment"?"text-blue-600":""}`}):h.type==="completion"?s.jsx(vs,{className:"size-4 text-green-600"}):s.jsx(Hm,{className:"size-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[h.student," ",h.action]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.time})]})]},x))})]})]})}),s.jsx(nt,{value:"students",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Enrolled Students"}),s.jsx(Ve,{children:"Track student progress and engagement"})]}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:f.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ys,{className:"size-10",children:[s.jsx(Qc,{src:h.avatar,alt:h.name}),s.jsx(bs,{children:h.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:h.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Joined ",h.joinedDate," • Last active ",h.lastActive]})]})]}),s.jsx("div",{className:"text-right space-y-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[h.progress,"% Complete"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.completedLessons,"/",h.totalLessons," lessons"]})]}),s.jsx("div",{className:"w-24",children:s.jsx(Wn,{value:h.progress,className:"h-2"})})]})})]},h.id))})})]})}),s.jsx(nt,{value:"lessons",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsx(ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ue,{children:"Course Lessons"}),s.jsx(Ve,{children:"Manage lesson content and exercises"})]}),s.jsxs(ye,{children:[s.jsx(sc,{className:"size-4 mr-2"}),"Add Lesson"]})]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-3",children:m.map((h,x)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Mn,{className:"size-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[x+1,". ",h.title]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:[h.studentsCompleted,"/",h.totalStudents," completed"]}),s.jsxs("span",{children:["Avg: ",h.avgTimeSpent]}),h.exerciseSubmissions>0&&s.jsxs("span",{children:[h.exerciseSubmissions," submissions"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[h.completionRate,"%"]}),s.jsx(Wn,{value:h.completionRate,className:"h-1 w-16"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{variant:"ghost",size:"sm",children:s.jsx(co,{className:"size-4"})}),s.jsx(ye,{variant:"ghost",size:"sm",children:s.jsx(tm,{className:"size-4"})})]})]})]},h.id))})})]})}),s.jsx(nt,{value:"analytics",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Student Engagement"}),s.jsx(Ve,{children:"How students interact with your course"})]}),s.jsx(me,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Average Session Time"}),s.jsx("span",{className:"font-medium",children:"24 minutes"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Course Completion Rate"}),s.jsxs("span",{className:"font-medium",children:[u.completionRate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Exercise Submission Rate"}),s.jsx("span",{className:"font-medium",children:"85%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Peer Review Participation"}),s.jsx("span",{className:"font-medium",children:"72%"})]})]})})]}),s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Performance Metrics"}),s.jsx(Ve,{children:"Course success indicators"})]}),s.jsx(me,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Student Satisfaction"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"size-4 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{className:"font-medium",children:[u.rating,"/5"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Enrollment Growth"}),s.jsx("span",{className:"font-medium text-green-600",children:"+15% this month"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Community Engagement"}),s.jsx("span",{className:"font-medium",children:"High"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Tokens Distributed"}),s.jsx("span",{className:"font-medium",children:"2,847 ✨"})]})]})})]})]})})]})]})}function u3(){const{id:t}=Jn(),a=t??"",r=$t();return a?s.jsx("div",{className:"p-0",children:s.jsx(c3,{courseId:String(a),onBack:()=>r(-1),onEdit:()=>r(`/studio/courses/${a}/edit`)})}):s.jsx("div",{className:"p-6",children:"ID corso non valido."})}const Fe=t=>{if(t==null)return;if(typeof t=="object"){if(t===null)return;if(typeof t.parsedValue=="number"&&Number.isFinite(t.parsedValue))return t.parsedValue;if(typeof t.source=="string"){const r=Number(t.source);if(Number.isFinite(r))return r}if(typeof t.value=="number"&&Number.isFinite(t.value))return t.value;if(typeof t.value=="string"){const r=Number(t.value);if(Number.isFinite(r))return r}return}const a=Number(t);return Number.isFinite(a)?a:void 0},d3=t=>({params:t??void 0,query:t??void 0});async function Dw(t,a){const r=await xe.get(`/v1/courses/${t}/payment-summary/`,d3(a));if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=r.data??{},c=o.pricing??o.pricing_summary,u=Array.isArray(o.pricing_options)&&o.pricing_options.length?o.pricing_options[0]:void 0,f=Fe(o.price_eur??o.price??o.base_price??o.original_price)??Fe(c?.original_price)??Fe(u?.price)??void 0,m=Fe(o.discount_percent??o.discountPct??c?.discount_percent??u?.discount_percent),p=Fe(o.total_eur??o.total??o.final_price)??Fe(c?.final_price)??Fe(u?.final_price)??void 0;let h=Fe(o.teo_required??o.teo_cost??o.teocoin_required)??void 0;const x=Array.isArray(o.pricing_options)?o.pricing_options.find(_=>_.method==="teocoin"):void 0;if(x&&!x.disabled){const _=Fe(x.price);_!==void 0&&(h=_)}const b=String(o.currency??c?.currency??u?.currency??"EUR"),y={course_id:Number(t),title:o.title,price_eur:f,discount_percent:m,total_eur:p,teo_required:h,currency:b,raw:o};return{ok:!0,status:r.status,data:y}}async function f3(t,a){const r=a??{},o=[`/v1/courses/${t}/create-payment-intent/`,`/v1/courses/${t}/start-payment/`,`/v1/courses/${t}/payment-intent/`];for(const c of o){const u=await xe.post(c,r);if(u.ok){const f=u.data??{};return{ok:!0,status:u.status,client_secret:f.client_secret??f.clientSecret,publishable_key:f.publishable_key??f.publishableKey,checkout_url:f.checkout_url??f.url??f.redirect_url,raw:f}}if(![404,405,501].includes(u.status??u.status))return{ok:!1,status:u.status,error:u.error}}return{ok:!1,status:404,error:"No payment-intent endpoint available"}}async function m3(t,a){let r=await xe.post(`/v1/courses/${t}/purchase/`,a??{});return r.ok?{ok:!0,status:r.status,data:r.data}:r.status===404&&(r=await xe.post(`/v1/courses/${t}/enroll/`,a??{}),r.ok)?{ok:!0,status:r.status,data:r.data}:{ok:!1,status:r.status,error:r.error}}async function h3(t,a){const{payment_intent:r,payment_intent_client_secret:o,redirect_status:c}=a,u=[{payment_intent:r,payment_intent_client_secret:o,redirect_status:c,method:"stripe",course_id:t},{payment_intent_id:r,client_secret:o,redirect_status:c,method:"stripe",course_id:t},{pi_id:r,client_secret:o,method:"stripe",course_id:t},{intent_id:r,method:"stripe",course_id:t},{payment_intent:r,method:"stripe"}];let f=null;for(const m of u){const p=await xe.post(`/v1/courses/${t}/confirm-payment/`,m);if(p.ok){const h=p.data??{},x=h.enrolled===!0||h.enrollment_created===!0||h.status==="enrolled"||h.result==="ok",b=Fe(h.course_id)??Fe(h.course)??(Number.isFinite(t)?Number(t):void 0),y=h.status??h.payment_status??h.pi_status??h.intent_status;return{ok:!0,status:p.status,data:{enrolled:x,course_id:b,status:y,raw:h}}}if(p.status===400){f=p.error??p;continue}if(![404,405,501].includes(p.status??p.status))return{ok:!1,status:p.status,error:p.error}}return{ok:!1,status:400,error:f??"Bad Request"}}async function zw(t){const a=t??{},r=await xe.post("/v1/rewards/discounts/preview/",a);if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=r.data??{},c={student_pay_eur:Fe(o.student_pay_eur??o.student_pay??o.student_amount)??void 0,teacher_eur:Fe(o.teacher_eur??o.teacher_amount)??void 0,platform_eur:Fe(o.platform_eur??o.platform_amount)??void 0,teacher_teo:Fe(o.teacher_teo??o.teacher_teocoin)??void 0,platform_teo:Fe(o.platform_teo??o.platform_teocoin)??void 0,absorption_policy:o.absorption_policy??o.policy??void 0,raw:o};return{ok:!0,status:r.status,data:c}}async function fm(t){const a=t??{},r=await xe.post("/v1/rewards/discounts/confirm/",a);if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=r.data??{},c=o.breakdown??o??{},u={student_pay_eur:Fe(c.student_pay_eur??c.student_pay??c.student_amount)??void 0,teacher_eur:Fe(c.teacher_eur??c.teacher_amount)??void 0,platform_eur:Fe(c.platform_eur??c.platform_amount)??void 0,teacher_teo:Fe(c.teacher_teo??c.teacher_teocoin)??void 0,platform_teo:Fe(c.platform_teo??c.platform_teocoin)??void 0,absorption_policy:c.absorption_policy??c.policy??void 0,raw:o};return{ok:!0,status:r.status,data:{snapshot:o.snapshot??o,breakdown:u}}}async function p3(t){if(!t)return{ok:!1,status:400,error:"order_id required"};const a=`/v1/rewards/discounts/${t}/`,r=await xe.get(a);if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=r.data??{},c=o.snapshot??o,u=c.breakdown??c??{},f={student_pay_eur:Fe(u.student_pay_eur??u.student_pay??u.student_amount)??void 0,teacher_eur:Fe(u.teacher_eur??u.teacher_amount)??void 0,platform_eur:Fe(u.platform_eur??u.platform_amount)??void 0,teacher_teo:Fe(u.teacher_teo??u.teacher_teocoin)??void 0,platform_teo:Fe(u.platform_teo??u.platform_teocoin)??void 0,absorption_policy:u.absorption_policy??u.policy??void 0,raw:c},m=c.status??c.state,p=c.deadline_at??c.expires_at;return{ok:!0,status:r.status,data:{snapshot:c,breakdown:f,status:m,deadline_at:p}}}async function _h(){const a=await xe.get("/v1/rewards/staking/overview/");if(!a.ok)return a.status===404&&Xt({variant:"info",message:"Funzionalità in arrivo: staking"}),{ok:!1,status:a.status,error:a.error};const r=a.data??{};console.debug("getStakingOverview: raw response",r);const o=r&&typeof r.balance=="object"?r.balance:void 0,c=Fe(r.balance_teo??r.balance??r.balance_teocoin??(o?o.total_balance??o.total??o.balance??void 0:void 0)),u=Fe(r.available_teo??r.available??r.available_balance??r.available_teocoin??(o?o.available_balance??o.available??o.available_teo??void 0:void 0)),f=Fe(r.staked_teo??r.staked??r.staked_balance??(o?o.staked_balance??o.staked??void 0:void 0)),m=Number.isFinite(c)&&Number.isFinite(f)?Math.max(0,c-f):void 0,p=Number.isFinite(c)&&Number.isFinite(u)?Math.max(0,c-u):void 0,h={balance_teo:c??void 0,available_teo:u??m??void 0,staked_teo:f??p??void 0,tier_name:r.tier_name??r.tier??void 0,bonus_multiplier:Fe(r.bonus_multiplier??r.bonus??void 0)??void 0,next_tier:r.next_tier??void 0,next_tier_threshold_teo:Fe(r.next_tier_threshold_teo??r.next_threshold??r.next_tier_threshold)??void 0,raw:r};return console.debug("getStakingOverview: normalized",h),{ok:!0,status:a.status,data:h}}async function g3(t){if(!t)return{ok:!1,status:400,error:"amount required"};const a="/v1/rewards/staking/stake/",r={amount:t},o=await xe.post(a,r);if(!o.ok)return o.status===404&&Xt({variant:"info",message:"Funzionalità in arrivo: stake TEO"}),{ok:!1,status:o.status,error:o.error};const c=o.data??{};return _h().then(u=>u.ok?u:{ok:!0,status:o.status,data:{raw:c}})}async function x3(t){if(!t)return{ok:!1,status:400,error:"amount required"};const a="/v1/rewards/staking/unstake/",r={amount:t},o=await xe.post(a,r);return o.ok?_h().then(c=>c.ok?c:{ok:!0,status:o.status,data:{raw:o.data??{}}}):(o.status===404&&Xt({variant:"info",message:"Funzionalità in arrivo: unstake TEO"}),{ok:!1,status:o.status,error:o.error})}var Lw="basil",v3=function(a){return a===3?"v3":a},Pw="https://js.stripe.com",y3="".concat(Pw,"/").concat(Lw,"/stripe.js"),b3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,j3=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var w3=function(a){return b3.test(a)||j3.test(a)},N3=function(){for(var a=document.querySelectorAll('script[src^="'.concat(Pw,'"]')),r=0;r<a.length;r++){var o=a[r];if(w3(o.src))return o}return null},Py=function(a){var r="",o=document.createElement("script");o.src="".concat(y3).concat(r);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(o),o},S3=function(a,r){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},eo=null,Wl=null,Zl=null,_3=function(a){return function(r){a(new Error("Failed to load Stripe.js",{cause:r}))}},C3=function(a,r){return function(){window.Stripe?a(window.Stripe):r(new Error("Stripe.js not available"))}},E3=function(a){return eo!==null?eo:(eo=new Promise(function(r,o){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var c=N3();if(!(c&&a)){if(!c)c=Py(a);else if(c&&Zl!==null&&Wl!==null){var u;c.removeEventListener("load",Zl),c.removeEventListener("error",Wl),(u=c.parentNode)===null||u===void 0||u.removeChild(c),c=Py(a)}}Zl=C3(r,o),Wl=_3(o),c.addEventListener("load",Zl),c.addEventListener("error",Wl)}catch(f){o(f);return}}),eo.catch(function(r){return eo=null,Promise.reject(r)}))},A3=function(a,r,o){if(a===null)return null;var c=r[0],u=c.match(/^pk_test/),f=v3(a.version),m=Lw;u&&f!==m&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=a.apply(void 0,r);return S3(p,o),p},to,Uw=!1,Bw=function(){return to||(to=E3(null).catch(function(a){return to=null,Promise.reject(a)}),to)};Promise.resolve().then(function(){return Bw()}).catch(function(t){Uw||console.warn(t)});var T3=function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];Uw=!0;var c=Date.now();return Bw().then(function(u){return A3(u,r,c)})},Vf={exports:{}},Gf,Uy;function R3(){if(Uy)return Gf;Uy=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gf=t,Gf}var Yf,By;function k3(){if(By)return Yf;By=1;var t=R3();function a(){}function r(){}return r.resetWarningCache=a,Yf=function(){function o(f,m,p,h,x,b){if(b!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function c(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:a};return u.PropTypes=u,u},Yf}var Hy;function M3(){return Hy||(Hy=1,Vf.exports=k3()()),Vf.exports}var O3=M3();const ot=Rc(O3);function $y(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,o)}return r}function Fy(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?$y(Object(r),!0).forEach(function(o){Hw(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function lc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lc=function(a){return typeof a}:lc=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lc(t)}function Hw(t,a,r){return a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function D3(t,a){if(t==null)return{};var r={},o=Object.keys(t),c,u;for(u=0;u<o.length;u++)c=o[u],!(a.indexOf(c)>=0)&&(r[c]=t[c]);return r}function z3(t,a){if(t==null)return{};var r=D3(t,a),o,c;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(c=0;c<u.length;c++)o=u[c],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function $w(t,a){return L3(t)||P3(t,a)||U3(t,a)||B3()}function L3(t){if(Array.isArray(t))return t}function P3(t,a){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var o=[],c=!0,u=!1,f,m;try{for(r=r.call(t);!(c=(f=r.next()).done)&&(o.push(f.value),!(a&&o.length===a));c=!0);}catch(p){u=!0,m=p}finally{try{!c&&r.return!=null&&r.return()}finally{if(u)throw m}}return o}}function U3(t,a){if(t){if(typeof t=="string")return qy(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qy(t,a)}}function qy(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,o=new Array(a);r<a;r++)o[r]=t[r];return o}function B3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ln=function(a,r,o){var c=!!o,u=H.useRef(o);H.useEffect(function(){u.current=o},[o]),H.useEffect(function(){if(!c||!a)return function(){};var f=function(){u.current&&u.current.apply(u,arguments)};return a.on(r,f),function(){a.off(r,f)}},[c,r,a,u])},mm=function(a){var r=H.useRef(a);return H.useEffect(function(){r.current=a},[a]),r.current},Pr=function(a){return a!==null&&lc(a)==="object"},H3=function(a){return Pr(a)&&typeof a.then=="function"},$3=function(a){return Pr(a)&&typeof a.elements=="function"&&typeof a.createToken=="function"&&typeof a.createPaymentMethod=="function"&&typeof a.confirmCardPayment=="function"},Iy="[object Object]",F3=function t(a,r){if(!Pr(a)||!Pr(r))return a===r;var o=Array.isArray(a),c=Array.isArray(r);if(o!==c)return!1;var u=Object.prototype.toString.call(a)===Iy,f=Object.prototype.toString.call(r)===Iy;if(u!==f)return!1;if(!u&&!o)return a===r;var m=Object.keys(a),p=Object.keys(r);if(m.length!==p.length)return!1;for(var h={},x=0;x<m.length;x+=1)h[m[x]]=!0;for(var b=0;b<p.length;b+=1)h[p[b]]=!0;var y=Object.keys(h);if(y.length!==m.length)return!1;var _=a,C=r,j=function(E){return t(_[E],C[E])};return y.every(j)},Fw=function(a,r,o){return Pr(a)?Object.keys(a).reduce(function(c,u){var f=!Pr(r)||!F3(a[u],r[u]);return o.includes(u)?(f&&console.warn("Unsupported prop change: options.".concat(u," is not a mutable property.")),c):f?Fy(Fy({},c||{}),{},Hw({},u,a[u])):c},null):null},qw="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Vy=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qw;if(a===null||$3(a))return a;throw new Error(r)},q3=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qw;if(H3(a))return{tag:"async",stripePromise:Promise.resolve(a).then(function(c){return Vy(c,r)})};var o=Vy(a,r);return o===null?{tag:"empty"}:{tag:"sync",stripe:o}},I3=function(a){!a||!a._registerWrapper||!a.registerAppInfo||(a._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),a.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},nu=H.createContext(null);nu.displayName="ElementsContext";var Iw=function(a,r){if(!a)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return a},Vw=function(a){var r=a.stripe,o=a.options,c=a.children,u=H.useMemo(function(){return q3(r)},[r]),f=H.useState(function(){return{stripe:u.tag==="sync"?u.stripe:null,elements:u.tag==="sync"?u.stripe.elements(o):null}}),m=$w(f,2),p=m[0],h=m[1];H.useEffect(function(){var y=!0,_=function(j){h(function(S){return S.stripe?S:{stripe:j,elements:j.elements(o)}})};return u.tag==="async"&&!p.stripe?u.stripePromise.then(function(C){C&&y&&_(C)}):u.tag==="sync"&&!p.stripe&&_(u.stripe),function(){y=!1}},[u,p,o]);var x=mm(r);H.useEffect(function(){x!==null&&x!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[x,r]);var b=mm(o);return H.useEffect(function(){if(p.elements){var y=Fw(o,b,["clientSecret","fonts"]);y&&p.elements.update(y)}},[o,b,p.elements]),H.useEffect(function(){I3(p.stripe)},[p.stripe]),H.createElement(nu.Provider,{value:p},c)};Vw.propTypes={stripe:ot.any,options:ot.object};var V3=function(a){var r=H.useContext(nu);return Iw(r,a)},G3=function(){var a=V3("calls useElements()"),r=a.elements;return r};ot.func.isRequired;var Gw=H.createContext(null);Gw.displayName="CheckoutSdkContext";var Y3=function(a,r){if(!a)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return a},K3=H.createContext(null);K3.displayName="CheckoutContext";ot.any,ot.shape({fetchClientSecret:ot.func.isRequired,elementsOptions:ot.object}).isRequired;var hm=function(a){var r=H.useContext(Gw),o=H.useContext(nu);if(r&&o)throw new Error("You cannot wrap the part of your app that ".concat(a," in both <CheckoutProvider> and <Elements> providers."));return r?Y3(r,a):Iw(o,a)},Q3=["mode"],X3=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},ht=function(a,r){var o="".concat(X3(a),"Element"),c=function(p){var h=p.id,x=p.className,b=p.options,y=b===void 0?{}:b,_=p.onBlur,C=p.onFocus,j=p.onReady,S=p.onChange,E=p.onEscape,N=p.onClick,T=p.onLoadError,O=p.onLoaderStart,M=p.onNetworksChange,G=p.onConfirm,I=p.onCancel,q=p.onShippingAddressChange,R=p.onShippingRateChange,P=hm("mounts <".concat(o,">")),B="elements"in P?P.elements:null,K="checkoutSdk"in P?P.checkoutSdk:null,ne=H.useState(null),te=$w(ne,2),Y=te[0],D=te[1],X=H.useRef(null),se=H.useRef(null);ln(Y,"blur",_),ln(Y,"focus",C),ln(Y,"escape",E),ln(Y,"click",N),ln(Y,"loaderror",T),ln(Y,"loaderstart",O),ln(Y,"networkschange",M),ln(Y,"confirm",G),ln(Y,"cancel",I),ln(Y,"shippingaddresschange",q),ln(Y,"shippingratechange",R),ln(Y,"change",S);var ae;j&&(a==="expressCheckout"?ae=j:ae=function(){j(Y)}),ln(Y,"ready",ae),H.useLayoutEffect(function(){if(X.current===null&&se.current!==null&&(B||K)){var $=null;if(K)switch(a){case"payment":$=K.createPaymentElement(y);break;case"address":if("mode"in y){var L=y.mode,U=z3(y,Q3);if(L==="shipping")$=K.createShippingAddressElement(U);else if(L==="billing")$=K.createBillingAddressElement(U);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":$=K.createExpressCheckoutElement(y);break;case"currencySelector":$=K.createCurrencySelectorElement();break;case"taxId":$=K.createTaxIdElement(y);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&($=B.create(a,y));X.current=$,D($),$&&$.mount(se.current)}},[B,K,y]);var k=mm(y);return H.useEffect(function(){if(X.current){var $=Fw(y,k,["paymentRequest"]);$&&"update"in X.current&&X.current.update($)}},[y,k]),H.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),H.createElement("div",{id:h,className:x,ref:se})},u=function(p){hm("mounts <".concat(o,">"));var h=p.id,x=p.className;return H.createElement("div",{id:h,className:x})},f=r?u:c;return f.propTypes={id:ot.string,className:ot.string,onChange:ot.func,onBlur:ot.func,onFocus:ot.func,onReady:ot.func,onEscape:ot.func,onClick:ot.func,onLoadError:ot.func,onLoaderStart:ot.func,onNetworksChange:ot.func,onConfirm:ot.func,onCancel:ot.func,onShippingAddressChange:ot.func,onShippingRateChange:ot.func,options:ot.object},f.displayName=o,f.__elementType=a,f},pt=typeof window>"u",W3=H.createContext(null);W3.displayName="EmbeddedCheckoutProviderContext";var Z3=function(){var a=hm("calls useStripe()"),r=a.stripe;return r};ht("auBankAccount",pt);ht("card",pt);ht("cardNumber",pt);ht("cardExpiry",pt);ht("cardCvc",pt);ht("fpxBank",pt);ht("iban",pt);ht("idealBank",pt);ht("p24Bank",pt);ht("epsBank",pt);var J3=ht("payment",pt);ht("expressCheckout",pt);ht("currencySelector",pt);ht("paymentRequestButton",pt);ht("linkAuthentication",pt);ht("address",pt);ht("shippingAddress",pt);ht("paymentMethodMessaging",pt);ht("affirmMessage",pt);ht("afterpayClearpayMessage",pt);ht("taxId",pt);const eO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://127.0.0.1:8000/api",VITE_API_LOGIN_PATH:"/v1/token/",VITE_API_REFRESH_PATH:"/v1/token/refresh/",VITE_CHAIN_ID:"0x13882",VITE_EXPLORER_TX:"https://amoy.polygonscan.com/tx",VITE_RPC_URL_AMOY:"https://rpc.testnet.amoy.io",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51RcjXd1ION4Zwx6o6sYtV3D7Kq8rOxB2Jr99saydr5tf499pv9pi9yrKAukluL6FHmXEAVgDnHZMKROHjeezlPLu00XRVqvbus"};function tO({priceEUR:t,courseId:a,onApply:r}){const[o,c]=v.useState(null),[u,f]=v.useState(!0),[m,p]=v.useState(null),[h,x]=v.useState(null),[b,y]=v.useState(!1),_=[5,10,15];let C;try{const q=window.__ENV,R=q&&typeof q.VITE_TEO_EUR_RATE=="string"?Number(q.VITE_TEO_EUR_RATE):void 0,P=typeof eO?.VITE_TEO_EUR_RATE=="string"?NaN:void 0;Number.isFinite(R)?C=R:Number.isFinite(P)&&(C=P)}catch{}const[j,S]=v.useState(null),[E,N]=v.useState(!1),[T,O]=v.useState(!1);v.useEffect(()=>{x(null),N(!1)},[t,j,a]),v.useEffect(()=>{let I=!0;async function q(){f(!0),p(null);const R=await Bb();I&&(R.ok?c(R.data):p(`Wallet error: ${R.status}`),f(!1))}return q(),()=>{I=!1}},[a,t]);async function M(){y(!0),p(null);const I={price_eur:t};a&&(I.course_id=a),j&&(I.discount_percent=j),console.debug("[TeoDiscountWidget] preview payload:",I);const q=await zw(I);if(console.debug("[TeoDiscountWidget] preview response:",q),y(!1),!q.ok){p(`Verifica sconto fallita (${q.status})`);return}x(q.data)}async function G(){if(!h)return;p(null),O(!0);const I=Number(h.student_pay_eur??h.student_pay??t),q=Number.isFinite(Number(t-I))?Number(t-I):Number(h.discount_eur??0);try{try{const R={order_id:`local_${Date.now()}`,course_id:a,price_eur:t,discount_percent:j??void 0,breakdown:h};console.debug("[TeoDiscountWidget] confirming discount snapshot with payload:",R);const P=await fm(R);if(console.debug("[TeoDiscountWidget] confirmDiscount response:",P),!P.ok)p(`Impossibile registrare lo sconto: HTTP ${P.status}`);else{const B=P.data&&(P.data.breakdown??P.data.snapshot??P.data)||null,K=(X,...se)=>{const ae=X&&typeof X=="object"?X:void 0;for(const k of se){if(!ae)continue;const $=ae[k];if($==null)continue;if(typeof $=="object"){const U=$;if("parsedValue"in U)return Number(U.parsedValue);if("source"in U){const Z=Number(U.source);if(!Number.isNaN(Z))return Z}if("data"in U){const Z=Number(U.data);if(!Number.isNaN(Z))return Z}continue}const L=Number($);if(!Number.isNaN(L))return L}};let ne=K(B,"student_pay_eur","student_pay","final_price_eur");if(ne===void 0&&B&&typeof B=="object"){const X=B;if(X.raw&&typeof X.raw=="object"){const se=X.raw;se.data&&typeof se.data=="object"&&(ne=K(se.data,"student_pay_eur","student_pay"))}}let te=Number(h.student_pay_eur??h.student_pay??t);ne!==void 0&&Number.isFinite(ne)&&(te=ne);let Y=Number(t)-te;if(!Number.isFinite(Y)||Y===0){const X=K(B,"discount_eur","discount_amount");X!==void 0&&Number.isFinite(X)&&(Y=X)}const D={breakdown:B??h,snapshot:P.data.snapshot??null,final_price_eur:te,discount_eur:Y};r(te,Y,D),N(!0),p(null);try{x(X=>({...X??{},_snapshot:P.data.snapshot??null,...B&&typeof B=="object"?B:{}}))}catch{}return}}catch(R){console.debug("confirmDiscount failed:",R),p(String(R))}r(I,q,{breakdown:h,final_price_eur:I,discount_eur:q}),N(!0)}catch(R){p(String(R))}finally{O(!1)}}return s.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Sconto con TEO"}),s.jsxs("div",{className:"text-base",children:["Prezzo corrente: ",s.jsxs("span",{className:"font-semibold text-foreground",children:[t.toFixed(2)," EUR"]})]})]}),u?s.jsx("div",{className:"h-6 w-24 animate-pulse rounded bg-muted/20"}):s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Saldo TEO"}),s.jsxs("div",{className:"font-semibold text-foreground",children:[o&&typeof o.balance_teo=="number"?o.balance_teo.toFixed(8):"--"," TEO"]})]})]}),m&&s.jsx("div",{className:"mt-3 rounded border border-destructive/40 bg-destructive/10 p-2 text-sm text-destructive-foreground",children:m}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm mb-2 text-foreground",children:"Scegli sconto TEO"}),s.jsx("div",{className:"flex gap-2",children:_.map(I=>{const q=Number(t*I/100),R=typeof C=="number"&&Number.isFinite(C)?q*C:void 0,P=typeof o?.balance_teo=="number"?o.balance_teo:0,B=typeof R=="number"?P<R:!1,K=ne=>ne===void 0?"—":Number(ne).toFixed(ne%1===0?0:2);return s.jsxs("button",{onClick:()=>S(I),disabled:u||B,className:`rounded-lg px-3 py-2 text-sm border disabled:opacity-50 ${j===I?"bg-primary text-primary-foreground border-primary":"bg-card text-foreground border-border"}`,children:[I,"% ",B?"(non disponibile)":typeof R=="number"?`-${q.toFixed(2)} / ${K(R)} TEO`:`-${q.toFixed(2)}`]},I)})}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{onClick:M,disabled:u||b,className:"rounded-lg bg-primary px-3 py-2 text-sm text-primary-foreground disabled:opacity-60",children:b?"Verifico...":"Verifica sconto TEO"}),h&&s.jsx("button",{onClick:G,disabled:T,className:"rounded-lg border border-border bg-card px-3 py-2 text-sm text-foreground disabled:opacity-60",children:T?"Applico...":E?"Applicato":"Applica sconto"})]})]}),E&&h&&s.jsx("div",{className:"mt-4 rounded-lg border border-border bg-popover p-3 text-sm text-foreground",children:(()=>{const I=Number(h.student_pay_eur??h.student_pay??t),q=Number.isFinite(Number(t-I))?Number(t-I):Number(h.discount_eur??0),R=Number(h.teacher_teo??h.teacher_teocoin??h.teo_required??0);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sconto:"}),s.jsxs("span",{children:["-",q.toFixed(2)," EUR"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"TEO richiesti:"}),s.jsxs("span",{children:[R.toFixed(8)," TEO"]})]}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Totale finale:"}),s.jsxs("span",{children:[I.toFixed(2)," EUR"]})]})]})})()})]})}function js(...t){return t.filter(Boolean).join(" ")}const nO={info:"border-border bg-card text-foreground dark:border-border dark:bg-card/80 dark:text-foreground",success:"border-emerald-300/60 bg-emerald-50 text-emerald-900 dark:border-emerald-800 dark:bg-emerald-900/20 dark:text-emerald-200",warning:"border-amber-300/70 bg-amber-50 text-amber-900 dark:border-amber-800 dark:bg-amber-900/20 dark:text-amber-100",error:"border-red-300/70 bg-red-50 text-red-900 dark:border-red-800 dark:bg-red-900/20 dark:text-red-100"};function At({title:t,children:a,variant:r="info",className:o}){return s.jsxs("div",{className:js("rounded-lg border p-4 text-sm border-border bg-card shadow-card",nO[r],o),role:"status",children:[t?s.jsx("div",{className:"mb-1 font-medium",children:t}):null,s.jsx("p",{className:"text-foreground/80",children:a})]})}function wt({className:t,size:a=20}){return s.jsxs("svg",{className:js("animate-spin",t),width:a,height:a,viewBox:"0 0 24 24","aria-hidden":!0,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeOpacity:"0.25",strokeWidth:"4",fill:"none"}),s.jsx("path",{d:"M22 12a10 10 0 0 1-10 10",stroke:"currentColor",strokeWidth:"4",fill:"none"})]})}const sO={VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51RcjXd1ION4Zwx6o6sYtV3D7Kq8rOxB2Jr99saydr5tf499pv9pi9yrKAukluL6FHmXEAVgDnHZMKROHjeezlPLu00XRVqvbus"};function aO(t){return t.length<=10?t:`${t.slice(0,10)}…${t.slice(-4)}`}function rO(){return sO?.VITE_STRIPE_PUBLISHABLE_KEY}function iO(){const{id:t}=Jn(),a=Number(t),[r,o]=H.useState(!0),[c,u]=H.useState(null),[f,m]=H.useState(null),[p,h]=H.useState(""),[x,b]=H.useState({}),[y,_]=H.useState(null),[C,j]=H.useState(null),[S,E]=H.useState(!1),[N,T]=H.useState(null);H.useEffect(()=>{let I=!0;return(async()=>{o(!0),m(null);const[q,R]=await Promise.all([Dw(a),bj(a)]);if(I){if(q.ok){b({price_eur:q.data.price_eur,discount_percent:q.data.discount_percent,total_eur:q.data.total_eur,teo_required:q.data.teo_required,currency:q.data.currency||"EUR"});try{if(!(q.data.raw&&(q.data.raw.breakdown||q.data.raw.discount))){const B=await zw({price_eur:q.data.price_eur,course_id:a,discount_percent:0});B.ok&&b(K=>({...K,total_eur:B.data.student_pay_eur??K.total_eur,teo_required:B.data.teacher_teo??K.teo_required}))}}catch(P){console.debug("previewDiscount failed:",P)}}h(R.ok?R.data?.title??`Corso #${a}`:`Corso #${a}`),o(!1)}})(),()=>{I=!1}},[a]);async function O(){u("card"),m(null);const I=rO();if(!/^pk_(test|live)_/.test(I)){u(null),m("Publishable key non valida. Deve iniziare con pk_test_ (in modalità test) o pk_live_.");return}const q={};if(x.discount_percent&&x.discount_percent>0){if(!S){u(null),m("Devi prima applicare lo sconto TEO prima di procedere al pagamento.");return}q.use_teocoin_discount=!0,q.discount_percent=x.discount_percent,typeof x.price_eur=="number"&&typeof x.total_eur=="number"?q.discount_eur=x.price_eur-x.total_eur:typeof x.price_eur=="number"&&typeof x.discount_percent=="number"&&(q.discount_eur=x.price_eur*(x.discount_percent/100))}N&&(q.breakdown=N),console.debug("[Checkout] createPaymentIntent payload:",q);const R=await f3(a,q);if(u(null),!R.ok){m(`Creazione pagamento fallita (HTTP ${R.status})`);return}if(R.checkout_url){window.location.href=R.checkout_url;return}const P=R.publishable_key||I;if(console.debug("[Stripe] publishableKey:",aO(P),"clientSecret:",R.client_secret?"present":"missing"),R.client_secret&&P){j(P),_(R.client_secret);return}m("Il server non ha fornito dati di pagamento utilizzabili (client_secret assente).")}if(r)return s.jsxs("div",{className:"p-6 flex items-center justify-center",children:[s.jsx(wt,{size:28,className:"mr-3 text-neutral-600 dark:text-neutral-300"}),s.jsx("div",{className:"text-sm",children:"Caricamento…"})]});const M=x.price_eur!==void 0||x.total_eur!==void 0||x.teo_required!==void 0,G=typeof x.price_eur=="number"&&typeof x.total_eur=="number"?x.price_eur-x.total_eur:void 0;return s.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout corso"}),s.jsx("p",{className:"text-sm opacity-80",children:s.jsx(lt,{to:`/courses/${a}`,className:"underline",children:p||`Corso #${a}`})})]}),f&&s.jsx(At,{variant:"error",title:"Errore",children:f}),s.jsxs("div",{className:"rounded-2xl border p-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm opacity-70",children:"Riepilogo"}),M?s.jsxs(s.Fragment,{children:[x.price_eur!==void 0&&s.jsxs("div",{className:"text-sm",children:["Prezzo: ",s.jsxs("b",{children:[x.price_eur.toFixed(2)," ",x.currency||"EUR"]})]}),(x.discount_percent??0)>0&&s.jsxs("div",{className:"text-sm text-emerald-700",children:["Sconto ",typeof G=="number"?s.jsxs(s.Fragment,{children:[s.jsxs("b",{children:["-",G.toFixed(2)," EUR"]})," ",x.discount_percent?`(${x.discount_percent}% )`:null]}):`${x.discount_percent}%`]}),x.total_eur!==void 0&&s.jsxs("div",{className:"text-sm",children:["Totale: ",s.jsxs("b",{children:[x.total_eur.toFixed(2)," ",x.currency||"EUR"]})]})]}):s.jsx("div",{className:"text-sm opacity-70",children:"Riepilogo non disponibile — puoi procedere al pagamento."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(tO,{priceEUR:x.price_eur??x.total_eur??0,courseId:a,onApply:(I,q,R)=>{const P=R||{},B=Number(P.final_price_eur??P.finalPriceEUR??I??x.price_eur??x.total_eur??0),K=Number(P.discount_eur??P.discountEUR??q??(typeof x.price_eur=="number"?x.price_eur-B:0));let ne;const te=P.discount_percent??P.discountPct??P.discount??void 0;if(te!==void 0){const X=Number(te);Number.isFinite(X)&&(ne=X)}ne===void 0&&typeof x.price_eur=="number"&&x.price_eur>0&&(ne=(x.price_eur-B)/x.price_eur*100);const Y=P.teo_required??P.teoRequired??P.teo_spent??x.teo_required;let D;typeof Y=="number"&&Number.isFinite(Y)?D=Y:typeof Y=="string"&&Y.trim()!==""&&!Number.isNaN(Number(Y))&&(D=Number(Y)),b(X=>({...X,total_eur:B,discount_percent:typeof ne=="number"?ne:X.discount_percent,teo_required:D??X.teo_required}));try{const X=(R||{}).breakdown??R??null;X&&T(X)}catch{}E(!0),console.debug("TEO discount applied",{finalPriceEUR:I,discountEUR:q,details:R,normalized:{final:B,discount:K,discount_percent:ne,teo_required:D}})}}),y?s.jsx(oO,{clientSecret:y,publishableKey:C,returnTo:`${window.location.origin}/payments/return?course=${a}`}):s.jsx(s.Fragment,{children:s.jsx("button",{onClick:O,disabled:!!c,className:"w-full rounded-xl px-4 py-2 border bg-black text-white disabled:opacity-50",children:c==="card"?"Creo pagamento…":"Paga con carta (Stripe)"})})]})]}),s.jsx("div",{className:"text-sm opacity-70",children:"Al termine del pagamento verrai riportato alla pagina del corso."})]})}function oO({clientSecret:t,publishableKey:a,returnTo:r}){const o=H.useMemo(()=>T3(a),[a]);return s.jsx(Vw,{stripe:o,options:{clientSecret:t,appearance:{theme:"stripe"},locale:"it"},children:s.jsx(lO,{returnTo:r})})}function lO({returnTo:t}){const a=Z3(),r=G3(),[o,c]=H.useState(!1),[u,f]=H.useState(null);async function m(p){if(p.preventDefault(),!a||!r)return;c(!0),f(null);const{error:h}=await a.confirmPayment({elements:r,confirmParams:{return_url:t}});c(!1),h&&f(h.message||"Errore nella conferma del pagamento.")}return s.jsxs("form",{onSubmit:m,className:"space-y-3",children:[s.jsx(J3,{onReady:()=>console.debug("[Stripe] PaymentElement ready")}),u&&s.jsx(At,{variant:"error",children:u}),s.jsx("button",{type:"submit",disabled:!a||!r||o,className:"w-full rounded-xl px-4 py-2 border bg-black text-white disabled:opacity-50",children:o?s.jsxs(s.Fragment,{children:[s.jsx(wt,{size:16,className:"inline mr-2 text-current"}),"Elaboro…"]}):"Conferma pagamento"})]})}function Gy(t){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function Yy(t){return Number(t).toFixed(8)}function cO({r:t}){return s.jsxs("div",{className:"rounded-lg border bg-card p-5 shadow-card",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Ricevuta"}),t.status==="pending"&&s.jsx("div",{className:"text-sm bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"In attesa di accettazione (24h)"}),t.status==="accepted"&&s.jsx("div",{className:"text-sm bg-green-100 text-green-800 px-2 py-1 rounded",children:"Accettato"}),t.status==="rejected"&&s.jsx("div",{className:"text-sm bg-red-100 text-red-800 px-2 py-1 rounded",children:"Rifiutato"})]}),s.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Prezzo finale"}),s.jsx("span",{className:"font-medium",children:Gy(t.final_price_eur)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sconto"}),s.jsxs("span",{className:"text-emerald-700",children:["-",Gy(t.discount_eur)]})]}),typeof t.teo_spent=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"TEO spesi"}),s.jsxs("span",{children:[Yy(t.teo_spent)," TEO"]})]}),typeof t.teacher_bonus_teo=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Bonus docente"}),s.jsxs("span",{children:[Yy(t.teacher_bonus_teo)," TEO"]})]}),t.order_id&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Ordine"}),s.jsx("span",{className:"font-mono",children:String(t.order_id)})]}),t.deadline_at&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Scadenza decisione: ",new Date(t.deadline_at).toLocaleString()]}),t.created_at&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Data: ",new Date(t.created_at).toLocaleString()]})]})]})}function uO(){const{search:t}=dn();return H.useMemo(()=>new URLSearchParams(t),[t])}function dO(t){const a=t&&Object.prototype.hasOwnProperty.call(t,"is_enrolled")?t.is_enrolled:void 0;return a===!0||a==="true"||a===1}async function Ky(t,a=6,r=1500){for(let o=0;o<a;o++){const c=await bj(t);if(c.ok&&dO(c.data))return!0;await new Promise(u=>setTimeout(u,r))}return!1}function fO(){const t=uO(),a=$t(),r=t.get("payment_intent")||void 0,o=t.get("payment_intent_client_secret")||void 0,c=t.get("course")||void 0,u=t.get("redirect_status")||void 0,f=c?Number(c):void 0,[m,p]=H.useState(!1),[h,x]=H.useState(null),[b,y]=H.useState("in attesa di verifica"),[_,C]=H.useState("init"),[j,S]=H.useState(null),[E,N]=H.useState(null),T=H.useRef(null);async function O(){p(!0),x(null),S(null),y("Inizio verifica pagamento…");try{if(!r||!f){x("Informazioni incomplete nel ritorno da Stripe (manca payment_intent o course)."),p(!1);return}C("confirm"),y("Conferma pagamento lato server…");const M=await h3(f,{payment_intent:r,payment_intent_client_secret:o||void 0,redirect_status:u||void 0});if(M.ok){try{const B={order_id:r};try{if(f){const ne=await Dw(f);ne.ok&&(ne.data.price_eur!==void 0&&(B.price_eur=ne.data.price_eur),ne.data.discount_percent!==void 0&&(B.discount_percent=ne.data.discount_percent))}}catch(ne){console.debug("getPaymentSummary failed:",ne)}const K=await fm(B);K.ok&&N(K.data.snapshot??K.data)}catch(B){console.debug("confirmDiscount initial failed:",B)}if(S(M.data.status||"ok"),y("Verifico l'iscrizione…"),C("poll"),await Ky(M.data.course_id??f,8,1200)){y("Enrollment confermato, reindirizzo al corso…"),C("done"),p(!1),setTimeout(()=>a(`/courses/${f}`),700);return}}else if(M.status!==400&&![404,405,501].includes(M.status)){x(`Errore conferma pagamento (HTTP ${M.status}).`),p(!1);return}C("fallback"),y("Conferma alternativa (purchase) in corso…");const G=await m3(f,{method:"stripe",payment_intent:r}),I=G.status??0;if(!G.ok&&![404,405,501].includes(I)){x(`Errore nella conferma alternativa (HTTP ${I}).`),p(!1);return}if(C("poll"),y("Aggiorno lo stato d'iscrizione…"),await Ky(f,8,1200)){y("Enrollment confermato, reindirizzo al corso…"),C("done"),p(!1),setTimeout(()=>a(`/courses/${f}`),700);return}const R=M.status===400?"Conferma non accettata dal server (400). Potrebbe mancare un campo nel payload; riprova più tardi o contatta il supporto.":"Verifica non disponibile lato server. Il pagamento è riuscito, l'iscrizione potrebbe richiedere qualche istante.";x(R),p(!1)}catch(M){const G=M instanceof Error?M.message:String(M);x(G||"Errore imprevisto nella verifica."),p(!1)}}return H.useEffect(()=>{let M=!0;async function G(I){I&&(T.current&&(window.clearInterval(T.current),T.current=null),T.current=window.setInterval(async()=>{try{const q=await p3(I);if(q.ok){const R=q.data?.snapshot??q.data??null;M&&N(R);const P=R?.status??R?.state,B=new Date(R?.deadline_at??R?.expires_at??0);P==="accepted"||P==="rejected"?T.current&&(window.clearInterval(T.current),T.current=null):B&&!isNaN(B.getTime())&&Date.now()>B.getTime()&&(M&&N({...R??{},status:"rejected"}),T.current&&(window.clearInterval(T.current),T.current=null))}else if(q.status===404)try{const R=await fm({order_id:I});if(R.ok){const P=R.data?.snapshot??R.data??null;M&&N(P);const B=P?.status??P?.state,K=new Date(P?.deadline_at??P?.expires_at??0);B==="accepted"||B==="rejected"?T.current&&(window.clearInterval(T.current),T.current=null):K&&!isNaN(K.getTime())&&Date.now()>K.getTime()&&(M&&N({...P??{},status:"rejected"}),T.current&&(window.clearInterval(T.current),T.current=null))}}catch(R){console.debug("confirmDiscount fallback failed:",R)}else if(q.status>=500||q.status===0)try{window.dispatchEvent(new CustomEvent("toast:show",{detail:{variant:"warning",message:"Connessione instabile, ritento tra 20s"}}))}catch{}}catch(q){try{window.dispatchEvent(new CustomEvent("toast:show",{detail:{variant:"warning",message:"Connessione instabile, ritento tra 20s"}}))}catch{}console.debug("polling error:",q)}},2e4))}return r&&G(r),()=>{M=!1,T.current&&window.clearInterval(T.current)}},[r]),H.useEffect(()=>{O()},[]),s.jsxs("div",{className:"max-w-xl mx-auto p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Ritorno da Stripe"}),s.jsxs("div",{className:"rounded-xl border p-4 space-y-1 text-sm",children:[s.jsxs("div",{children:["Stato redirect: ",s.jsx("b",{children:u||"sconosciuto"})]}),s.jsxs("div",{children:["Payment Intent: ",s.jsx("b",{children:r||"—"})]}),s.jsxs("div",{children:["Corso: ",s.jsx("b",{children:f??"—"})]}),s.jsxs("div",{children:["Fase: ",s.jsx("b",{children:_})]}),j&&s.jsxs("div",{children:["Server: ",s.jsx("b",{children:j})]})]}),m&&s.jsx("div",{className:"rounded-xl border p-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("div",{children:b})]})}),E&&s.jsx("div",{children:s.jsx(cO,{r:{final_price_eur:E.final_price_eur??E.student_pay_eur??E.total_eur??0,discount_eur:E.discount_eur??(typeof E.price_eur=="number"?E.price_eur-(E.final_price_eur??E.student_pay_eur??E.total_eur):0),teo_spent:E.teo_spent??E.teo_required??E.teacher_teo,order_id:E.order_id??r,created_at:E.created_at??E.created,status:E.status??E.state,deadline_at:E.deadline_at??E.expires_at,teacher_bonus_teo:E.teacher_bonus_teo??E.bonus_teo}})}),!m&&h&&s.jsxs(At,{variant:"warning",title:"Attenzione",children:[s.jsx("div",{children:h}),s.jsxs("div",{className:"flex gap-3 mt-2",children:[f?s.jsx(lt,{className:"underline",to:`/courses/${f}`,children:"Vai al corso"}):s.jsx(lt,{className:"underline",to:"/courses",children:"Vai al catalogo"}),s.jsx("button",{className:"underline",onClick:()=>O(),children:"Riprova verifica"})]})]}),!m&&!h&&s.jsx("div",{className:"rounded-xl border p-4 text-sm",children:b})]})}const Qn=v.forwardRef(({className:t,...a},r)=>{const o=v.useRef(0);return o.current+=1,v.useEffect(()=>(console.debug("[Textarea] render",{renders:o.current}),()=>{console.debug("[Textarea] unmount")})),s.jsx("textarea",{ref:r,"data-slot":"textarea",className:ge("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})});Qn.displayName="Textarea";var Gr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oa=typeof window>"u"||"Deno"in globalThis;function Bt(){}function mO(t,a){return typeof t=="function"?t(a):t}function pm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Yw(t,a){return Math.max(t+(a||0)-Date.now(),0)}function Js(t,a){return typeof t=="function"?t(a):t}function wn(t,a){return typeof t=="function"?t(a):t}function Qy(t,a){const{type:r="all",exact:o,fetchStatus:c,predicate:u,queryKey:f,stale:m}=t;if(f){if(o){if(a.queryHash!==Ch(f,a.options))return!1}else if(!vo(a.queryKey,f))return!1}if(r!=="all"){const p=a.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof m=="boolean"&&a.isStale()!==m||c&&c!==a.state.fetchStatus||u&&!u(a))}function Xy(t,a){const{exact:r,status:o,predicate:c,mutationKey:u}=t;if(u){if(!a.options.mutationKey)return!1;if(r){if(Da(a.options.mutationKey)!==Da(u))return!1}else if(!vo(a.options.mutationKey,u))return!1}return!(o&&a.state.status!==o||c&&!c(a))}function Ch(t,a){return(a?.queryKeyHashFn||Da)(t)}function Da(t){return JSON.stringify(t,(a,r)=>gm(r)?Object.keys(r).sort().reduce((o,c)=>(o[c]=r[c],o),{}):r)}function vo(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(r=>vo(t[r],a[r])):!1}function Kw(t,a){if(t===a)return t;const r=Wy(t)&&Wy(a);if(r||gm(t)&&gm(a)){const o=r?t:Object.keys(t),c=o.length,u=r?a:Object.keys(a),f=u.length,m=r?[]:{},p=new Set(o);let h=0;for(let x=0;x<f;x++){const b=r?x:u[x];(!r&&p.has(b)||r)&&t[b]===void 0&&a[b]===void 0?(m[b]=void 0,h++):(m[b]=Kw(t[b],a[b]),m[b]===t[b]&&t[b]!==void 0&&h++)}return c===f&&h===c?t:m}return a}function wc(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}function Wy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gm(t){if(!Zy(t))return!1;const a=t.constructor;if(a===void 0)return!0;const r=a.prototype;return!(!Zy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zy(t){return Object.prototype.toString.call(t)==="[object Object]"}function hO(t){return new Promise(a=>{setTimeout(a,t)})}function xm(t,a,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,a):r.structuralSharing!==!1?Kw(t,a):a}function pO(t,a,r=0){const o=[...t,a];return r&&o.length>r?o.slice(1):o}function gO(t,a,r=0){const o=[a,...t];return r&&o.length>r?o.slice(0,-1):o}var Eh=Symbol();function Qw(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===Eh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Xw(t,a){return typeof t=="function"?t(...a):!!t}var xO=class extends Gr{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Oa&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ah=new xO,vO=class extends Gr{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Oa&&window.addEventListener){const a=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Nc=new vO;function vm(){let t,a;const r=new Promise((c,u)=>{t=c,a=u});r.status="pending",r.catch(()=>{});function o(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{o({status:"fulfilled",value:c}),t(c)},r.reject=c=>{o({status:"rejected",reason:c}),a(c)},r}function yO(t){return Math.min(1e3*2**t,3e4)}function Ww(t){return(t??"online")==="online"?Nc.isOnline():!0}var Zw=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Jw(t){let a=!1,r=0,o;const c=vm(),u=()=>c.status!=="pending",f=j=>{u()||(y(new Zw(j)),t.abort?.())},m=()=>{a=!0},p=()=>{a=!1},h=()=>Ah.isFocused()&&(t.networkMode==="always"||Nc.isOnline())&&t.canRun(),x=()=>Ww(t.networkMode)&&t.canRun(),b=j=>{u()||(o?.(),c.resolve(j))},y=j=>{u()||(o?.(),c.reject(j))},_=()=>new Promise(j=>{o=S=>{(u()||h())&&j(S)},t.onPause?.()}).then(()=>{o=void 0,u()||t.onContinue?.()}),C=()=>{if(u())return;let j;const S=r===0?t.initialPromise:void 0;try{j=S??t.fn()}catch(E){j=Promise.reject(E)}Promise.resolve(j).then(b).catch(E=>{if(u())return;const N=t.retry??(Oa?0:3),T=t.retryDelay??yO,O=typeof T=="function"?T(r,E):T,M=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,E);if(a||!M){y(E);return}r++,t.onFail?.(r,E),hO(O).then(()=>h()?void 0:_()).then(()=>{a?y(E):C()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(o?.(),c),cancelRetry:m,continueRetry:p,canStart:x,start:()=>(x()?C():_().then(C),c)}}var bO=t=>setTimeout(t,0);function jO(){let t=[],a=0,r=m=>{m()},o=m=>{m()},c=bO;const u=m=>{a?t.push(m):c(()=>{r(m)})},f=()=>{const m=t;t=[],m.length&&c(()=>{o(()=>{m.forEach(p=>{r(p)})})})};return{batch:m=>{let p;a++;try{p=m()}finally{a--,a||f()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{o=m},setScheduler:m=>{c=m}}}var bt=jO(),eN=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pm(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oa?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},wO=class extends eN{#t;#e;#n;#s;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=NO(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const r=xm(this.state.data,t,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),r}setState(t,a){this.#r({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>wn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Eh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Js(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Yw(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},c=()=>{const m=Qw(this.options,a),h=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(x),x})();return this.#o=!1,this.options.persister?this.options.persister(m,h,this):m(h)},f=(()=>{const m={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Jw({initialPromise:a?.initialPromise,fn:f.fetchFn,abort:r.abort.bind(r),onFail:(m,p)=>{this.#r({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#a.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Zw){if(m.silent)return this.#a.promise;if(m.revert){if(this.setState({...this.#e,fetchStatus:"idle"}),this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(t){const a=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tN(r.data,this.options),fetchMeta:t.meta??null};case"success":const o={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?o:void 0,o;case"error":const c=t.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=a(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function tN(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ww(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function NO(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,r=a!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var SO=class extends Gr{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,a,r){const o=a.queryKey,c=a.queryHash??Ch(o,a);let u=this.get(c);return u||(u=new wO({client:t,queryKey:o,queryHash:c,options:t.defaultQueryOptions(a),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#t.get(t.queryHash);a&&(t.destroy(),a===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(r=>Qy(a,r))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(r=>Qy(t,r)):a}notify(t){bt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_O=class extends eN{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||nN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#s({type:"continue"})};this.#n=Jw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",o=!this.#n.canStart();try{if(r)a();else{this.#s({type:"pending",variables:t,isPaused:o}),await this.#e.config.onMutate?.(t,this);const u=await this.options.onMutate?.(t);u!==this.state.context&&this.#s({type:"pending",context:u,variables:t,isPaused:o})}const c=await this.#n.start();return await this.#e.config.onSuccess?.(c,t,this.state.context,this),await this.options.onSuccess?.(c,t,this.state.context),await this.#e.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,t,this.state.context),this.#s({type:"success",data:c}),c}catch(c){try{throw await this.#e.config.onError?.(c,t,this.state.context,this),await this.options.onError?.(c,t,this.state.context),await this.#e.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,t,this.state.context),c}finally{this.#s({type:"error",error:c})}}finally{this.#e.runNext(this)}}#s(t){const a=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),bt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function nN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var CO=class extends Gr{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,a,r){const o=new _O({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:r});return this.add(o),o}add(t){this.#t.add(t);const a=Jl(t);if(typeof a=="string"){const r=this.#e.get(a);r?r.push(t):this.#e.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const a=Jl(t);if(typeof a=="string"){const r=this.#e.get(a);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&this.#e.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Jl(t);if(typeof a=="string"){const o=this.#e.get(a)?.find(c=>c.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Jl(t);return typeof a=="string"?this.#e.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bt.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const a={exact:!0,...t};return this.getAll().find(r=>Xy(a,r))}findAll(t={}){return this.getAll().filter(a=>Xy(t,a))}notify(t){bt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return bt.batch(()=>Promise.all(t.map(a=>a.continue().catch(Bt))))}};function Jl(t){return t.options.scope?.id}function Jy(t){return{onFetch:(a,r)=>{const o=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,u=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let m={pages:[],pageParams:[]},p=0;const h=async()=>{let x=!1;const b=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(a.signal.aborted?x=!0:a.signal.addEventListener("abort",()=>{x=!0}),a.signal)})},y=Qw(a.options,a.fetchOptions),_=async(C,j,S)=>{if(x)return Promise.reject();if(j==null&&C.pages.length)return Promise.resolve(C);const N=(()=>{const G={client:a.client,queryKey:a.queryKey,pageParam:j,direction:S?"backward":"forward",meta:a.options.meta};return b(G),G})(),T=await y(N),{maxPages:O}=a.options,M=S?gO:pO;return{pages:M(C.pages,T,O),pageParams:M(C.pageParams,j,O)}};if(c&&u.length){const C=c==="backward",j=C?EO:eb,S={pages:u,pageParams:f},E=j(o,S);m=await _(S,E,C)}else{const C=t??u.length;do{const j=p===0?f[0]??o.initialPageParam:eb(o,m);if(p>0&&j==null)break;m=await _(m,j),p++}while(p<C)}return m};a.options.persister?a.fetchFn=()=>a.options.persister?.(h,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},r):a.fetchFn=h}}}function eb(t,{pages:a,pageParams:r}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,r[o],r):void 0}function EO(t,{pages:a,pageParams:r}){return a.length>0?t.getPreviousPageParam?.(a[0],a,r[0],r):void 0}var AO=class{#t;#e;#n;#s;#a;#i;#o;#r;constructor(t={}){this.#t=t.queryCache||new SO,this.#e=t.mutationCache||new CO,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=Nc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#t.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),r=this.#t.build(this,a),o=r.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Js(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:a,state:r})=>{const o=r.data;return[a,o]})}setQueryData(t,a,r){const o=this.defaultQueryOptions({queryKey:t}),u=this.#t.get(o.queryHash)?.state.data,f=mO(a,u);if(f!==void 0)return this.#t.build(this,o).setData(f,{...r,manual:!0})}setQueriesData(t,a,r){return bt.batch(()=>this.#t.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,r)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#t.get(a.queryHash)?.state}removeQueries(t){const a=this.#t;bt.batch(()=>{a.findAll(t).forEach(r=>{a.remove(r)})})}resetQueries(t,a){const r=this.#t;return bt.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const r={revert:!0,...a},o=bt.batch(()=>this.#t.findAll(t).map(c=>c.cancel(r)));return Promise.all(o).then(Bt).catch(Bt)}invalidateQueries(t,a={}){return bt.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const r={...a,cancelRefetch:a.cancelRefetch??!0},o=bt.batch(()=>this.#t.findAll(t).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(Bt)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(o).then(Bt)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const r=this.#t.build(this,a);return r.isStaleByTime(Js(a.staleTime,r))?r.fetch(a):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bt).catch(Bt)}fetchInfiniteQuery(t){return t.behavior=Jy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bt).catch(Bt)}ensureInfiniteQueryData(t){return t.behavior=Jy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#s.set(Da(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#s.values()],r={};return a.forEach(o=>{vo(t,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(t,a){this.#a.set(Da(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],r={};return a.forEach(o=>{vo(t,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=Ch(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Eh&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},TO=class extends Gr{constructor(t,a){super(),this.options=a,this.#t=t,this.#r=null,this.#o=vm(),this.bindMethods(),this.setOptions(a)}#t;#e=void 0;#n=void 0;#s=void 0;#a;#i;#o;#r;#p;#f;#m;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),tb(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ym(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ym(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#e.removeObserver(this)}setOptions(t){const a=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),a._defaulted&&!wc(this.options,a)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const o=this.hasListeners();o&&nb(this.#e,r,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#e!==r||wn(this.options.enabled,this.#e)!==wn(a.enabled,this.#e)||Js(this.options.staleTime,this.#e)!==Js(a.staleTime,this.#e))&&this.#g();const c=this.#x();o&&(this.#e!==r||wn(this.options.enabled,this.#e)!==wn(a.enabled,this.#e)||c!==this.#l)&&this.#v(c)}getOptimisticResult(t){const a=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(a,t);return kO(this,r)&&(this.#s=r,this.#i=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#s}trackResult(t,a){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),a?.(o),o==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,o))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let a=this.#e.fetch(this.options,t);return t?.throwOnError||(a=a.catch(Bt)),a}#g(){this.#b();const t=Js(this.options.staleTime,this.#e);if(Oa||this.#s.isStale||!pm(t))return;const r=Yw(this.#s.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#j(),this.#l=t,!(Oa||wn(this.options.enabled,this.#e)===!1||!pm(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Ah.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,a){const r=this.#e,o=this.options,c=this.#s,u=this.#a,f=this.#i,p=t!==r?t.state:this.#n,{state:h}=t;let x={...h},b=!1,y;if(a._optimisticResults){const q=this.hasListeners(),R=!q&&tb(t,a),P=q&&nb(t,r,a,o);(R||P)&&(x={...x,...tN(h.data,t.options)}),a._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:_,errorUpdatedAt:C,status:j}=x;y=x.data;let S=!1;if(a.placeholderData!==void 0&&y===void 0&&j==="pending"){let q;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(q=c.data,S=!0):q=typeof a.placeholderData=="function"?a.placeholderData(this.#m?.state.data,this.#m):a.placeholderData,q!==void 0&&(j="success",y=xm(c?.data,q,a),b=!0)}if(a.select&&y!==void 0&&!S)if(c&&y===u?.data&&a.select===this.#p)y=this.#f;else try{this.#p=a.select,y=a.select(y),y=xm(c?.data,y,a),this.#f=y,this.#r=null}catch(q){this.#r=q}this.#r&&(_=this.#r,y=this.#f,C=Date.now(),j="error");const E=x.fetchStatus==="fetching",N=j==="pending",T=j==="error",O=N&&E,M=y!==void 0,I={status:j,fetchStatus:x.fetchStatus,isPending:N,isSuccess:j==="success",isError:T,isInitialLoading:O,isLoading:O,data:y,dataUpdatedAt:x.dataUpdatedAt,error:_,errorUpdatedAt:C,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!N,isLoadingError:T&&!M,isPaused:x.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:T&&M,isStale:Th(t,a),refetch:this.refetch,promise:this.#o,isEnabled:wn(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const q=B=>{I.status==="error"?B.reject(I.error):I.data!==void 0&&B.resolve(I.data)},R=()=>{const B=this.#o=I.promise=vm();q(B)},P=this.#o;switch(P.status){case"pending":t.queryHash===r.queryHash&&q(P);break;case"fulfilled":(I.status==="error"||I.data!==P.value)&&R();break;case"rejected":(I.status!=="error"||I.error!==P.reason)&&R();break}}return I}updateResult(){const t=this.#s,a=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#i=this.options,this.#a.data!==void 0&&(this.#m=this.#e),wc(a,t))return;this.#s=a;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.#h.size)return!0;const u=new Set(c??this.#h);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(f=>{const m=f;return this.#s[m]!==t[m]&&u.has(m)})};this.#N({listeners:r()})}#w(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const a=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(t){bt.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function RO(t,a){return wn(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function tb(t,a){return RO(t,a)||t.state.data!==void 0&&ym(t,a,a.refetchOnMount)}function ym(t,a,r){if(wn(a.enabled,t)!==!1&&Js(a.staleTime,t)!=="static"){const o=typeof r=="function"?r(t):r;return o==="always"||o!==!1&&Th(t,a)}return!1}function nb(t,a,r,o){return(t!==a||wn(o.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Th(t,r)}function Th(t,a){return wn(a.enabled,t)!==!1&&t.isStaleByTime(Js(a.staleTime,t))}function kO(t,a){return!wc(t.getCurrentResult(),a)}var MO=class extends Gr{#t;#e=void 0;#n;#s;constructor(a,r){super(),this.#t=a,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const r=this.options;this.options=this.#t.defaultMutationOptions(a),wc(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Da(r.mutationKey)!==Da(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#i(a)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(a,r){return this.#s=r,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??nN();this.#e={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#i(a){bt.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#e.variables,o=this.#e.context;a?.type==="success"?(this.#s.onSuccess?.(a.data,r,o),this.#s.onSettled?.(a.data,null,r,o)):a?.type==="error"&&(this.#s.onError?.(a.error,r,o),this.#s.onSettled?.(void 0,a.error,r,o))}this.listeners.forEach(r=>{r(this.#e)})})}},sN=v.createContext(void 0),Rh=t=>{const a=v.useContext(sN);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},OO=({client:t,children:a})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(sN.Provider,{value:t,children:a})),aN=v.createContext(!1),DO=()=>v.useContext(aN);aN.Provider;function zO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var LO=v.createContext(zO()),PO=()=>v.useContext(LO),UO=(t,a)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(a.isReset()||(t.retryOnMount=!1))},BO=t=>{v.useEffect(()=>{t.clearReset()},[t])},HO=({result:t,errorResetBoundary:a,throwOnError:r,query:o,suspense:c})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(c&&t.data===void 0||Xw(r,[t.error,o])),$O=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>a(r(...o)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},FO=(t,a)=>t.isLoading&&t.isFetching&&!a,qO=(t,a)=>t?.suspense&&a.isPending,sb=(t,a,r)=>a.fetchOptimistic(t).catch(()=>{r.clearReset()});function IO(t,a,r){const o=DO(),c=PO(),u=Rh(),f=u.defaultQueryOptions(t);u.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=o?"isRestoring":"optimistic",$O(f),UO(f,c),BO(c);const m=!u.getQueryCache().get(f.queryHash),[p]=v.useState(()=>new a(u,f)),h=p.getOptimisticResult(f),x=!o&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const y=x?p.subscribe(bt.batchCalls(b)):Bt;return p.updateResult(),y},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),v.useEffect(()=>{p.setOptions(f)},[f,p]),qO(f,h))throw sb(f,p,c);if(HO({result:h,errorResetBoundary:c,throwOnError:f.throwOnError,query:u.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw h.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(f,h),f.experimental_prefetchInRender&&!Oa&&FO(h,o)&&(m?sb(f,p,c):u.getQueryCache().get(f.queryHash)?.promise)?.catch(Bt).finally(()=>{p.updateResult()}),f.notifyOnChangeProps?h:p.trackResult(h)}function VO(t,a){return IO(t,TO)}function ab(t,a){const r=Rh(),[o]=v.useState(()=>new MO(r,t));v.useEffect(()=>{o.setOptions(t)},[o,t]);const c=v.useSyncExternalStore(v.useCallback(f=>o.subscribe(bt.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),u=v.useCallback((f,m)=>{o.mutate(f,m).catch(Bt)},[o]);if(c.error&&Xw(o.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function Rr(t){const a=Number(t);return Number.isFinite(a)?a:void 0}function rb(t){return{id:Rr(t?.id??t?.pk)??0,title:String(t?.title??t?.name??"Lezione"),description:t?.description??t?.content??null,duration_min:typeof t?.duration_min=="number"?t.duration_min:Rr(t?.duration)??void 0,is_completed:!!(t?.is_completed??t?.completed),order:Rr(t?.order??t?.position),course_id:Rr(t?.course_id??t?.course)}}function ib(t){return{id:Rr(t?.id??t?.pk)??0,lesson_id:Rr(t?.lesson_id??t?.lesson)??0,title:String(t?.title??t?.name??"Esercizio"),description:t?.description??null,status:t?.status??null,due_at:t?.due_at??t?.deadline??null}}async function ob(t,a){if(!a?.forceDetail){const f=await xe.get(`/api/v1/lesson/${t}/batch-data/`);if(f.ok){const m=f.data?.lesson??f.data,p=Array.isArray(f.data?.exercises)?f.data.exercises:Array.isArray(f.data?.items)?f.data.items:[],h=rb(m),x=f.data?.completion?.is_completed??f.data?.lesson?.completed;return typeof x<"u"&&(h.is_completed=!!x),{ok:!0,status:f.status,data:{lesson:h,exercises:p.map(ib)}}}}const r=await xe.get(`/v1/lessons/${t}/`);if(!r.ok)return{ok:!1,status:r.status,error:r.error};const o=rb(r.data),c=await xe.get(`/v1/lessons/${t}/exercises/`),u=c.ok?(Array.isArray(c.data)?c.data:Array.isArray(c.data?.results)?c.data.results:[]).map(ib):[];return{ok:!0,status:r.status,data:{lesson:o,exercises:u}}}async function rN(t){const a=await xe.post(`/v1/lessons/${t}/mark_complete/`,{});return a.ok?{ok:!0,status:a.status,data:a.data}:{ok:!1,status:a.status,error:a.error}}function GO(t){const a=typeof t=="string"?Number(t):t;return VO({queryKey:["courseOutline",a??""],queryFn:async()=>{if(!a)return null;const o=await yj(Number(a));if(!o.ok)throw o.error||new Error("Failed to load");return o.data},enabled:!!a,staleTime:1e3*10,retry:1})}function YO(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let bm=1;class KO{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const r=this.subscribers.indexOf(a);this.subscribers.splice(r,1)}),this.publish=a=>{this.subscribers.forEach(r=>r(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var r;const{message:o,...c}=a,u=typeof a?.id=="number"||((r=a.id)==null?void 0:r.length)>0?a.id:bm++,f=this.toasts.find(p=>p.id===u),m=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),f?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...a,id:u,title:o}),{...p,...a,id:u,dismissible:m,title:o}):p):this.addToast({title:o,...c,dismissible:m,id:u}),u},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:a,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),a),this.message=(a,r)=>this.create({...r,message:a}),this.error=(a,r)=>this.create({...r,message:a,type:"error"}),this.success=(a,r)=>this.create({...r,type:"success",message:a}),this.info=(a,r)=>this.create({...r,type:"info",message:a}),this.warning=(a,r)=>this.create({...r,type:"warning",message:a}),this.loading=(a,r)=>this.create({...r,type:"loading",message:a}),this.promise=(a,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:a,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const c=Promise.resolve(a instanceof Function?a():a);let u=o!==void 0,f;const m=c.then(async h=>{if(f=["resolve",h],H.isValidElement(h))u=!1,this.create({id:o,type:"default",message:h});else if(XO(h)&&!h.ok){u=!1;const b=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,C=typeof b=="object"&&!H.isValidElement(b)?b:{message:b};this.create({id:o,type:"error",description:y,...C})}else if(h instanceof Error){u=!1;const b=typeof r.error=="function"?await r.error(h):r.error,y=typeof r.description=="function"?await r.description(h):r.description,C=typeof b=="object"&&!H.isValidElement(b)?b:{message:b};this.create({id:o,type:"error",description:y,...C})}else if(r.success!==void 0){u=!1;const b=typeof r.success=="function"?await r.success(h):r.success,y=typeof r.description=="function"?await r.description(h):r.description,C=typeof b=="object"&&!H.isValidElement(b)?b:{message:b};this.create({id:o,type:"success",description:y,...C})}}).catch(async h=>{if(f=["reject",h],r.error!==void 0){u=!1;const x=typeof r.error=="function"?await r.error(h):r.error,b=typeof r.description=="function"?await r.description(h):r.description,_=typeof x=="object"&&!H.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:b,..._})}}).finally(()=>{u&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((h,x)=>m.then(()=>f[0]==="reject"?x(f[1]):h(f[1])).catch(x));return typeof o!="string"&&typeof o!="number"?{unwrap:p}:Object.assign(o,{unwrap:p})},this.custom=(a,r)=>{const o=r?.id||bm++;return this.create({jsx:a(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jn=new KO,QO=(t,a)=>{const r=a?.id||bm++;return jn.addToast({title:t,...a,id:r}),r},XO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WO=QO,ZO=()=>jn.toasts,JO=()=>jn.getActiveToasts(),mt=Object.assign(WO,{success:jn.success,info:jn.info,warning:jn.warning,error:jn.error,custom:jn.custom,message:jn.message,promise:jn.promise,dismiss:jn.dismiss,loading:jn.loading},{getHistory:ZO,getToasts:JO});YO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const iN=(function(){const t=(a,r)=>{const o=v.useRef(null);return v.useEffect(()=>(console.debug("[CourseViewer] TextareaWithMountLogger mounted",{localRef:o.current}),()=>{console.debug("[CourseViewer] TextareaWithMountLogger unmounted")}),[]),s.jsx(Qn,{...a,ref:c=>{if(o.current=c,!!r)if(typeof r=="function")try{r(c)}catch(u){console.debug("ref function call failed",u)}else try{r.current=c}catch(u){console.debug("ref assignment failed",u)}}})};return H.forwardRef(t)})();iN.displayName="TextareaWithMountLogger";function eD({courseId:t,onBack:a,onNavigateToPage:r}){const{updateTokens:o}=es(),[c,u]=v.useState(null),[f,m]=v.useState("content"),p=v.useRef(""),h=v.useRef(0);h.current+=1;const{data:x,isLoading:b,isError:y,error:_}=GO(t),C=v.useMemo(()=>{const L=x?.lessons??[];return{id:String(t),title:x?.course?.title??"Caricamento...",description:"",instructor:x?.course?.teacher?.username??"",instructorAvatar:x?.course?.cover??"",thumbnail:x?.course?.cover??"",level:"beginner",duration:"",students:0,rating:0,reviews:0,progress:x?.progress?.percent??0,lessons:L.map((U,Z)=>({id:String(U.id??Z),title:U.title??`Lezione ${Z+1}`,description:"",duration:U.duration_sec?`${Math.round((U.duration_sec||0)/60)} min`:"",content:"",completed:!!x?.progress?.completed_lesson_ids?.includes(U.id),locked:x?.course?.enrollment_status!=="enrolled"&&!U.is_free_preview,order:U.position??Z+1,exercise:U.exercise?(()=>{const re=U.exercise,ue=re.submission??null,oe=re.submission_files??re.files??null,de=[];if(Array.isArray(oe))for(const Ce of oe){const je=Ce;de.push({name:String(je.name??je.filename??"file"),url:je.url??je.file_url??null,mime:je.mime??je.type??null})}return{id:re.id??U.id,title:String(re.title??re.name??`Esercizio ${U.position??Z+1}`),description:re.description??null,timeEstimate:re.time_estimate?String(re.time_estimate):"--",completed:!!re.completed,unlocked:!!re.unlocked,submission:ue,submissionFiles:de}})():void 0}))}},[x,t]);v.useEffect(()=>{try{const L={};for(const U of C.lessons){const Z=U.exercise;!Z||!Z.id||(Z.submission||Z.submissionFiles&&Z.submissionFiles.length>0||Z.completed)&&(L[Number(Z.id)]=!0)}G(L)}catch(L){console.debug("[CourseViewer] seed submittedExercises failed",L)}},[C]),v.useEffect(()=>{(async()=>{try{const L=await jj();if(L.ok){const U={},Z={};for(const re of L.data){const ue=Number(re.id);U[ue]=!0,Z[ue]={text:re.description??void 0,files:[]}}G(re=>({...re??{},...U})),q(re=>({...re??{},...Z}))}}catch(L){console.debug("[CourseViewer] listMyExercises failed",L)}})()},[]),v.useEffect(()=>{(async()=>{try{const U=(c?C.lessons.find(re=>re.id===c):null)?.exercise?.id;if(!U)return;q(re=>(re&&re[Number(U)],re));const Z=await Nj(Number(U));if(Z.ok&&Z.data){const re=Z.data,ue=re.text??re.submission_text??void 0,oe=re.files??re.submission_files??null,de=[];if(Array.isArray(oe))for(const Ce of oe){const je=Ce;de.push({name:String(je.name??je.filename??"file"),url:je.url??je.file_url??null,mime:je.mime??je.type??null})}q(Ce=>({...Ce??{},[Number(U)]:{text:ue,files:de}}))}}catch(L){console.debug("[CourseViewer] getMySubmission failed",L)}})()},[c,C.lessons]),v.useEffect(()=>{y&&mt(String(_?.message??String(_)))},[y,_]);const j=c?C.lessons.find(L=>L.id===c):null,S=C.lessons.filter(L=>L.completed).length,E=C.lessons.length,N=L=>{O.mutateAsync(Number(L))},T=Rh(),O=ab({mutationFn:async L=>{const U=await rN(L);if(!U.ok)throw U.error||new Error("Failed to mark complete");return U.data},onSuccess:()=>{o(5),mt("Lesson completed! ✨",{description:"You earned 5 tokens. Next lesson unlocked!"});const L=["courseOutline",Number(t??"")];try{T.invalidateQueries({queryKey:L})}catch{}},onError:L=>{const U=L&&typeof L=="object"&&"message"in L?String(L.message??String(L)):String(L);mt(String(U))}}),[M,G]=v.useState({}),[I,q]=v.useState({}),R=j?.exercise?.id?Number(j.exercise.id):void 0,P=R?I[Number(R)]??void 0:void 0,B=!!(j?.exercise?.completed||R&&(M[Number(R)]||P)),K=ab({mutationFn:async({exerciseId:L,payload:U})=>{const Z=await wj(L,{text:U.text,files:U.files});if(!Z.ok)throw Z.error||new Error("Failed to submit exercise");return Z.data},onSuccess:(L,U)=>{o(10),p.current="";try{ae.current&&(ae.current.value="")}catch(re){console.debug("[CourseViewer] reset textarea value failed",re)}U&&typeof U.exerciseId=="number"&&G(re=>({...re??{},[U.exerciseId]:!0})),mt("Esercizio caricato correttamente ✨");const Z=["courseOutline",Number(t??"")];try{T.invalidateQueries({queryKey:Z})}catch{}},onError:L=>{const U=L&&typeof L=="object"&&"message"in L?String(L.message??String(L)):String(L);mt(String(U))}}),ne=()=>{if(!p.current.trim()){mt("Please add your submission before submitting");return}const L=j?.exercise?.id;if(!L){mt("No exercise available for this lesson");return}if(!j?.exercise?.unlocked){mt("Exercise is locked. Complete the lesson first.");return}K.mutate({exerciseId:Number(L),payload:{text:p.current,files:Y??void 0}})},te=v.useRef(null),[Y,D]=v.useState(null),X=()=>{te.current?.click()},se=L=>{if(!L.target.files)return;const U=Array.from(L.target.files),Z=U.filter(re=>re.type==="application/pdf"||re.name.toLowerCase().endsWith(".pdf"));Z.length!==U.length&&mt("Only PDF files are accepted. Non-PDF files were ignored."),D(Z.length?Z:null)},ae=v.useRef(null);v.useEffect(()=>{f==="exercise"&&setTimeout(()=>ae.current?.focus(),50)},[f,c]),v.useEffect(()=>{console.debug("[CourseViewer] textarea ref at effect",{textareaRef:ae.current,activeElement:document.activeElement?.tagName})},[f,c]),v.useEffect(()=>{console.debug("[CourseViewer] exerciseSubmissionRef at mount",{value:p.current,activeElement:document.activeElement?.tagName})},[]);const k=()=>s.jsxs("div",{className:"w-80 border-r bg-muted/20 p-4 space-y-4 overflow-y-auto",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{src:C.instructorAvatar,alt:C.instructor,className:"size-10 rounded-full"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:C.instructor}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Course Instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Course Progress"}),s.jsxs("span",{children:[Math.round(S/E*100),"%"]})]}),s.jsx(Wn,{value:S/E*100,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S," of ",E," lessons completed"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Course Content"}),s.jsx("div",{className:"space-y-1",children:b?s.jsx("div",{className:"p-4",children:"Caricamento lezioni…"}):C.lessons.map(L=>s.jsx("button",{onClick:()=>{L.locked||(u(L.id),m("content"))},disabled:L.locked,className:`w-full p-3 rounded-lg text-left transition-colors ${c===L.id?"bg-primary text-primary-foreground":L.locked?"bg-muted/50 text-muted-foreground cursor-not-allowed":"hover:bg-muted"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:L.completed?s.jsx(vs,{className:"size-5 text-green-600"}):L.locked?s.jsx(Jf,{className:"size-5"}):s.jsx(em,{className:"size-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h5",{className:"font-medium text-sm truncate",children:[L.order,". ",L.title]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80",children:[s.jsx(lo,{className:"size-3"}),s.jsx("span",{children:L.duration}),L.exercise&&s.jsxs(s.Fragment,{children:[s.jsx(Aa,{className:"size-3"}),s.jsx("span",{children:"Exercise"})]})]})]})]})},L.id))})]})]}),$=()=>j?s.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{children:j.title}),s.jsx("p",{className:"text-muted-foreground",children:j.description})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(lo,{className:"size-4"}),s.jsx("span",{children:j.duration})]}),!j.completed&&!j.locked&&s.jsxs(ye,{onClick:()=>N(j.id),children:[s.jsx(vs,{className:"size-4 mr-2"}),"Mark Complete"]}),j.exercise&&s.jsx(ye,{variant:"outline",onClick:()=>j.exercise&&(j.exercise.unlocked||j.completed)&&m("exercise"),className:"ml-2",disabled:!j.exercise.unlocked&&!j.completed,children:!j.exercise.unlocked&&!j.completed?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Jf,{className:"size-4"}),"Exercise (locked)"]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"size-4 mr-2"}),"Open Exercise"]})})]})]}),j.completed&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(vs,{className:"size-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Lesson Completed ✨"})]})]}),s.jsxs(sa,{value:f,onValueChange:L=>m(L),className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"content",children:"Lesson Content"}),j.exercise&&(j.exercise.unlocked||j.exercise.completed)&&s.jsx(Je,{value:"exercise",children:"Exercise"})]}),s.jsx(nt,{value:"content",className:"space-y-4",children:s.jsx(fe,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("p",{children:j.content}),s.jsx("div",{className:"mt-6 bg-black rounded-lg aspect-video flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(em,{className:"size-16 mx-auto mb-4 opacity-80"}),s.jsx("p",{className:"text-lg font-medium",children:"Video Lesson"}),s.jsx("p",{className:"text-sm opacity-80",children:"Click to play lesson video"})]})})]})})})}),j.exercise&&(j.exercise.unlocked||j.exercise.completed)&&s.jsx(nt,{value:"exercise",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsxs(Ue,{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"size-5"}),j.exercise.title]}),s.jsx(Ve,{children:j.exercise.description})]}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Instructions"}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:j.exercise.description??""})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:"Time Estimate"}),s.jsx(be,{variant:"outline",children:j.exercise.timeEstimate})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:"Reward"}),s.jsx(be,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"+10 ✨"})]})]})]}),B?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(vs,{className:"size-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Exercise Completed ✨"})]}),(P?.text??j.exercise.submission)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Your Submission"}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-sm",children:P?.text??j.exercise.submission}),(P?.files??j.exercise.submissionFiles??[]).length>0&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsx("h5",{className:"font-medium",children:"Attached files"}),s.jsx("ul",{className:"list-disc pl-5",children:(P?.files??j.exercise.submissionFiles??[]).map((L,U)=>s.jsxs("li",{children:[L.url?s.jsx("a",{href:L.url,target:"_blank",rel:"noreferrer",className:"text-primary underline",children:L.name}):s.jsx("span",{children:L.name})," ",L.mime&&s.jsxs("span",{className:"text-muted-foreground",children:["(",L.mime,")"]})]},U))})]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Submit Your Work"}),s.jsx(iN,{ref:ae,placeholder:"Describe your exercise completion, attach images, or share your process...",defaultValue:p.current,onChange:L=>{p.current=L.target.value,console.debug("[CourseViewer] textarea onChange (ref only)",{value:L.target.value})},onFocus:()=>{console.debug("[CourseViewer] textarea onFocus")},onBlur:()=>{console.debug("[CourseViewer] textarea onBlur"),console.trace("[CourseViewer] textarea blur trace")},className:"min-h-24"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ye,{type:"button",onClick:()=>ne(),disabled:!!B,children:[s.jsx(Pc,{className:"size-4 mr-2"}),"Submit Exercise"]}),s.jsxs(ye,{type:"button",variant:"outline",onClick:X,disabled:!!B,children:[s.jsx(Hm,{className:"size-4 mr-2"}),"Attach Files"]}),s.jsx("input",{ref:te,type:"file",multiple:!0,accept:".pdf,application/pdf",onChange:se,className:"hidden"})]}),Y&&Y.length>0&&s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Attached: ",Y.map(L=>L.name).join(", ")]})]})]})]})})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-center p-8",children:s.jsxs("div",{children:[s.jsx(Mn,{className:"size-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Lesson"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose a lesson from the sidebar to start learning"})]})});return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"flex h-16 items-center px-6",children:[s.jsxs(ye,{variant:"ghost",onClick:a,className:"mr-4",children:[s.jsx(Bm,{className:"size-4 mr-2"}),"Back to Courses"]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-lg font-medium",children:C.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"size-3"}),s.jsxs("span",{children:[C.students," students"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"size-3"}),s.jsxs("span",{children:[C.rating," (",C.reviews," reviews)"]})]}),s.jsx(be,{variant:"outline",className:"capitalize",children:C.level})]})]})]})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx(k,{}),s.jsx($,{})]})]})}function tD(){const{id:t}=Jn(),a=String(t??""),r=$t();return a?s.jsx("div",{className:"p-0",children:s.jsx(eD,{courseId:a,onBack:()=>r(-1),onNavigateToPage:o=>{if(o==="peer-review")return r(`/courses/${a}/peer-review`);r(`/${o}`)}})}):s.jsx("div",{className:"p-6",children:"ID corso non valido."})}function ra({title:t="Nessun dato",description:a="Non c'è nulla da mostrare qui.",action:r,className:o}){return s.jsxs("div",{className:js("flex flex-col items-center justify-center gap-2 rounded-lg border p-8 text-center","border-dashed border-border dark:border-border",o),children:[s.jsx("div",{className:"text-base font-medium",children:t}),s.jsx("div",{className:"text-sm text-muted-foreground dark:text-muted-foreground",children:a}),r?s.jsx("div",{className:"mt-2",children:r}):null]})}function nD(){const[t,a]=H.useState([]),[r,o]=H.useState(!1),[c,u]=H.useState(null),[f,m]=H.useState(""),p=1;return H.useEffect(()=>{let h=!0;async function x(){o(!0),u(null);const b=await jj({page:p,page_size:20,status:f||void 0});h&&(b.ok?a(b.data):u(`Impossibile caricare gli esercizi (HTTP ${b.status})`),o(!1))}return x(),()=>{h=!1}},[f]),s.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"I miei esercizi"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("select",{value:f,onChange:h=>m(h.target.value),className:"h-9 rounded-md border bg-background px-2 text-sm",children:[s.jsx("option",{value:"",children:"Tutti gli stati"}),s.jsx("option",{value:"assigned",children:"Assegnati"}),s.jsx("option",{value:"submitted",children:"Inviati"}),s.jsx("option",{value:"under_review",children:"In revisione"}),s.jsx("option",{value:"revision_requested",children:"Revisione richiesta"}),s.jsx("option",{value:"approved",children:"Approvati"}),s.jsx("option",{value:"rejected",children:"Respinti"})]})}),r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),!r&&!c&&t.length===0&&s.jsx(ra,{title:"Nessun esercizio trovato",description:"Non ci sono esercizi corrispondenti al filtro selezionato."}),!r&&!c&&t.length>0&&s.jsx("div",{className:"space-y-2",children:t.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-sm font-medium",children:h.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Stato: ",h.status??"—",h.due_at?` • Scadenza: ${new Date(h.due_at).toLocaleString()}`:""]})]}),s.jsx(lt,{className:"rounded-lg border px-3 py-1 text-sm hover:bg-accent",to:`/exercises/${h.id}/submit`,children:h.status==="assigned"||h.status==="revision_requested"?"Invia":"Apri"})]},h.id))})]})}function sD(){const{id:t}=Jn(),a=Number(t),[r,o]=H.useState(!0),[c,u]=H.useState(null),[f,m]=H.useState(""),[p,h]=H.useState("—"),[x,b]=H.useState(""),[y,_]=H.useState(null),[C,j]=H.useState(""),[S,E]=H.useState([]),[N,T]=H.useState(!1),[O,M]=H.useState(null),[G,I]=H.useState(!1);H.useEffect(()=>{let R=!0;async function P(){o(!0),u(null);const B=await Ik(a);if(!R)return;B.ok?(m(B.data.title??`Esercizio #${a}`),h(B.data.description||"—"),b(B.data.status??"")):u(`Impossibile caricare l'esercizio (HTTP ${B.status})`);const K=await Nj(a);if(K.ok&&K.data){const ne=K.data;I(!0),Array.isArray(ne.reviews)?_(ne.reviews.length):typeof ne.reviews_count=="number"?_(ne.reviews_count):typeof ne.review_count=="number"?_(ne.review_count):_(null)}o(!1)}return P(),()=>{R=!1}},[a]);async function q(R){R.preventDefault(),T(!0),M(null),u(null);const P=await wj(a,{text:C?.trim()||void 0,files:S});if(T(!1),!P.ok){u(`Invio non riuscito (HTTP ${P.status}). Controlla i campi e riprova.`);return}M("Consegna inviata correttamente. Non potrai più inviare una nuova consegna per questo esercizio."),j(""),E([]),I(!0)}return s.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:f}),r&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(wt,{}),s.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Caricamento in corso…"})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),O&&s.jsx(At,{variant:"success",children:O}),!r&&!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rounded-lg border border-border bg-card p-4 text-card-foreground shadow-card",children:[s.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:p}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Stato corrente: ",s.jsx("b",{children:x||"—"})]})]}),G?s.jsx(At,{variant:"warning",children:"Hai già inviato questo esercizio. Non puoi inviare nuovamente."}):s.jsxs("form",{onSubmit:q,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Risposta (testo)"}),s.jsx("textarea",{value:C,onChange:R=>j(R.target.value),placeholder:"Scrivi qui la tua risposta…",className:"min-h-[120px] w-full rounded-lg border border-border bg-input-background text-foreground placeholder:text-muted-foreground p-3 focus-ring"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Allegati (opzionali)"}),s.jsx("input",{type:"file",multiple:!0,onChange:R=>E(Array.from(R.target.files??[])),className:"block w-full text-sm text-muted-foreground"}),S.length>0&&s.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[S.length," file selezionati"]})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",disabled:N||x==="submitted"&&(y===null||y<3),className:"rounded-lg bg-primary px-4 py-2 text-primary-foreground disabled:opacity-50 inline-flex items-center justify-center focus-ring",title:x==="submitted"&&(y===null||y<3)?"La tua consegna è in attesa di valutazioni: non puoi reinviare finché non riceve 3 valutazioni.":void 0,children:N?s.jsxs(s.Fragment,{children:[s.jsx(wt,{size:16,className:"mr-2"}),"Invio in corso…"]}):"Invia esercizio"})})]})]})]})}function aD(){const{id:t}=Jn(),a=Number(t),[r,o]=H.useState(!0),[c,u]=H.useState(null),[f,m]=H.useState("Lezione"),[p,h]=H.useState("—"),[x,b]=H.useState(!1),[y,_]=H.useState(void 0),[C,j]=H.useState([]),[S,E]=H.useState(!1);H.useEffect(()=>{let T=!0;async function O(){o(!0),u(null);const M=await ob(a);T&&(M.ok?(m(M.data.lesson.title||`Lezione #${a}`),h(M.data.lesson.description||"—"),b(!!M.data.lesson.is_completed),_(M.data.lesson.course_id),j(M.data.exercises)):u(`Impossibile caricare la lezione (HTTP ${M.status})`),o(!1))}return Number.isFinite(a)&&O(),()=>{T=!1}},[a]);async function N(){E(!0);const T=await rN(a);if(E(!1),!T.ok){u(`Non sono riuscito a segnare la lezione come completata (HTTP ${T.status}).`);return}if(b(!0),typeof window<"u"&&typeof window.dispatchEvent=="function"){const M=typeof y<"u"?Number(y):void 0;window.dispatchEvent(new CustomEvent("lesson:completed",{detail:{lessonId:a,courseId:M}}));try{if(typeof window.sessionStorage<"u"){const G=`lesson_completed_${a}`;sessionStorage.setItem(G,String(M??""))}}catch{}}const O=await ob(a,{forceDetail:!0});O.ok&&(m(O.data.lesson.title||`Lezione #${a}`),h(O.data.lesson.description||"—"),b(!!O.data.lesson.is_completed),_(O.data.lesson.course_id),j(O.data.exercises))}return Number.isFinite(a)?s.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-6",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:y?s.jsx(lt,{className:"underline",to:`/learn/${y}`,children:"← Torna al corso"}):" "}),s.jsx("h1",{className:"text-2xl font-semibold",children:f}),s.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:p}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{onClick:N,disabled:x||S,className:"rounded-lg bg-primary px-3 py-1 text-primary-foreground disabled:opacity-50",children:x?"Lezione completata":S?s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx(wt,{size:16,className:"mr-2"})," Segno come completata…"]}):"Segna come completata"})})]}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Esercizi"}),r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),!r&&C.length===0&&s.jsx(ra,{title:"Nessun esercizio",description:"Non ci sono esercizi per questa lezione."}),!r&&C.length>0&&s.jsx("div",{className:"space-y-2",children:C.map(T=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-sm font-medium",children:T.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.due_at?`Scadenza: ${new Date(T.due_at).toLocaleString()}`:"—"})]}),s.jsx("div",{className:"flex gap-2 items-center",children:x?s.jsxs(s.Fragment,{children:[T.status==="assigned"||T.status==="revision_requested"||!T.status?s.jsx(lt,{className:"rounded-lg bg-primary px-3 py-1 text-sm text-primary-foreground hover:opacity-90",to:`/exercises/${T.id}/submit`,children:"Invia"}):s.jsx(lt,{className:"rounded-lg border px-3 py-1 text-sm hover:bg-accent",to:`/exercises/${T.id}/submit`,children:"Apri"}),s.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"Lezione completata"})]}):s.jsx("button",{disabled:!0,className:"rounded-lg bg-muted/50 px-3 py-1 text-sm text-muted-foreground cursor-not-allowed",title:"Segna la lezione come completata per accedere all'esercizio",children:"Completa la lezione per accedere"})})]},T.id))})]}),c&&s.jsx(At,{variant:"warning",title:"Attenzione",children:c})]}):s.jsx("div",{className:"p-6",children:"ID lezione non valido."})}function rD(){const[t,a]=H.useState([]),[r,o]=H.useState(!1),[c,u]=H.useState(null);return H.useEffect(()=>{let f=!0;async function m(){o(!0),u(null);const p=await ch();f&&(p.ok?a(p.data):u(`Impossibile caricare le revisioni assegnate (HTTP ${p.status})`),console.debug("[ReviewsAssigned] loaded items:",p),o(!1))}return m(),()=>{f=!1}},[]),s.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Revisioni assegnate"}),r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),!r&&!c&&t.length===0&&s.jsx(ra,{title:"Nessuna revisione assegnata",description:"Non ci sono revisioni assegnate al momento."}),!r&&!c&&t.length>0&&s.jsx("div",{className:"space-y-2",children:t.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"truncate text-sm font-medium",children:[f.exercise_title??`Esercizio #${f.exercise_id}`,f.submission_id?` • Sub #${f.submission_id}`:""]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.student?.name?`Studente: ${f.student.name}`:""," ",f.submitted_at?`• Inviato: ${new Date(f.submitted_at).toLocaleString()}`:""]})]}),f.submission_id&&f.submission_id>0?s.jsx(lt,{to:`/reviews/${f.submission_id}/review`,className:"rounded-lg bg-primary px-3 py-1 text-sm text-primary-foreground hover:opacity-90",children:"Apri review"}):f.exercise_id?s.jsx(lt,{to:`/reviews/${f.exercise_id}/review`,className:"rounded-lg bg-secondary px-3 py-1 text-sm text-secondary-foreground hover:opacity-90",children:"Apri review (da esercizio)"}):s.jsx("div",{className:"rounded-lg bg-gray-100 px-3 py-1 text-sm text-muted-foreground",children:"N/D"})]},f.submission_id??f.exercise_id??m))})]})}function iD(){const{id:t}=Jn(),a=Number(t),r=$t(),[o,c]=H.useState(!0),[u,f]=H.useState(null),[m,p]=H.useState("Esercizio"),[h,x]=H.useState(""),[b,y]=H.useState([]),[_,C]=H.useState(""),[j,S]=H.useState(void 0),[E,N]=H.useState(void 0),[T,O]=H.useState(void 0),[M,G]=H.useState(void 0),[I,q]=H.useState(""),[R,P]=H.useState(""),[B,K]=H.useState(""),[ne,te]=H.useState(""),[Y,D]=H.useState(""),[X,se]=H.useState(!1),[ae,k]=H.useState(null);H.useEffect(()=>{let L=!0;async function U(){c(!0),f(null);const Z=await Sj(a);if(L){if(!Z.ok)f(`Impossibile caricare la submission (HTTP ${Z.status})`);else{p(Z.data.title||`Submission #${a}`),x(Z.data.text||""),y(Z.data.files||[]),C(Z.data.status||"");const re=Z.data;S(typeof re?.course_id=="number"?re.course_id:void 0),N(typeof re?.lesson_id=="number"?re.lesson_id:void 0);let ue;if(re){const de=re.exercise_id,Ce=re.exerciseId;typeof de=="number"?ue=de:typeof de=="string"&&/^\d+$/.test(de)?ue=Number(de):typeof Ce=="number"?ue=Ce:typeof Ce=="string"&&/^\d+$/.test(Ce)&&(ue=Number(Ce))}O(ue);const oe=re?.student;G(oe&&typeof oe=="object"&&typeof oe.name=="string"?oe.name:void 0)}c(!1)}}return Number.isFinite(a)&&a>0&&U(),()=>{L=!1}},[a]);async function $(L){L.preventDefault(),se(!0),k(null),f(null);const U=typeof I=="number"?I:void 0,Z=typeof R=="number"?R:void 0,re=typeof B=="number"?B:void 0,ue=typeof ne=="number"?ne:void 0;if(U!==void 0&&(U<1||U>10)){f("Il punteggio deve essere compreso tra 1 e 10."),se(!1);return}let oe;Z&&re&&ue?oe={technical:Z,creative:re,following:ue,comment:Y?.trim()||void 0}:oe={score:U,comment:Y?.trim()||void 0};const de=await _j(a,oe,T);if(se(!1),!de.ok){f(`Invio review non riuscito (HTTP ${de.status}). Probabilmente il backend non espone un endpoint per la submission. (${de.error??""})`);return}k("Review inviata. Grazie! L'esito sarà notificato allo studente."),setTimeout(()=>r("/reviews/assigned"),1200)}return!Number.isFinite(a)||a<=0?s.jsx("div",{className:"p-6",children:"ID submission non valido."}):s.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground flex gap-3",children:[s.jsx(lt,{className:"underline",to:"/reviews/assigned",children:"← Torna alle revisioni"}),j&&s.jsx(lt,{className:"underline",to:`/learn/${j}`,children:"Apri corso"}),E&&s.jsx(lt,{className:"underline",to:`/lessons/${E}`,children:"Apri lezione"})]}),s.jsxs("h1",{className:"text-2xl font-semibold",children:["Revisione • Sub #",a]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[M?`Studente: ${M} • `:""," Stato: ",s.jsx("b",{children:_||"—"})]}),o&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(wt,{}),s.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Caricamento in corso…"})]}),u&&s.jsx(At,{variant:"error",title:"Errore",children:u}),!o&&!u&&!b.length&&!h&&T&&s.jsxs(At,{variant:"warning",title:"Nota",children:["Dettagli submission non disponibili; stai revisionando via esercizio #",T,". L'invio userà l'endpoint per esercizio."]}),ae&&s.jsx(At,{variant:"success",children:ae}),!o&&!u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[s.jsx("div",{className:"text-sm font-medium",children:m}),s.jsx("div",{className:"whitespace-pre-wrap text-sm text-muted-foreground",children:h||"—"}),b.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-medium",children:"Allegati"}),s.jsx("ul",{className:"list-inside list-disc text-sm",children:b.map((L,U)=>s.jsx("li",{children:s.jsx("a",{className:"underline",href:L.url,target:"_blank",rel:"noreferrer",children:L.name||L.url})},U))})]})]}),s.jsxs("form",{onSubmit:$,className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Punteggio (1–10)"}),s.jsx("input",{type:"number",min:1,max:10,value:I,onChange:L=>{const U=L.target.value;q(U===""?"":Math.max(1,Math.min(10,Number(U))))},className:"h-9 w-full rounded-md border px-2",disabled:X||!!ae})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Breakdown (1–5)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("input",{type:"number",min:1,max:5,placeholder:"T",value:R,onChange:L=>{const U=L.target.value;P(U===""?"":Math.max(1,Math.min(5,Number(U))))},className:"h-9 w-full rounded-md border px-2",disabled:X||!!ae}),s.jsx("input",{type:"number",min:1,max:5,placeholder:"C",value:B,onChange:L=>{const U=L.target.value;K(U===""?"":Math.max(1,Math.min(5,Number(U))))},className:"h-9 w-full rounded-md border px-2",disabled:X||!!ae}),s.jsx("input",{type:"number",min:1,max:5,placeholder:"F",value:ne,onChange:L=>{const U=L.target.value;te(U===""?"":Math.max(1,Math.min(5,Number(U))))},className:"h-9 w-full rounded-md border px-2",disabled:X||!!ae})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"If you fill all three fields, the breakdown will be submitted instead of the 1–10 score."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Commento"}),s.jsx("textarea",{value:Y,onChange:L=>D(L.target.value),placeholder:"Spiega al candidato i punti di forza e cosa migliorare…",className:"min-h-[120px] w-full rounded-lg border p-3"})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",disabled:X,className:"rounded-lg bg-primary px-4 py-2 text-primary-foreground disabled:opacity-50 inline-flex items-center",children:X?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"mr-2",size:16}),"Invio in corso…"]}):"Invia review"})})]})]})]})}function oD(){const[t,a]=H.useState([]),[r,o]=H.useState(!1),[c,u]=H.useState(null);return H.useEffect(()=>{let f=!0;async function m(){o(!0),u(null);const p=await Yk();f&&(p.ok?a(p.data):u(`Impossibile caricare lo storico (HTTP ${p.status})`),o(!1))}return m(),()=>{f=!1}},[]),s.jsxs("div",{className:"mx-auto max-w-4xl p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Storico revisioni"}),r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),!r&&!c&&t.length===0&&s.jsx(ra,{title:"Nessuna review in storico",description:"Non ci sono revisioni da mostrare."}),!r&&!c&&t.length>0&&s.jsx("div",{className:"space-y-2",children:t.map((f,m)=>s.jsxs("div",{className:"rounded-lg border p-3 text-sm",children:[s.jsxs("div",{className:"font-medium",children:["Esercizio: ",f.exercise_title??f.exercise_id??"—"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Esito: ",f.decision??f.status??"—",typeof f.score=="number"?` • Punteggio: ${f.score}`:"",f.created_at?` • ${new Date(f.created_at).toLocaleString()}`:""]}),f.comment&&s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:f.comment})]},m))})]})}function Et({children:t}){const{booting:a,isAuthenticated:r}=zc(),o=dn();return a?s.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:"Verifica sessione…"}):r?s.jsx(s.Fragment,{children:t}):s.jsx(Dr,{to:"/login",state:{from:o},replace:!0})}function ec({children:t,allow:a,redirectTo:r="/forbidden"}){const{booting:o,isAuthenticated:c,role:u}=zc(),f=dn();if(o)return s.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:"Verifica permessi…"});if(!c)return s.jsx(Dr,{to:"/login",state:{from:f},replace:!0});const m=Array.isArray(a)?a:[a];return!u||!m.includes(u)?s.jsx(Dr,{to:r,replace:!0}):s.jsx(s.Fragment,{children:t})}var lD="Label",oN=v.forwardRef((t,a)=>s.jsx(Ee.label,{...t,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oN.displayName=lD;var cD=oN;const Ze=v.forwardRef(({className:t,...a},r)=>s.jsx(cD,{ref:r,"data-slot":"label",className:ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a}));Ze.displayName="Label";function uD({submission:t,onBack:a,onComplete:r}){const{updateTokens:o}=es(),[c,u]=v.useState(1),[f,m]=v.useState({technical:0,creative:0,instructions:0}),[p,h]=v.useState(""),[x,b]=v.useState(""),[y,_]=v.useState(""),[C,j]=v.useState(!1),[S,E]=v.useState(!1),N=4,T=c/N*100,O=(R,P)=>{m(B=>({...B,[R]:P}))},M=()=>{switch(c){case 1:return f.technical>0&&f.creative>0&&f.instructions>0;case 2:return x.trim().length>=20;case 3:return y.trim().length>=20;case 4:return p.trim().length>=20;default:return!1}},G=()=>{if(C||S)return;j(!0);const R={technical:f.technical||void 0,creative:f.creative||void 0,following:f.instructions||void 0,comment:`${x.trim()}

Suggestions:
${y.trim()}

Final:
${p.trim()}`.trim(),recommendations:[]};(async()=>{try{const P=await _j(Number(t.id),R);P.ok?(o(5),E(!0),mt("Review submitted successfully! ✨",{description:"You earned 5 tokens for helping a fellow artist grow"}),setTimeout(()=>r(),900)):mt.error?.(`Review submission failed: HTTP ${P.status}`)}catch(P){console.error(P),mt.error?.("Review submission failed")}finally{j(!1)}})()},I=({value:R,onChange:P,label:B})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:B}),s.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(K=>s.jsx("button",{onClick:()=>P(K),className:"transition-colors hover:scale-110 transform",children:s.jsx(Mt,{className:`size-6 ${K<=R?"fill-yellow-400 text-yellow-400":"text-muted-foreground hover:text-yellow-300"}`})},K)),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:R>0?`${R}/5`:"Not rated"})]})]}),q=()=>{switch(c){case 1:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Aa,{className:"size-12 text-blue-600 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium",children:"Rate the Artwork"}),s.jsx("p",{className:"text-muted-foreground",children:"Rate each aspect honestly and constructively"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(I,{value:f.technical,onChange:R=>O("technical",R),label:"Technical Skills"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Consider: technique execution, skill with tools, understanding of fundamentals"}),s.jsx(I,{value:f.creative,onChange:R=>O("creative",R),label:"Creative Expression"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Consider: artistic vision, creativity, personal style, visual impact"}),s.jsx(I,{value:f.instructions,onChange:R=>O("instructions",R),label:"Following Instructions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Consider: met exercise requirements, followed guidelines, addressed objectives"})]})]});case 2:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(RC,{className:"size-12 text-green-600 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium",children:"Highlight Strengths"}),s.jsx("p",{className:"text-muted-foreground",children:"What did the artist do well? Be specific and encouraging."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"strengths",children:"What are the strongest aspects of this work?"}),s.jsx(Qn,{id:"strengths",placeholder:"Example: Your color choices create a great sense of mood and atmosphere. The way you handled the light reflection on the water is particularly skillful...",value:x,onChange:R=>b(R.target.value),className:"min-h-24"}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:x.length>=20?"text-green-600":"text-muted-foreground",children:[x.length," characters (minimum 20)"]}),x.length>=20&&s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(vs,{className:"size-3"}),"Good to go!"]})]})]})]});case 3:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(DC,{className:"size-12 text-amber-600 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium",children:"Constructive Suggestions"}),s.jsx("p",{className:"text-muted-foreground",children:"How could this work be improved? Focus on actionable advice."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"improvements",children:"What suggestions do you have for improvement?"}),s.jsx(Qn,{id:"improvements",placeholder:"Example: Consider adding more contrast in your shadows to create more depth. You might also experiment with varying your brush sizes to create more texture...",value:y,onChange:R=>_(R.target.value),className:"min-h-24"}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:y.length>=20?"text-green-600":"text-muted-foreground",children:[y.length," characters (minimum 20)"]}),y.length>=20&&s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(vs,{className:"size-3"}),"Good to go!"]})]})]})]});case 4:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(vs,{className:"size-12 text-blue-600 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium",children:"Final Thoughts"}),s.jsx("p",{className:"text-muted-foreground",children:"Wrap up with overall impressions and encouragement."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"overall-feedback",children:"Overall feedback and encouragement"}),s.jsx(Qn,{id:"overall-feedback",placeholder:"Example: Great progress on this exercise! You're clearly developing your skills. Keep experimenting and don't be afraid to push your boundaries...",value:p,onChange:R=>h(R.target.value),className:"min-h-24"}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:p.length>=20?"text-green-600":"text-muted-foreground",children:[p.length," characters (minimum 20)"]}),p.length>=20&&s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(vs,{className:"size-3"}),"Ready to submit!"]})]})]}),s.jsxs(fe,{className:"bg-muted/30",children:[s.jsx(ze,{className:"pb-3",children:s.jsx(Ue,{className:"text-base",children:"Review Summary"})}),s.jsxs(me,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Technical"}),s.jsx("div",{className:"flex items-center justify-center gap-1",children:[...Array(5)].map((R,P)=>s.jsx(Mt,{className:`size-3 ${P<f.technical?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},P))}),s.jsxs("p",{className:"font-medium",children:[f.technical,"/5"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Creative"}),s.jsx("div",{className:"flex items-center justify-center gap-1",children:[...Array(5)].map((R,P)=>s.jsx(Mt,{className:`size-3 ${P<f.creative?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},P))}),s.jsxs("p",{className:"font-medium",children:[f.creative,"/5"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Instructions"}),s.jsx("div",{className:"flex items-center justify-center gap-1",children:[...Array(5)].map((R,P)=>s.jsx(Mt,{className:`size-3 ${P<f.instructions?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},P))}),s.jsxs("p",{className:"font-medium",children:[f.instructions,"/5"]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Average"}),s.jsxs("p",{className:"text-lg font-medium",children:[((f.technical+f.creative+f.instructions)/3).toFixed(1),"/5"]})]})]})]})]});default:return null}};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ye,{variant:"ghost",onClick:a,children:[s.jsx(Bm,{className:"size-4 mr-2"}),"Back to Reviews"]}),s.jsxs("div",{children:[s.jsx("h1",{children:"Peer Review"}),s.jsx("p",{className:"text-muted-foreground",children:"Help a fellow artist grow with constructive feedback"})]})]}),s.jsx(be,{variant:"secondary",className:"bg-green-100 text-green-800",children:"+5 ✨ for completing"})]}),s.jsx(fe,{children:s.jsxs(me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Review Progress"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",c," of ",N]})]}),s.jsx(Wn,{value:T,className:"h-2"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(fe,{className:"lg:sticky lg:top-6",children:[s.jsx(ze,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{children:s.jsx(bs,{children:"AS"})}),s.jsxs("div",{children:[s.jsx(Ue,{className:"text-base",children:"Anonymous Student"}),s.jsxs(Ve,{children:[t.course," • ",t.lesson]})]})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:t.exerciseTitle}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.exerciseDescription}),s.jsx(Wt,{src:t.image,alt:"Student artwork submission",className:"w-full h-64 rounded-lg object-cover"})]}),t.studentNote&&s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Student's Note:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:['"',t.studentNote,'"']})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Submitted ",t.submittedAt]})]})]}),s.jsx(fe,{children:s.jsxs(me,{className:"p-6",children:[q(),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[s.jsx(ye,{variant:"outline",onClick:()=>u(Math.max(1,c-1)),disabled:c===1,children:"Previous"}),c<N?s.jsx(ye,{onClick:()=>u(c+1),disabled:!M(),children:"Next Step"}):s.jsxs(ye,{onClick:G,disabled:!M()||C||S,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Pc,{className:"size-4 mr-2"}),C?"Submitting…":S?"Submitted":"Submit Review (+5 ✨)"]})]}),!M()&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(jC,{className:"size-4 text-amber-600"}),s.jsxs("p",{className:"text-sm text-amber-800",children:[c===1&&"Please rate all three aspects to continue.",c>1&&"Please provide at least 20 characters of feedback to continue."]})]})]})})]})]})}function lb(){const[t,a]=v.useState("list"),[r,o]=v.useState(null),[c,u]=H.useState([]),[f,m]=H.useState(!1),[p,h]=H.useState(null);H.useEffect(()=>{let y=!0;async function _(){m(!0),h(null);const C=await ch();y&&(C.ok?u(C.data):h(`Impossibile caricare le revisioni assegnate (HTTP ${C.status})`),m(!1))}return _(),()=>{y=!1}},[]);const x=async y=>{const _=y.submission_id??y.exercise_id;if(!_)return;const C=await Sj(Number(_));if(C.ok){const j=C.data,S={id:String(j.id??_),studentNote:j.text??"",course:j.course_id?String(j.course_id):y.course_id?String(y.course_id):"",lesson:j.lesson_id?String(j.lesson_id):y.lesson_id?String(y.lesson_id):"",exerciseTitle:j.title??y.exercise_title??`Esercizio #${j.exercise_id??y.exercise_id??_}`,exerciseDescription:j.text??"",image:j.files&&j.files.length>0?String(j.files[0].url):"",submittedAt:String(y.submitted_at??j.created_at??""),studentId:String(j.student?.id??y.student?.id??"")};o(S),a("reviewing")}else{const j={id:String(_),studentNote:"",course:y.course_id?String(y.course_id):"",lesson:y.lesson_id?String(y.lesson_id):"",exerciseTitle:y.exercise_title??`Esercizio #${y.exercise_id??_}`,exerciseDescription:"",image:"",submittedAt:"",studentId:""};o(j),a("reviewing")}},b=()=>{a("list"),o(null)};return t==="reviewing"&&r?s.jsx(uD,{submission:r,onBack:()=>a("list"),onComplete:b}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Peer Review Studio"}),s.jsx("p",{className:"text-muted-foreground",children:"Submit your work and help fellow artists grow through constructive feedback"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(be,{variant:"outline",className:"bg-blue-50 border-blue-200",children:[s.jsx(co,{className:"size-3 mr-1"}),f?"Loading…":p?"Errore caricamento":`${c.length} pending review${c.length===1?"":"s"}`]})})]}),s.jsxs(sa,{defaultValue:"review-others",className:"space-y-6",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"review-others",children:"Review Others"}),s.jsx(Je,{value:"my-submissions",children:"My Submissions"}),s.jsx(Je,{value:"feedback-received",children:"Feedback Received"})]}),s.jsxs(nt,{value:"review-others",className:"space-y-4",children:[s.jsx(fe,{className:"border-green-200 bg-green-50/50",children:s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(Fb,{className:"size-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ue,{className:"text-base",children:"Ready to Review"}),s.jsx(Ve,{children:"Help your peers grow while earning Creator Tokens"})]}),s.jsx(be,{className:"bg-green-100 text-green-800",children:"+5 ✨ each"})]})})}),s.jsx("div",{className:"space-y-4",children:f?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Caricamento assegnamenti…"}):p?s.jsx("div",{className:"text-sm text-rose-600",children:p}):c.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nessuna revisione assegnata al momento."}):c.map((y,_)=>s.jsxs(fe,{children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{children:s.jsx(bs,{children:(y.student?.name??"AN").slice(0,2).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:y.student?.name??"Studente anonimo"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.exercise_title??`Esercizio ${y.exercise_id}`," • ",y.course_id?`Corso ${y.course_id}`:""]})]}),s.jsx(be,{variant:"outline",children:y.submitted_at?new Date(y.submitted_at).toLocaleString():"In attesa"})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:y.exercise_title??`Esercizio ${y.exercise_id}`}),s.jsx(Wt,{src:void 0,alt:"Artwork preview",className:"w-full h-48 rounded-lg object-cover bg-slate-100"})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Student's Note:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.status??""})]}),s.jsx(ye,{className:"w-full",onClick:()=>x(y),children:"Start Review (+5 ✨)"})]})]},String(y.submission_id??y.exercise_id??_)))})]}),s.jsx(nt,{value:"feedback-received",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{src:"https://images.unsplash.com/photo-1578228406113-77951bb64eff?w=60&h=60&fit=crop&crop=center",alt:"Light and shadow study",className:"size-12 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Light & Shadow Study"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Digital Painting Fundamentals • Lesson 2"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,_)=>s.jsx(Mt,{className:`size-3 ${_<4?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},_))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"4.2 average"})]})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{className:"size-8",children:s.jsx(bs,{children:"R1"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Anonymous Reviewer 1"}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,_)=>s.jsx(Mt,{className:`size-3 ${_<4?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},_))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Technical Skills"}),s.jsx("p",{className:"font-medium",children:"4/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Creativity"}),s.jsx("p",{className:"font-medium",children:"4/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Following Brief"}),s.jsx("p",{className:"font-medium",children:"5/5"})]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Feedback:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"Great work on the shadow casting! Your understanding of light direction is solid. One suggestion: try pushing the contrast more in the darkest shadows to create more dramatic depth. The composition is well thought out."'})]})]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{className:"size-8",children:s.jsx(bs,{children:"R2"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Anonymous Reviewer 2"}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,_)=>s.jsx(Mt,{className:`size-3 ${_<5?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},_))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Technical Skills"}),s.jsx("p",{className:"font-medium",children:"5/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Creativity"}),s.jsx("p",{className:"font-medium",children:"4/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Following Brief"}),s.jsx("p",{className:"font-medium",children:"5/5"})]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Feedback:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"Excellent attention to detail! Your light source is consistent throughout the piece. I love how you handled the reflected light in the shadows. This shows strong foundational understanding."'})]})]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{className:"size-8",children:s.jsx(bs,{children:"R3"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Anonymous Reviewer 3"}),s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(3)].map((y,_)=>s.jsx(Mt,{className:"size-3 fill-yellow-400 text-yellow-400"},_)),[...Array(2)].map((y,_)=>s.jsx(Mt,{className:"size-3 text-muted-foreground"},_+3))]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Technical Skills"}),s.jsx("p",{className:"font-medium",children:"3/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Creativity"}),s.jsx("p",{className:"font-medium",children:"3/5"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Following Brief"}),s.jsx("p",{className:"font-medium",children:"4/5"})]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Feedback:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'"Good start! The basic light and shadow concepts are there. For improvement, work on smoother gradations between light and shadow areas. Also consider studying more reference photos for realistic shadow behavior."'})]})]})]})]})})]}),s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"How Peer Review Works"}),s.jsx(Ve,{children:"Understanding our collaborative learning system"})]}),s.jsx(me,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"size-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Pc,{className:"size-6 text-blue-600"})}),s.jsx("h4",{children:"1. Submit Your Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your lesson exercise with a brief note about your goals and challenges."})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"size-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Pt,{className:"size-6 text-green-600"})}),s.jsx("h4",{children:"2. Get Reviewed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Three anonymous peers will provide constructive feedback on your work."})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"size-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Lc,{className:"size-6 text-purple-600"})}),s.jsx("h4",{children:"3. Review Others"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Help fellow students by reviewing their work and earn Creator Tokens."})]})]})})]})]})}function cb(t,[a,r]){return Math.min(r,Math.max(a,t))}function dD(t){const a=v.useRef({value:t,previous:t});return v.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var fD=[" ","Enter","ArrowUp","ArrowDown"],mD=[" ","Enter"],za="Select",[su,au,hD]=dh(za),[Yr,uz]=Pn(za,[hD,Vr]),ru=Vr(),[pD,ia]=Yr(za),[gD,xD]=Yr(za),lN=t=>{const{__scopeSelect:a,children:r,open:o,defaultOpen:c,onOpenChange:u,value:f,defaultValue:m,onValueChange:p,dir:h,name:x,autoComplete:b,disabled:y,required:_,form:C}=t,j=ru(a),[S,E]=v.useState(null),[N,T]=v.useState(null),[O,M]=v.useState(!1),G=Xc(h),[I,q]=Ra({prop:o,defaultProp:c??!1,onChange:u,caller:za}),[R,P]=Ra({prop:f,defaultProp:m,onChange:p,caller:za}),B=v.useRef(null),K=S?C||!!S.closest("form"):!0,[ne,te]=v.useState(new Set),Y=Array.from(ne).map(D=>D.props.value).join(";");return s.jsx(nh,{...j,children:s.jsxs(pD,{required:_,scope:a,trigger:S,onTriggerChange:E,valueNode:N,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:M,contentId:Rn(),value:R,onValueChange:P,open:I,onOpenChange:q,dir:G,triggerPointerDownPosRef:B,disabled:y,children:[s.jsx(su.Provider,{scope:a,children:s.jsx(gD,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(D=>{te(X=>new Set(X).add(D))},[]),onNativeOptionRemove:v.useCallback(D=>{te(X=>{const se=new Set(X);return se.delete(D),se})},[]),children:r})}),K?s.jsxs(RN,{"aria-hidden":!0,required:_,tabIndex:-1,name:x,autoComplete:b,value:R,onChange:D=>P(D.target.value),disabled:y,form:C,children:[R===void 0?s.jsx("option",{value:""}):null,Array.from(ne)]},Y):null]})})};lN.displayName=za;var cN="SelectTrigger",uN=v.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:o=!1,...c}=t,u=ru(r),f=ia(cN,r),m=f.disabled||o,p=Ge(a,f.onTriggerChange),h=au(r),x=v.useRef("touch"),[b,y,_]=MN(j=>{const S=h().filter(T=>!T.disabled),E=S.find(T=>T.value===f.value),N=ON(S,j,E);N!==void 0&&f.onValueChange(N.value)}),C=j=>{m||(f.onOpenChange(!0),_()),j&&(f.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(sh,{asChild:!0,...u,children:s.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":kN(f.value)?"":void 0,...c,ref:p,onClick:he(c.onClick,j=>{j.currentTarget.focus(),x.current!=="mouse"&&C(j)}),onPointerDown:he(c.onPointerDown,j=>{x.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(C(j),j.preventDefault())}),onKeyDown:he(c.onKeyDown,j=>{const S=b.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(S&&j.key===" ")&&fD.includes(j.key)&&(C(),j.preventDefault())})})})});uN.displayName=cN;var dN="SelectValue",fN=v.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:c,children:u,placeholder:f="",...m}=t,p=ia(dN,r),{onValueNodeHasChildrenChange:h}=p,x=u!==void 0,b=Ge(a,p.onValueNodeChange);return jt(()=>{h(x)},[h,x]),s.jsx(Ee.span,{...m,ref:b,style:{pointerEvents:"none"},children:kN(p.value)?s.jsx(s.Fragment,{children:f}):u})});fN.displayName=dN;var vD="SelectIcon",mN=v.forwardRef((t,a)=>{const{__scopeSelect:r,children:o,...c}=t;return s.jsx(Ee.span,{"aria-hidden":!0,...c,ref:a,children:o||"▼"})});mN.displayName=vD;var yD="SelectPortal",hN=t=>s.jsx(So,{asChild:!0,...t});hN.displayName=yD;var La="SelectContent",pN=v.forwardRef((t,a)=>{const r=ia(La,t.__scopeSelect),[o,c]=v.useState();if(jt(()=>{c(new DocumentFragment)},[]),!r.open){const u=o;return u?wo.createPortal(s.jsx(gN,{scope:t.__scopeSelect,children:s.jsx(su.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),u):null}return s.jsx(xN,{...t,ref:a})});pN.displayName=La;var An=10,[gN,oa]=Yr(La),bD="SelectContentImpl",jD=Ta("SelectContent.RemoveScroll"),xN=v.forwardRef((t,a)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,side:m,sideOffset:p,align:h,alignOffset:x,arrowPadding:b,collisionBoundary:y,collisionPadding:_,sticky:C,hideWhenDetached:j,avoidCollisions:S,...E}=t,N=ia(La,r),[T,O]=v.useState(null),[M,G]=v.useState(null),I=Ge(a,oe=>O(oe)),[q,R]=v.useState(null),[P,B]=v.useState(null),K=au(r),[ne,te]=v.useState(!1),Y=v.useRef(!1);v.useEffect(()=>{if(T)return Im(T)},[T]),qm();const D=v.useCallback(oe=>{const[de,...Ce]=K().map(et=>et.ref.current),[je]=Ce.slice(-1),Pe=document.activeElement;for(const et of oe)if(et===Pe||(et?.scrollIntoView({block:"nearest"}),et===de&&M&&(M.scrollTop=0),et===je&&M&&(M.scrollTop=M.scrollHeight),et?.focus(),document.activeElement!==Pe))return},[K,M]),X=v.useCallback(()=>D([q,T]),[D,q,T]);v.useEffect(()=>{ne&&X()},[ne,X]);const{onOpenChange:se,triggerPointerDownPosRef:ae}=N;v.useEffect(()=>{if(T){let oe={x:0,y:0};const de=je=>{oe={x:Math.abs(Math.round(je.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(ae.current?.y??0))}},Ce=je=>{oe.x<=10&&oe.y<=10?je.preventDefault():T.contains(je.target)||se(!1),document.removeEventListener("pointermove",de),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[T,se,ae]),v.useEffect(()=>{const oe=()=>se(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[se]);const[k,$]=MN(oe=>{const de=K().filter(Pe=>!Pe.disabled),Ce=de.find(Pe=>Pe.ref.current===document.activeElement),je=ON(de,oe,Ce);je&&setTimeout(()=>je.ref.current.focus())}),L=v.useCallback((oe,de,Ce)=>{const je=!Y.current&&!Ce;(N.value!==void 0&&N.value===de||je)&&(R(oe),je&&(Y.current=!0))},[N.value]),U=v.useCallback(()=>T?.focus(),[T]),Z=v.useCallback((oe,de,Ce)=>{const je=!Y.current&&!Ce;(N.value!==void 0&&N.value===de||je)&&B(oe)},[N.value]),re=o==="popper"?jm:vN,ue=re===jm?{side:m,sideOffset:p,align:h,alignOffset:x,arrowPadding:b,collisionBoundary:y,collisionPadding:_,sticky:C,hideWhenDetached:j,avoidCollisions:S}:{};return s.jsx(gN,{scope:r,content:T,viewport:M,onViewportChange:G,itemRefCallback:L,selectedItem:q,onItemLeave:U,itemTextRefCallback:Z,focusSelectedItem:X,selectedItemText:P,position:o,isPositioned:ne,searchRef:k,children:s.jsx($c,{as:jD,allowPinchZoom:!0,children:s.jsx(Bc,{asChild:!0,trapped:N.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:he(c,oe=>{N.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(No,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(re,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:oe=>oe.preventDefault(),...E,...ue,onPlaced:()=>te(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:he(E.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&$(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let je=K().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Pe=oe.target,et=je.indexOf(Pe);je=je.slice(et+1)}setTimeout(()=>D(je)),oe.preventDefault()}})})})})})})});xN.displayName=bD;var wD="SelectItemAlignedPosition",vN=v.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:o,...c}=t,u=ia(La,r),f=oa(La,r),[m,p]=v.useState(null),[h,x]=v.useState(null),b=Ge(a,I=>x(I)),y=au(r),_=v.useRef(!1),C=v.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:E,focusSelectedItem:N}=f,T=v.useCallback(()=>{if(u.trigger&&u.valueNode&&m&&h&&j&&S&&E){const I=u.trigger.getBoundingClientRect(),q=h.getBoundingClientRect(),R=u.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(u.dir!=="rtl"){const Pe=P.left-q.left,et=R.left-Pe,rt=I.left-et,qt=I.width+rt,Hn=Math.max(qt,q.width),Kr=window.innerWidth-An,It=cb(et,[An,Math.max(An,Kr-Hn)]);m.style.minWidth=qt+"px",m.style.left=It+"px"}else{const Pe=q.right-P.right,et=window.innerWidth-R.right-Pe,rt=window.innerWidth-I.right-et,qt=I.width+rt,Hn=Math.max(qt,q.width),Kr=window.innerWidth-An,It=cb(et,[An,Math.max(An,Kr-Hn)]);m.style.minWidth=qt+"px",m.style.right=It+"px"}const B=y(),K=window.innerHeight-An*2,ne=j.scrollHeight,te=window.getComputedStyle(h),Y=parseInt(te.borderTopWidth,10),D=parseInt(te.paddingTop,10),X=parseInt(te.borderBottomWidth,10),se=parseInt(te.paddingBottom,10),ae=Y+D+ne+se+X,k=Math.min(S.offsetHeight*5,ae),$=window.getComputedStyle(j),L=parseInt($.paddingTop,10),U=parseInt($.paddingBottom,10),Z=I.top+I.height/2-An,re=K-Z,ue=S.offsetHeight/2,oe=S.offsetTop+ue,de=Y+D+oe,Ce=ae-de;if(de<=Z){const Pe=B.length>0&&S===B[B.length-1].ref.current;m.style.bottom="0px";const et=h.clientHeight-j.offsetTop-j.offsetHeight,rt=Math.max(re,ue+(Pe?U:0)+et+X),qt=de+rt;m.style.height=qt+"px"}else{const Pe=B.length>0&&S===B[0].ref.current;m.style.top="0px";const rt=Math.max(Z,Y+j.offsetTop+(Pe?L:0)+ue)+Ce;m.style.height=rt+"px",j.scrollTop=de-Z+j.offsetTop}m.style.margin=`${An}px 0`,m.style.minHeight=k+"px",m.style.maxHeight=K+"px",o?.(),requestAnimationFrame(()=>_.current=!0)}},[y,u.trigger,u.valueNode,m,h,j,S,E,u.dir,o]);jt(()=>T(),[T]);const[O,M]=v.useState();jt(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const G=v.useCallback(I=>{I&&C.current===!0&&(T(),N?.(),C.current=!1)},[T,N]);return s.jsx(SD,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:_,onScrollButtonChange:G,children:s.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:s.jsx(Ee.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});vN.displayName=wD;var ND="SelectPopperPosition",jm=v.forwardRef((t,a)=>{const{__scopeSelect:r,align:o="start",collisionPadding:c=An,...u}=t,f=ru(r);return s.jsx(ah,{...f,...u,ref:a,align:o,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jm.displayName=ND;var[SD,kh]=Yr(La,{}),wm="SelectViewport",yN=v.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:o,...c}=t,u=oa(wm,r),f=kh(wm,r),m=Ge(a,u.onViewportChange),p=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(su.Slot,{scope:r,children:s.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:he(c.onScroll,h=>{const x=h.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:y}=f;if(y?.current&&b){const _=Math.abs(p.current-x.scrollTop);if(_>0){const C=window.innerHeight-An*2,j=parseFloat(b.style.minHeight),S=parseFloat(b.style.height),E=Math.max(j,S);if(E<C){const N=E+_,T=Math.min(C,N),O=N-T;b.style.height=T+"px",b.style.bottom==="0px"&&(x.scrollTop=O>0?O:0,b.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});yN.displayName=wm;var bN="SelectGroup",[_D,CD]=Yr(bN),ED=v.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,c=Rn();return s.jsx(_D,{scope:r,id:c,children:s.jsx(Ee.div,{role:"group","aria-labelledby":c,...o,ref:a})})});ED.displayName=bN;var jN="SelectLabel",AD=v.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,c=CD(jN,r);return s.jsx(Ee.div,{id:c.id,...o,ref:a})});AD.displayName=jN;var Sc="SelectItem",[TD,wN]=Yr(Sc),NN=v.forwardRef((t,a)=>{const{__scopeSelect:r,value:o,disabled:c=!1,textValue:u,...f}=t,m=ia(Sc,r),p=oa(Sc,r),h=m.value===o,[x,b]=v.useState(u??""),[y,_]=v.useState(!1),C=Ge(a,N=>p.itemRefCallback?.(N,o,c)),j=Rn(),S=v.useRef("touch"),E=()=>{c||(m.onValueChange(o),m.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(TD,{scope:r,value:o,disabled:c,textId:j,isSelected:h,onItemTextChange:v.useCallback(N=>{b(T=>T||(N?.textContent??"").trim())},[]),children:s.jsx(su.ItemSlot,{scope:r,value:o,disabled:c,textValue:x,children:s.jsx(Ee.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:C,onFocus:he(f.onFocus,()=>_(!0)),onBlur:he(f.onBlur,()=>_(!1)),onClick:he(f.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:he(f.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:he(f.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:he(f.onPointerMove,N=>{S.current=N.pointerType,c?p.onItemLeave?.():S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(f.onPointerLeave,N=>{N.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:he(f.onKeyDown,N=>{p.searchRef?.current!==""&&N.key===" "||(mD.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});NN.displayName=Sc;var ao="SelectItemText",SN=v.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:c,...u}=t,f=ia(ao,r),m=oa(ao,r),p=wN(ao,r),h=xD(ao,r),[x,b]=v.useState(null),y=Ge(a,E=>b(E),p.onItemTextChange,E=>m.itemTextRefCallback?.(E,p.value,p.disabled)),_=x?.textContent,C=v.useMemo(()=>s.jsx("option",{value:p.value,disabled:p.disabled,children:_},p.value),[p.disabled,p.value,_]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=h;return jt(()=>(j(C),()=>S(C)),[j,S,C]),s.jsxs(s.Fragment,{children:[s.jsx(Ee.span,{id:p.textId,...u,ref:y}),p.isSelected&&f.valueNode&&!f.valueNodeHasChildren?wo.createPortal(u.children,f.valueNode):null]})});SN.displayName=ao;var _N="SelectItemIndicator",CN=v.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return wN(_N,r).isSelected?s.jsx(Ee.span,{"aria-hidden":!0,...o,ref:a}):null});CN.displayName=_N;var Nm="SelectScrollUpButton",EN=v.forwardRef((t,a)=>{const r=oa(Nm,t.__scopeSelect),o=kh(Nm,t.__scopeSelect),[c,u]=v.useState(!1),f=Ge(a,o.onScrollButtonChange);return jt(()=>{if(r.viewport&&r.isPositioned){let m=function(){const h=p.scrollTop>0;u(h)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),c?s.jsx(TN,{...t,ref:f,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop-p.offsetHeight)}}):null});EN.displayName=Nm;var Sm="SelectScrollDownButton",AN=v.forwardRef((t,a)=>{const r=oa(Sm,t.__scopeSelect),o=kh(Sm,t.__scopeSelect),[c,u]=v.useState(!1),f=Ge(a,o.onScrollButtonChange);return jt(()=>{if(r.viewport&&r.isPositioned){let m=function(){const h=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<h;u(x)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),c?s.jsx(TN,{...t,ref:f,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop+p.offsetHeight)}}):null});AN.displayName=Sm;var TN=v.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:o,...c}=t,u=oa("SelectScrollButton",r),f=v.useRef(null),m=au(r),p=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>p(),[p]),jt(()=>{m().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),s.jsx(Ee.div,{"aria-hidden":!0,...c,ref:a,style:{flexShrink:0,...c.style},onPointerDown:he(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(o,50))}),onPointerMove:he(c.onPointerMove,()=>{u.onItemLeave?.(),f.current===null&&(f.current=window.setInterval(o,50))}),onPointerLeave:he(c.onPointerLeave,()=>{p()})})}),RD="SelectSeparator",kD=v.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return s.jsx(Ee.div,{"aria-hidden":!0,...o,ref:a})});kD.displayName=RD;var _m="SelectArrow",MD=v.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,c=ru(r),u=ia(_m,r),f=oa(_m,r);return u.open&&f.position==="popper"?s.jsx(rh,{...c,...o,ref:a}):null});MD.displayName=_m;var OD="SelectBubbleInput",RN=v.forwardRef(({__scopeSelect:t,value:a,...r},o)=>{const c=v.useRef(null),u=Ge(o,c),f=dD(a);return v.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(f!==a&&x){const b=new Event("change",{bubbles:!0});x.call(m,a),m.dispatchEvent(b)}},[f,a]),s.jsx(Ee.select,{...r,style:{...aj,...r.style},ref:u,defaultValue:a})});RN.displayName=OD;function kN(t){return t===""||t===void 0}function MN(t){const a=On(t),r=v.useRef(""),o=v.useRef(0),c=v.useCallback(f=>{const m=r.current+f;a(m),(function p(h){r.current=h,window.clearTimeout(o.current),h!==""&&(o.current=window.setTimeout(()=>p(""),1e3))})(m)},[a]),u=v.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,c,u]}function ON(t,a,r){const c=a.length>1&&Array.from(a).every(h=>h===a[0])?a[0]:a,u=r?t.indexOf(r):-1;let f=DD(t,Math.max(u,0));c.length===1&&(f=f.filter(h=>h!==r));const p=f.find(h=>h.textValue.toLowerCase().startsWith(c.toLowerCase()));return p!==r?p:void 0}function DD(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var zD=lN,LD=uN,PD=fN,UD=mN,BD=hN,HD=pN,$D=yN,FD=NN,qD=SN,ID=CN,VD=EN,GD=AN;function _c({...t}){return s.jsx(zD,{"data-slot":"select",...t})}function Cc({...t}){return s.jsx(PD,{"data-slot":"select-value",...t})}function Ec({className:t,size:a="default",children:r,...o}){return s.jsxs(LD,{"data-slot":"select-trigger","data-size":a,className:ge("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[r,s.jsx(UD,{asChild:!0,children:s.jsx(qb,{className:"size-4 opacity-50"})})]})}function Ac({className:t,children:a,position:r="popper",...o}){return s.jsx(BD,{children:s.jsxs(HD,{"data-slot":"select-content",className:ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[s.jsx(YD,{}),s.jsx($D,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),s.jsx(KD,{})]})})}function Tn({className:t,children:a,...r}){return s.jsxs(FD,{"data-slot":"select-item",className:ge("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(ID,{children:s.jsx(gC,{className:"size-4"})})}),s.jsx(qD,{children:a})]})}function YD({className:t,...a}){return s.jsx(VD,{"data-slot":"select-scroll-up-button",className:ge("flex cursor-default items-center justify-center py-1",t),...a,children:s.jsx(yC,{className:"size-4"})})}function KD({className:t,...a}){return s.jsx(GD,{"data-slot":"select-scroll-down-button",className:ge("flex cursor-default items-center justify-center py-1",t),...a,children:s.jsx(qb,{className:"size-4"})})}function QD({onContinueCourse:t}){const{user:a}=es(),[r,o]=v.useState(""),[c,u]=v.useState("all"),[f,m]=v.useState("all"),[p,h]=v.useState("browse"),[x,b]=v.useState([]),[y,_]=v.useState([]),[,C]=v.useState(!1),j=v.useCallback(R=>{const P=L=>{const U=R[L];return typeof U=="string"?U:void 0},B=L=>{const U=R[L];return typeof U=="number"?U:void 0},K=R.id??R.course_id,ne=typeof K=="string"||typeof K=="number"?String(K):"",te=R.level,Y=typeof te=="string"&&(te==="beginner"||te==="intermediate"||te==="advanced")?te:"beginner",D=R.tokens??R.token_cost??R.price_tokens,X=typeof D=="number"?D:0,se=R.progress_percent??R.progress,ae=typeof se=="number"?se:void 0,k=L=>{const U=R[L];if(typeof U=="number")return U;if(typeof U=="string"){const Z=parseFloat(U.replace(",","."));return Number.isFinite(Z)?Z:void 0}if(typeof U=="object"&&U!==null){const Z=U.price??U.value??U.amount;if(typeof Z=="number")return Z;if(typeof Z=="string"){const re=parseFloat(Z.replace(",","."));return Number.isFinite(re)?re:void 0}}},$=k("price")??k("price_eur")??k("student_pay_eur")??k("price_amount")??k("price_amount_eur");return{id:ne,title:P("title")??P("name")??"",description:P("description")??"",instructor:P("instructor")??P("instructor_name")??"",instructorAvatar:P("instructor_avatar")??P("instructorAvatar")??"",thumbnail:P("cover_url")??P("cover_image")??P("thumbnail")??"",level:Y,duration:P("duration")??`${B("lessons_count")??B("lessons")??0} lessons`,lessons:B("lessons_count")??B("lessons")??0,students:B("students_count")??B("students")??0,rating:B("rating")??0,reviews:B("reviews")??0,price:typeof $=="number"?$:0,tokens:X,category:P("category")??P("category_name")??"",tags:Array.isArray(R.tags)?R.tags:[],enrolled:!!(R.enrolled||R.is_enrolled||ae!==void 0),progress:ae,featured:!!R.featured}},[]);v.useEffect(()=>{let R=!0;return(async()=>{C(!0);try{const P=await Fk({page:1,page_size:100});if(!R)return;if(P.ok){const K=P.data.map(j);b(K)}const B=await vj(1,100);if(!R)return;if(B.ok){const K=B.data.items.map(j).map(ne=>({...ne,enrolled:!0}));_(K),b(ne=>{const te=new Map(ne.map(Y=>[Y.id,Y]));return K.forEach(Y=>te.set(Y.id,{...te.get(Y.id)??Y,enrolled:!0,progress:Y.progress})),Array.from(te.values())})}}catch(P){console.debug("Error loading courses:",P)}finally{C(!1)}})(),()=>{R=!1}},[j]);const S=x.filter(R=>!R.enrolled),E=x.filter(R=>R.featured),N=[...new Set(x.map(R=>R.category))],T=S.filter(R=>{const P=R.title.toLowerCase().includes(r.toLowerCase())||R.description.toLowerCase().includes(r.toLowerCase())||R.instructor.toLowerCase().includes(r.toLowerCase()),B=c==="all"||R.level===c,K=f==="all"||R.category===f;return P&&B&&K}),O=$t(),M=R=>{const P=x.find(B=>B.id===R);if(P){if(!a){mt.error("You must be logged in to enroll in a course");return}if(P.enrolled){O(`/learn/${R}`);return}O(`/courses/${R}/checkout`)}},G=R=>{t?t(R):O(`/learn/${R}`)},I=({level:R})=>{const P={beginner:"bg-green-100 text-green-800",intermediate:"bg-blue-100 text-blue-800",advanced:"bg-purple-100 text-purple-800"};return s.jsx(be,{variant:"secondary",className:P[R],children:R})},q=({course:R,showProgress:P=!1,showPrice:B=!0})=>s.jsxs(fe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{src:R.thumbnail,alt:R.title,className:"w-full h-48 object-cover",showPlaceholder:!0}),!R.enrolled&&B&&typeof R.price=="number"&&R.price>0&&s.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-black/80 px-2 py-1 rounded-md text-sm font-semibold",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(R.price)}),R.featured&&s.jsxs(be,{className:"absolute top-3 left-3 bg-yellow-500",children:[s.jsx(Fb,{className:"size-3 mr-1"}),"Featured"]}),s.jsx(I,{level:R.level})]}),s.jsxs(me,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium line-clamp-2",children:R.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:R.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{src:R.instructorAvatar,alt:R.instructor,className:"size-6 rounded-full"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:R.instructor})]}),P&&R.progress!==void 0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Progress"}),s.jsxs("span",{className:"text-sm",children:[R.progress,"%"]})]}),s.jsx(Wn,{value:R.progress,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mn,{className:"size-3"}),s.jsx("span",{children:R.lessons})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(lo,{className:"size-3"}),s.jsx("span",{children:R.duration})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"size-3"}),s.jsx("span",{children:R.students})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"size-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{children:R.rating}),s.jsxs("span",{children:["(",R.reviews,")"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[!R.enrolled&&B&&typeof R.price=="number"&&R.price>0&&s.jsx("div",{className:"text-sm font-semibold",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(R.price)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(be,{variant:"outline",className:"bg-purple-50 border-purple-200 text-purple-800",children:[R.tokens," ✨"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"tokens"})]})]}),R.enrolled?s.jsxs(ye,{size:"sm",onClick:()=>G(R.id),children:[s.jsx(em,{className:"size-3 mr-1"}),"Continue"]}):s.jsx(ye,{size:"sm",onClick:()=>M(R.id),disabled:(a?.tokens||0)<R.tokens,children:(a?.tokens||0)<R.tokens?s.jsxs(s.Fragment,{children:[s.jsx(Jf,{className:"size-3 mr-1"}),"Need ",R.tokens-(a?.tokens||0)," more ✨"]}):s.jsx(s.Fragment,{children:"Enroll"})})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:R.tags.slice(0,3).map((K,ne)=>s.jsx(be,{variant:"outline",className:"text-xs",children:K},ne))})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Learning Paths"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover courses and advance your artistic skills"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(be,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[a?.tokens||0," ✨ Available"]})})]}),s.jsxs(sa,{value:p,onValueChange:h,className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"browse",children:"Browse Courses"}),s.jsxs(Je,{value:"enrolled",children:["My Courses (",y.length,")"]}),s.jsx(Je,{value:"featured",children:"Featured"})]}),s.jsxs(nt,{value:"browse",className:"space-y-4",children:[s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(eE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(Lt,{placeholder:"Search courses, instructors, or topics...",value:r,onChange:R=>o(R.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(_c,{value:c,onValueChange:u,children:[s.jsx(Ec,{className:"w-40",children:s.jsx(Cc,{placeholder:"Level"})}),s.jsxs(Ac,{children:[s.jsx(Tn,{value:"all",children:"All Levels"}),s.jsx(Tn,{value:"beginner",children:"Beginner"}),s.jsx(Tn,{value:"intermediate",children:"Intermediate"}),s.jsx(Tn,{value:"advanced",children:"Advanced"})]})]}),s.jsxs(_c,{value:f,onValueChange:m,children:[s.jsx(Ec,{className:"w-40",children:s.jsx(Cc,{placeholder:"Category"})}),s.jsxs(Ac,{children:[s.jsx(Tn,{value:"all",children:"All Categories"}),N.map(R=>s.jsx(Tn,{value:R,children:R},R))]})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(R=>s.jsx(q,{course:R},R.id))}),T.length===0&&s.jsx(fe,{children:s.jsxs(me,{className:"p-8 text-center",children:[s.jsx(Mn,{className:"size-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),s.jsx(ye,{variant:"outline",onClick:()=>{o(""),u("all"),m("all")},children:"Clear Filters"})]})})]}),s.jsx(nt,{value:"enrolled",className:"space-y-4",children:y.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(R=>s.jsx(q,{course:R,showProgress:!0,showPrice:!1},R.id))}):s.jsx(fe,{children:s.jsxs(me,{className:"p-8 text-center",children:[s.jsx(uo,{className:"size-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No enrolled courses yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your learning journey by enrolling in a course"}),s.jsx(ye,{onClick:()=>h("browse"),children:"Browse Courses"})]})})}),s.jsxs(nt,{value:"featured",className:"space-y-4",children:[s.jsx(fe,{children:s.jsx(me,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Pensati per te"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"In arrivo — mostreremo suggerimenti personalizzati in base ai tuoi corsi"})]})})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(R=>s.jsx(q,{course:R,showProgress:R.enrolled},R.id))})]})]})]})}function XD(){const t=$t();return s.jsx("div",{children:s.jsx(QD,{onContinueCourse:a=>{t(`/learn/${a}`)}})})}function WD({item:t,onMarkRead:a}){const r=!!t.is_read,o=t.created_at?new Date(t.created_at):null;return s.jsxs("div",{className:"flex items-start gap-3 rounded-md border p-4",children:[s.jsx("div",{className:"mt-1",children:s.jsx(be,{variant:r?"muted":"default",className:"h-2 w-2 p-0"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("h3",{className:"font-medium",children:t.title}),o&&s.jsx("time",{className:"text-xs text-muted-foreground",dateTime:o.toISOString(),children:o.toLocaleString()})]}),t.message&&s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:t.message}),t.notification_type==="teocoin_discount_pending"&&t.offered_teacher_teo&&s.jsxs("p",{className:"mt-1 text-sm",children:["TEO offerti: ",s.jsx("span",{className:"font-mono",children:t.offered_teacher_teo})]}),!r&&a&&s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>a(t.id),className:"inline-flex h-8 items-center rounded-md border px-2 text-xs hover:bg-accent",children:"Segna come letta"})})]})]})}const yo={listPending:async()=>{const t=await xe.get("/discounts/pending/");if(!t.ok)throw t.error||new Error("Failed to fetch");return t.data},acceptDecision:async t=>{const a=await xe.post(`/discounts/${t}/accept/`,null);if(!a.ok)throw a.error||new Error("Failed to accept");return a.data},declineDecision:async t=>{const a=await xe.post(`/discounts/${t}/decline/`,null);if(!a.ok)throw a.error||new Error("Failed to decline");return a.data}};async function Cm(){try{return await xe.get("/v1/rewards/discounts/pending/")}catch{return{ok:!1,status:0,data:null}}}async function ZD(t){try{return await xe.post("/v1/rewards/discounts/backfill/",{snapshot_ids:t})}catch{return{ok:!1,status:0,data:null}}}function JD({decisionId:t,onClose:a,onDecided:r}){const[o,c]=H.useState(!1),[u,f]=H.useState(null),[m,p]=H.useState(null),[h,x]=H.useState(null),b=H.useCallback(async()=>{if(!t&&t!==0)return;c(!0),f(null);const S=await Ay(t);if(c(!1),!S.ok){if(S.status===404)try{if(c(!0),!(await ZD([t])).ok){f("Impossibile ricreare la decisione dal snapshot."),p(null),c(!1);return}const T=await Cm();if(c(!1),!T.ok||!Array.isArray(T.data)){f("Ripristino completato ma impossibile recuperare gli snapshot in attesa."),p(null);return}const O=T.data.find(G=>{try{const q=G.id;return Number(q)===Number(t)}catch{return!1}}),M=O?O.pending_decision_id:void 0;if(M&&Number(M)>0){c(!0);const G=await Ay(Number(M));if(c(!1),G.ok){p(G.data??null);return}f("Ripristino riuscito ma impossibile caricare la decisione creata."),p(null);return}f("Ripristino eseguito ma non è stata trovata alcuna decisione associata allo snapshot."),p(null);return}catch(N){console.warn("backfill error",N),f("Errore durante il ripristino della decisione dal snapshot."),p(null),c(!1);return}p(null);return}const E=S.data??null;p(E);try{const N=E&&String(E.decision??"").toLowerCase().trim()==="pending",T=E&&(E.offered_teacher_teo===null||typeof E.offered_teacher_teo>"u");if(N&&T){const O=await Cm();if(O&&O.ok&&Array.isArray(O.data)){const M=O.data.find(G=>{try{const q=G.pending_decision_id;return Number(q)===Number(t)}catch{return!1}});M&&M.offered_teacher_teo&&p(G=>G&&{...G,offered_teacher_teo:String(M.offered_teacher_teo)})}}}catch(N){console.debug("pending snapshots fallback failed",N)}},[t]);H.useEffect(()=>{b()},[b]);const y=H.useMemo(()=>{if(!m)return null;const S=String(m.decision??"").toLowerCase().trim();return S==="pending"?m.offered_teacher_teo??m.teo_cost_display??null:S==="accepted"?m.final_teacher_teo??null:null},[m]),_=m?String(m.decision??"").toLowerCase().trim():"",C=!m||_!=="pending"||!!m.is_expired;async function j(S){if(!t&&t!==0)return;x(S);let E={ok:!1};try{S==="accept"?E={ok:!0,status:200,data:await yo.acceptDecision(t)}:E={ok:!0,status:200,data:await yo.declineDecision(t)}}catch(N){const T=N,O=T&&typeof T.status=="number"?T.status:500,M=T&&(T.error??T.message)?String(T.error??T.message):String(N);E={ok:!1,status:O,error:M}}if(x(null),!E.ok){const N=E.error,T=N?.error||N?.detail||`Operazione fallita (${E.status})`;try{Iv({variant:"error",message:String(T)})}catch(O){console.debug("toast error",O)}await b();return}try{Iv({variant:"success",message:S==="accept"?"Richiesta accettata":"Richiesta rifiutata"})}catch(N){console.debug("toast error",N)}await b();try{window.dispatchEvent(new CustomEvent("notifications:updated"))}catch(N){console.debug("dispatch error",N)}try{window.dispatchEvent(new CustomEvent("wallet:updated"))}catch(N){console.debug("dispatch error",N)}r&&r(S==="accept"?"accepted":"declined"),a&&a()}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("header",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Decisione sconto TeoCoin"}),t!=null&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Decision ID: ",t]})]}),o&&s.jsx("p",{className:"text-sm",children:"Caricamento…"}),u&&s.jsx("div",{className:"rounded border border-red-300 bg-red-50 p-2 text-sm text-red-700",children:u}),m&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Corso"}),s.jsx("div",{className:"font-medium",children:m.course_title??"—"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Studente"}),s.jsx("div",{className:"font-medium",children:m.student_email??"—"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Prezzo"}),s.jsxs("div",{className:"font-mono",children:["€ ",String(m.course_price??"—")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Sconto"}),s.jsxs("div",{className:"font-mono",children:[String(m.discount_percentage??"—"),"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Commissione teacher"}),s.jsxs("div",{className:"font-mono",children:[String(m.teacher_commission_rate??"—"),"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Tier staking"}),s.jsx("div",{className:"font-mono",children:String(m.teacher_staking_tier??"—")})]})]}),s.jsxs("div",{className:"mt-2 rounded-md border p-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"TEO offerti"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Student + bonus teacher"}),s.jsx("div",{className:"font-mono",children:y!=null?`${String(y)} TEO`:"—"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"rounded-md border p-2",children:[s.jsx("div",{className:"font-medium",children:"Se accetti"}),s.jsxs("div",{children:["Fiat: € ",String(m?.teacher_earnings_if_accepted?.fiat??"—")]}),s.jsxs("div",{children:["TEO: ",y!=null?String(y):String(m?.teacher_earnings_if_accepted?.teo??"—")]})]}),s.jsxs("div",{className:"rounded-md border p-2",children:[s.jsx("div",{className:"font-medium",children:"Se rifiuti"}),s.jsxs("div",{children:["Fiat: € ",String(m?.teacher_earnings_if_declined?.fiat??"—")]}),s.jsxs("div",{children:["TEO: ",String(m?.teacher_earnings_if_declined?.teo??"—")]})]})]}),m.decision!=="pending"&&s.jsxs("div",{className:"rounded border bg-muted p-2 text-sm",children:["Decisione attuale: ",s.jsx("span",{className:"font-medium",children:String(m.decision)})]}),m.is_expired&&s.jsx("div",{className:"rounded border border-yellow-300 bg-yellow-50 p-2 text-sm text-yellow-900",children:"Scaduta. Non puoi più decidere."})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>a?a():void 0,className:"inline-flex h-9 items-center rounded-md border px-3 text-sm hover:bg-accent",children:"Chiudi"}),s.jsx("button",{onClick:()=>void j("decline"),disabled:C||h!==null,className:"inline-flex h-9 items-center rounded-md bg-red-600 px-3 text-sm text-white hover:opacity-90 disabled:opacity-50",title:C?"Non disponibile":void 0,children:h==="decline"?"Rifiuto…":"Rifiuta"}),s.jsx("button",{onClick:()=>void j("accept"),disabled:C||h!==null,className:"inline-flex h-9 items-center rounded-md bg-green-600 px-3 text-sm text-white hover:opacity-90 disabled:opacity-50",title:C?"Non disponibile":void 0,children:h==="accept"?"Accetto…":"Accetta"})]})]})}function e5({page:t,count:a,pageSize:r=10,onPageChange:o,className:c}){const u=typeof a=="number"&&a>=0?Math.max(1,Math.ceil(a/r)):1,f=t>1,m=t<u;return s.jsxs("div",{className:`flex items-center justify-between gap-2 ${c??""}`,children:[s.jsx("button",{disabled:!f,onClick:()=>o(t-1),className:"inline-flex h-9 items-center rounded-md border px-3 hover:bg-accent disabled:opacity-50",children:"← Precedente"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Pagina ",s.jsx("span",{className:"font-medium",children:t}),typeof a=="number"?s.jsxs(s.Fragment,{children:[" di ",s.jsx("span",{className:"font-medium",children:u})]}):null]}),s.jsx("button",{disabled:!m,onClick:()=>o(t+1),className:"inline-flex h-9 items-center rounded-md border px-3 hover:bg-accent disabled:opacity-50",children:"Successiva →"})]})}function t5(){const[t,a]=H.useState([]),[r,o]=H.useState(!1),[c,u]=H.useState(null),[f,m]=H.useState(1),[p]=H.useState(10),[h,x]=H.useState(void 0),[b,y]=H.useState(null),_=H.useRef(f);H.useEffect(()=>{_.current=f},[f]);async function C(N=f){o(!0),u(null);const T=await Xk({page:N,page_size:p});if(!T.ok)u(`Impossibile caricare le notifiche (status ${T.status}).`),a([]),x(void 0);else{const O=T.data.map(M=>M&&M.notification_type==="teocoin_discount_pending"&&(M.decision_id===void 0||M.decision_id===null)&&typeof M.related_object_id=="number"?{...M,decision_id:M.related_object_id}:M);console.debug("[Notifications] loaded",{count:O.length,sample:O[0]}),a(O),x(T.count)}o(!1)}H.useEffect(()=>{C(1);const N=()=>C(_.current);return window.addEventListener("notifications:updated",N),()=>{window.removeEventListener("notifications:updated",N)}},[]);async function j(N){const T=await Wk(N);T.ok?(Hf(),await C(f)):console.warn("mark read failed",T.status,T.error)}async function S(){const N=await Zk();N.ok?(Hf(),await C(f)):console.warn("mark all failed",N.status,N.error)}function E(N){const T=Math.max(1,N);m(T),C(T)}return s.jsxs("section",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Notifiche"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>C(f),className:"inline-flex h-9 items-center rounded-md border px-3 hover:bg-accent",disabled:r,children:r?"Aggiorno...":"Ricarica"}),s.jsx("button",{onClick:S,className:"inline-flex h-9 items-center rounded-md bg-primary px-3 text-primary-foreground hover:opacity-90",disabled:r||t.length===0,children:"Segna tutte come lette"})]})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),r&&!t.length&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(wt,{}),s.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Caricamento in corso…"})]}),!r&&t.length===0&&!c&&s.jsx(ra,{title:"Nessuna notifica",description:"Non hai ancora ricevuto notifiche."}),s.jsx("div",{className:"space-y-3",children:t.map(N=>s.jsxs("div",{children:[s.jsx(WD,{item:N,onMarkRead:j}),N.notification_type==="teocoin_discount_pending"&&(N.decision_id||N.related_object_id)&&s.jsx("div",{className:"mt-2 flex items-center gap-2",children:s.jsx("button",{onClick:()=>{const T=N.decision_id??N.related_object_id??null;T&&y(Number(T))},className:"inline-flex h-8 items-center rounded-md border px-2 text-xs hover:bg-accent",children:"Apri decisione"})})]},N.id))}),s.jsx(e5,{page:f,count:h,pageSize:p,onPageChange:E,className:"pt-4"}),b!=null&&s.jsx("div",{className:"mt-4",children:s.jsx(JD,{decisionId:b,onClose:()=>y(null),onDecided:async()=>{y(null),Hf(),await C(f)}})})]})}function ub({defaultTab:t="login"}){const{login:a,signup:r}=es(),[o,c]=v.useState(!1),[u,f]=v.useState(""),[m,p]=v.useState({email:"",password:""}),[h,x]=v.useState({name:"",email:"",password:"",confirmPassword:"",role:"student"}),b=async _=>{_.preventDefault(),c(!0),f(""),await a(m.email,m.password)||f("Invalid email or password"),c(!1)},y=async _=>{if(_.preventDefault(),c(!0),f(""),h.name&&h.name.length>20){f("Name must be 20 characters or less"),c(!1);return}if(h.password!==h.confirmPassword){f("Passwords don't match"),c(!1);return}await r(h.name,h.email,h.password,h.role)||f("Failed to create account"),c(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"size-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:s.jsx(mc,{className:"size-6 text-white"})})}),s.jsx("h1",{className:"text-3xl font-medium",children:"ArtLearn"}),s.jsx("p",{className:"text-muted-foreground",children:"Community-focused art education platform"})]}),s.jsxs(sa,{defaultValue:t,className:"space-y-4",children:[s.jsxs(aa,{className:"grid w-full grid-cols-2",children:[s.jsx(Je,{value:"login",children:"Login"}),s.jsx(Je,{value:"signup",children:"Sign Up"})]}),s.jsx(nt,{value:"login",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Welcome Back"}),s.jsx(Ve,{children:"Sign in to continue your artistic journey"})]}),s.jsxs(me,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"login-email",children:"Email"}),s.jsx(Lt,{id:"login-email",type:"email",placeholder:"Enter your email",value:m.email,onChange:_=>p({...m,email:_.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"login-password",children:"Password"}),s.jsx(Lt,{id:"login-password",type:"password",placeholder:"Enter your password",value:m.password,onChange:_=>p({...m,password:_.target.value}),required:!0})]}),u&&s.jsx("p",{id:"auth-form-error",className:"text-sm text-destructive",children:u}),s.jsx(ye,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Demo accounts:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"size-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Student: maya@example.com"})]}),s.jsx(be,{variant:"outline",children:"247 ✨"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"size-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Teacher: sarah@example.com"})]}),s.jsx(be,{variant:"outline",children:"1250 ✨"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Password: any text"})]})]})]})}),s.jsx(nt,{value:"signup",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Join ArtLearn"}),s.jsx(Ve,{children:"Create your account and start learning"})]}),s.jsx(me,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"signup-name",children:"Full Name"}),s.jsx(Lt,{id:"signup-name",placeholder:"Enter your full name",value:h.name,onChange:_=>x({...h,name:_.target.value}),maxLength:20,required:!0}),s.jsx("p",{id:"signup-name-hint",className:"text-xs text-muted-foreground",children:"Max 20 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"signup-email",children:"Email"}),s.jsx(Lt,{id:"signup-email",type:"email",placeholder:"Enter your email",value:h.email,onChange:_=>x({...h,email:_.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"signup-role",children:"I want to"}),s.jsxs(_c,{value:h.role,onValueChange:_=>x({...h,role:_}),children:[s.jsx(Ec,{children:s.jsx(Cc,{})}),s.jsxs(Ac,{children:[s.jsx(Tn,{value:"student",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"size-4"}),"Learn art (Student)"]})}),s.jsx(Tn,{value:"teacher",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"size-4"}),"Teach art (Teacher)"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"signup-password",children:"Password"}),s.jsx(Lt,{id:"signup-password",type:"password",placeholder:"Create a password",value:h.password,onChange:_=>x({...h,password:_.target.value}),required:!0,hintId:"signup-password-hint"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),s.jsx(Lt,{id:"signup-confirm-password",type:"password",placeholder:"Confirm your password",value:h.confirmPassword,onChange:_=>x({...h,confirmPassword:_.target.value}),required:!0,hintId:"signup-confirm-password-hint"})]}),u&&s.jsx("p",{id:"auth-form-error",className:"text-sm text-destructive",children:u}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Lc,{className:"size-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Welcome Bonus"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.role==="teacher"?"Teachers start with 500 ✨ Creator Tokens":"Students start with 50 ✨ Creator Tokens"})]}),s.jsx(ye,{type:"submit",className:"w-full",disabled:o,children:o?"Creating account...":"Create Account"})]})})]})})]})]})})}v.forwardRef(function({className:a,invalid:r,success:o,hintId:c,...u},f){const m=r?"border-destructive focus:border-destructive focus:ring-destructive aria-invalid:text-foreground":o?"border-accent focus:border-accent focus:ring-accent":"border-border",p=u.disabled?"bg-input-background/60 text-muted-foreground border-border/60 pointer-events-none cursor-not-allowed":"text-foreground";return s.jsx(Lt,{ref:f,"aria-invalid":r?!0:void 0,"aria-describedby":c,className:ge("focus-ring rounded-lg bg-input-background placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground transition-[color,box-shadow]",m,p,a),...u})});const n5=v.forwardRef(({className:t,invalid:a,success:r,hint:o,hintId:c,...u},f)=>{const m=a?"border-destructive focus:border-destructive focus:ring-destructive":r?"border-accent focus:border-accent focus:ring-accent":"border-border",p=u.disabled?"bg-input-background/60 text-muted-foreground border-border/60 pointer-events-none cursor-not-allowed":"text-foreground";return s.jsxs("div",{className:"space-y-1",children:[s.jsx("textarea",{ref:f,"aria-invalid":a?!0:void 0,"aria-describedby":o?c:void 0,className:js("w-full min-h-[90px] rounded-lg bg-input-background px-3 py-2 text-sm outline-none transition",m,p,"focus-ring",t),...u}),o?s.jsx("p",{id:c,className:js("text-xs mt-1",a?"text-destructive-foreground":"text-muted-foreground"),children:o}):null]})});n5.displayName="Textarea";const Em=v.forwardRef(function({className:a,...r},o){return s.jsx(fe,{ref:o,className:ge("bg-card text-card-foreground rounded-lg border border-border shadow-card",a),...r})});Em.displayName="Card";const s5=v.forwardRef(({className:t,label:a,disabled:r,...o},c)=>s.jsxs("label",{className:js("inline-flex items-center gap-2",r&&"opacity-60"),children:[s.jsxs("span",{className:js("relative inline-flex h-5 w-5 items-center justify-center rounded-md border transition","bg-background text-background","focus-within:ring-2 focus-within:ring-ring/50","border-border"),children:[s.jsx("input",{ref:c,type:"checkbox",className:"peer absolute inset-0 cursor-pointer opacity-0",disabled:r,...o}),s.jsx("span",{className:js("pointer-events-none inline-block h-3 w-3 scale-0 rounded-sm bg-primary transition-transform","peer-checked:scale-100")})]}),a&&s.jsx("span",{className:js("text-sm",t),children:a})]}));s5.displayName="Checkbox";v.createContext(null);v.createContext(null);v.createContext(null);const DN=v.forwardRef(function({className:a,...r},o){return s.jsx(ye,{ref:o,className:ge("focus-visible:ring-ring/50 focus-visible:ring-2",a),...r})}),a5=v.forwardRef(function({required:a,children:r,...o},c){return s.jsxs(Ze,{ref:c,...o,children:[r,a?s.jsx("span",{className:"ml-1 text-destructive",children:"*"}):null]})});a5.displayName="Label";function r5(){const{uid:t,token:a}=Jn(),[r,o]=H.useState("loading"),[c,u]=H.useState("");return H.useEffect(()=>{(async()=>{if(!t||!a){o("error"),u("Parametri mancanti");return}const f=await xe.get(`/v1/verify-email/${t}/${a}/`);if(f.ok)o("ok");else{o("error");const m=f.data;u(m?.detail||String(f.error)||`HTTP ${f.status}`)}})()},[t,a]),r==="loading"?s.jsx("div",{className:"min-h-screen bg-background text-foreground grid place-items-center p-6",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Verifica in corso…"})}):r==="ok"?s.jsx("div",{className:"min-h-screen bg-background text-foreground grid place-items-center p-6",children:s.jsxs(Em,{className:"w-full max-w-md space-y-3 p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Email verificata ✅"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Il tuo account è attivo. Ora puoi accedere."}),s.jsx(lt,{to:"/login",children:s.jsx(DN,{variant:"default",children:"Vai al Login"})})]})}):s.jsx("div",{className:"min-h-screen bg-background text-foreground grid place-items-center p-6",children:s.jsxs(Em,{className:"w-full max-w-md space-y-3 p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Verifica non riuscita"}),s.jsxs("p",{id:"verify-email-detail",className:"text-sm text-destructive-foreground",children:["Dettagli: ",c]}),s.jsxs("div",{className:"text-sm",children:["Torna al ",s.jsx(lt,{to:"/login",className:"underline",children:"Login"})]})]})})}function i5(){return s.jsx("div",{className:"min-h-screen bg-background text-foreground grid place-items-center p-6",children:s.jsxs("div",{className:"w-full max-w-md space-y-3 p-6 rounded-lg border border-border bg-card text-card-foreground",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Verifica email inviata"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ti abbiamo inviato una email con il link di verifica. Aprila per attivare l’account."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Non la trovi? Controlla nello spam o riprova più tardi."}),s.jsxs("div",{className:"text-sm",children:["Torna al ",s.jsx(lt,{to:"/login",className:"underline",children:"Login"})]})]})})}function o5(){return s.jsxs("div",{className:"mx-auto max-w-xl px-6 py-16 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Permesso negato"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Non hai i permessi per accedere a questa pagina."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(lt,{to:"/",className:"inline-flex h-10 items-center justify-center rounded-md border px-4 hover:bg-accent",children:"Torna alla Home"}),s.jsx(lt,{to:"/login",className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 text-primary-foreground hover:opacity-90",children:"Vai al Login"})]})]})}function l5(){const{user:t}=es(),[a,r]=v.useState(!1),[o,c]=v.useState({name:t?.name||"",bio:"",location:"",website:"",skills:["Digital Art","Character Design","Color Theory"]}),u={coursesCompleted:8,reviewsGiven:24,communityRank:42,joinDate:"January 2024"},f=[{id:"1",title:"Forest Landscape Study",course:"Digital Painting Fundamentals",rating:4.8,reviews:12,image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=300&fit=crop",date:"2 days ago"},{id:"2",title:"Character Portrait",course:"Character Design Workshop",rating:4.5,reviews:8,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop",date:"1 week ago"},{id:"3",title:"Color Harmony Exercise",course:"Advanced Color Theory",rating:4.9,reviews:15,image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=300&h=300&fit=crop",date:"2 weeks ago"}],m=[{name:"First Steps",description:"Completed first lesson",icon:"🎯",earned:!0},{name:"Peer Helper",description:"Gave 10 helpful reviews",icon:"🤝",earned:!0},{name:"Art Explorer",description:"Tried 3 different art styles",icon:"🎨",earned:!0},{name:"Community Star",description:"Earned 100+ tokens from peers",icon:"⭐",earned:!1},{name:"Master Critic",description:"Gave 50 peer reviews",icon:"👁️",earned:!1},{name:"Course Champion",description:"Completed 10 courses",icon:"🏆",earned:!1}],p=[{id:"1",title:"Advanced Digital Painting",progress:65,instructor:"Prof. Sarah Mitchell",nextLesson:"Light and Shadow Techniques"},{id:"2",title:"Portfolio Development",progress:30,instructor:"Maya Rodriguez",nextLesson:"Curating Your Best Work"}],h=()=>{r(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your profile and track your artistic journey"})]}),s.jsx(ye,{variant:a?"outline":"default",onClick:()=>a?h():r(!0),children:a?s.jsxs(s.Fragment,{children:[s.jsx(ZC,{className:"size-4 mr-2"}),"Save Changes"]}):s.jsxs(s.Fragment,{children:[s.jsx(tm,{className:"size-4 mr-2"}),"Edit Profile"]})})]}),s.jsx(fe,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsxs(ys,{className:"size-24 mb-4",children:[s.jsx(Qc,{src:t?.avatar,alt:t?.name}),s.jsx(bs,{className:"text-xl",children:t?.name?.charAt(0)||"U"})]}),s.jsx(be,{variant:"outline",className:"capitalize",children:t?.role})]}),s.jsx("div",{className:"flex-1 space-y-4",children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"name",children:"Name"}),s.jsx(Lt,{id:"name",value:o.name,onChange:x=>c({...o,name:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"bio",children:"Bio"}),s.jsx(Qn,{id:"bio",placeholder:"Tell us about your artistic journey...",value:o.bio,onChange:x=>c({...o,bio:x.target.value}),className:"min-h-20"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"location",children:"Location"}),s.jsx(Lt,{id:"location",placeholder:"City, Country",value:o.location,onChange:x=>c({...o,location:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"website",children:"Website"}),s.jsx(Lt,{id:"website",placeholder:"https://your-portfolio.com",value:o.website,onChange:x=>c({...o,website:x.target.value})})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl",children:t?.name}),s.jsx("p",{className:"text-muted-foreground",children:o.bio||"Passionate digital artist exploring new techniques and styles through community learning."})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hC,{className:"size-4"}),s.jsxs("span",{children:["Joined ",u.joinDate]})]}),o.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($C,{className:"size-4"}),s.jsx("span",{children:o.location})]}),o.website&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(LC,{className:"size-4"}),s.jsx("a",{href:o.website,className:"hover:underline",children:"Portfolio"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((x,b)=>s.jsx(be,{variant:"secondary",children:x},b))})]})})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(fe,{children:s.jsxs(me,{className:"p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center size-12 bg-purple-100 rounded-full mb-2 mx-auto",children:s.jsx(ro,{className:"size-6 text-purple-600"})}),s.jsx("p",{className:"text-2xl font-medium",children:t?.tokens||0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Creator Tokens ✨"})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center size-12 bg-green-100 rounded-full mb-2 mx-auto",children:s.jsx(Mn,{className:"size-6 text-green-600"})}),s.jsx("p",{className:"text-2xl font-medium",children:u.coursesCompleted}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Courses Completed"})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center size-12 bg-blue-100 rounded-full mb-2 mx-auto",children:s.jsx(Pt,{className:"size-6 text-blue-600"})}),s.jsx("p",{className:"text-2xl font-medium",children:u.reviewsGiven}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reviews Given"})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center size-12 bg-amber-100 rounded-full mb-2 mx-auto",children:s.jsx(Aa,{className:"size-6 text-amber-600"})}),s.jsxs("p",{className:"text-2xl font-medium",children:["#",u.communityRank]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Community Rank"})]})})]}),s.jsxs(sa,{defaultValue:"portfolio",className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"portfolio",children:"Portfolio"}),s.jsx(Je,{value:"progress",children:"Learning Progress"}),s.jsx(Je,{value:"achievements",children:"Achievements"}),s.jsx(Je,{value:"activity",children:"Recent Activity"})]}),s.jsx(nt,{value:"portfolio",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"My Artwork"}),s.jsx(Ve,{children:"Submissions from your learning journey"})]}),s.jsx(me,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(x=>s.jsxs(fe,{className:"overflow-hidden",children:[s.jsx("div",{className:"aspect-square",children:s.jsx(Wt,{src:x.image,alt:x.title,className:"w-full h-full object-cover"})}),s.jsxs(me,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-1",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.course}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mt,{className:"size-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm",children:x.rating}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",x.reviews,")"]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:x.date})]})]})]},x.id))})})]})}),s.jsx(nt,{value:"progress",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Current Courses"}),s.jsx(Ve,{children:"Your active learning paths"})]}),s.jsx(me,{className:"space-y-4",children:p.map(x=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:x.title}),s.jsxs(be,{variant:"outline",children:[x.progress,"% Complete"]})]}),s.jsx(Wn,{value:x.progress,className:"mb-3"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Instructor: ",x.instructor]}),s.jsxs("span",{className:"text-muted-foreground",children:["Next: ",x.nextLesson]})]})]},x.id))})]})}),s.jsx(nt,{value:"achievements",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Achievements"}),s.jsx(Ve,{children:"Milestones in your learning journey"})]}),s.jsx(me,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map((x,b)=>s.jsx("div",{className:`p-4 border rounded-lg ${x.earned?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:x.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-medium ${x.earned?"text-green-800":"text-muted-foreground"}`,children:x.name}),s.jsx("p",{className:`text-sm ${x.earned?"text-green-600":"text-muted-foreground"}`,children:x.description})]}),x.earned&&s.jsx(be,{variant:"secondary",className:"ml-auto bg-green-100 text-green-800",children:"Earned"})]})},b))})})]})}),s.jsx(nt,{value:"activity",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Recent Activity"}),s.jsx(Ve,{children:"Your latest interactions and milestones"})]}),s.jsxs(me,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"size-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Completed peer review"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago • Earned 5 ✨"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Mn,{className:"size-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:'Finished lesson: "Light and Shadow"'}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago • Earned 10 ✨"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(mc,{className:"size-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Submitted artwork for review"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'2 days ago • "Forest Landscape Study"'})]})]})]})]})})]})]})}function c5(){return s.jsx("div",{className:"space-y-6",children:s.jsx(l5,{})})}function u5({onContinueCourse:t,onNavigateToPage:a}){const{stats:r,loading:o}=Cj(),c=$t(),u=r?.activeCourses??0,f=r?.pendingReviews??0,m=r?.reviewsGiven??0,p=r?.creatorTokensLabel??"—";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Welcome back, Maya!"}),s.jsx("p",{className:"text-muted-foreground",children:"Continue your artistic journey and connect with the community"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-50 to-pink-50 px-4 py-2 rounded-lg border",children:[s.jsx(Lc,{className:"size-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:o?"—":p})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Mn,{className:"size-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Courses"}),s.jsx("p",{className:"text-xl font-medium whitespace-nowrap h-6 flex items-center",children:o?"—":u})]})]})})}),s.jsx(fe,{className:"border-orange-200 bg-orange-50/50",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-orange-500 rounded-full flex items-center justify-center",children:s.jsx(io,{className:"size-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Reviews"}),s.jsx("p",{className:"text-xl font-medium whitespace-nowrap h-6 flex items-center",children:o?"—":f})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"size-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Community Rank"}),s.jsx("p",{className:"text-xl font-medium truncate max-w-[9rem]",title:"Coming soon",children:"Coming soon"})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ib,{className:"size-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reviews Given"}),s.jsx("p",{className:"text-xl font-medium whitespace-nowrap h-6 flex items-center",children:o?"—":m})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx("h3",{children:"Continue Learning"}),s.jsx("div",{className:"space-y-3",children:o?[1,2].map(h=>s.jsx(fe,{className:"animate-pulse",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"w-20 h-12 bg-muted/30 rounded-md"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-muted/30 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/2 mb-3"}),s.jsx("div",{className:"h-2 bg-muted/20 rounded w-full"})]})]})})},h)):r?.enrolledCourses&&r.enrolledCourses.length>0?r.enrolledCourses.slice(0,4).map(h=>s.jsx(fe,{className:"cursor-pointer hover:shadow-2xl transition-shadow",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Wt,{src:h.thumbnail||"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=80&h=80&fit=crop&crop=center",alt:h.title,className:"size-16 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium line-clamp-2",children:h.title}),h.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:h.description}),s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:(()=>{const x=Number.isFinite(h.lessonsTotal)&&h.lessonsTotal>0?h.lessonsTotal:10,b=Number.isFinite(h.lessonsCompleted)?h.lessonsCompleted:0,y=x>0?Math.round(b/x*100):typeof h.progressPercent=="number"?Math.max(0,Math.min(100,h.progressPercent)):0;return s.jsxs(s.Fragment,{children:[s.jsx(Wn,{value:y,className:"h-2","aria-label":`Progresso corso ${h.title}: ${y}%`}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b,"/",x," lezioni"]})]})})()}),s.jsx(ye,{size:"sm",onClick:()=>{if(t)return t(String(h.id));c(`/learn/${h.id}`)},children:"Continue"})]})]})]})})},h.id)):s.jsxs(s.Fragment,{children:[s.jsx(fe,{className:"cursor-pointer hover:shadow-2xl transition-shadow",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Wt,{src:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=80&h=80&fit=crop&crop=center",alt:"Digital Painting Course",className:"size-16 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{children:"Digital Painting Fundamentals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Master the basics of digital art creation"}),s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Wn,{value:68,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"68% complete"})]}),s.jsx(ye,{size:"sm",onClick:()=>{if(t)return t?.("1");c("/learn/1")},children:"Continue"})]})]})]})})}),s.jsx(fe,{className:"cursor-pointer hover:shadow-2xl transition-shadow",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Wt,{src:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=80&h=80&fit=crop&crop=center",alt:"Character Design Course",className:"size-16 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{children:"Character Design Workshop"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create compelling characters from concept to finish"}),s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Wn,{value:34,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"34% complete"})]}),s.jsx(ye,{size:"sm",onClick:()=>{if(t)return t?.("2");c("/learn/2")},children:"Continue"})]})]})]})})})]})}),s.jsxs(fe,{className:"border-blue-200 bg-blue-50/50",children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx(io,{className:"size-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ue,{className:"text-base",children:"Peer Reviews Available"}),s.jsx(Ve,{children:"Help fellow students and earn Creator Tokens"})]}),s.jsx(be,{className:"bg-blue-100 text-blue-800",children:"+15 ✨ available"})]})}),s.jsx(me,{children:s.jsx(ye,{className:"w-full",onClick:()=>a?.("peer-review"),children:"Review Student Work"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{children:"Community Highlights"}),s.jsxs(fe,{className:"border-amber-200 bg-amber-50/50",children:[s.jsxs(ze,{className:"pb-3",children:[s.jsx(Ue,{className:"text-base",children:"Your Latest Submission"}),s.jsx(Ve,{children:"Color Temperature Study"})]}),s.jsxs(me,{className:"space-y-3",children:[s.jsx(Wt,{src:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=300&h=200&fit=crop&crop=center",alt:"Your color temperature study",className:"w-full h-24 rounded-lg object-cover"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lo,{className:"size-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"2/3 reviews received"})]}),s.jsxs(be,{variant:"outline",className:"bg-amber-100 border-amber-200",children:[s.jsx(co,{className:"size-3 mr-1"}),"Reviewing"]})]})]})]}),s.jsxs(fe,{children:[s.jsxs(ze,{className:"pb-3",children:[s.jsx(Ue,{className:"text-base",children:"Weekly Challenge"}),s.jsx(Ve,{children:"Draw inspiration from nature"})]}),s.jsxs(me,{className:"space-y-3",children:[s.jsx(Wt,{src:"https://images.unsplash.com/photo-1502134249126-9f3755a50d78?w=300&h=200&fit=crop&crop=center",alt:"Nature art challenge",className:"w-full h-32 rounded-lg object-cover"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ys,{className:"size-6",children:[s.jsx(Qc,{src:"https://images.unsplash.com/photo-1494790108755-2616b612b789?w=40&h=40&fit=crop&crop=face"}),s.jsx(bs,{children:"AL"})]}),s.jsx("p",{className:"text-sm",children:"Alex L. earned 15 ✨ for this submission"})]}),s.jsx(ye,{className:"w-full",variant:"outline",children:"Join Challenge"})]})]}),s.jsxs(fe,{children:[s.jsx(ze,{className:"pb-3",children:s.jsx(Ue,{className:"text-base",children:"Recent Achievements"})}),s.jsxs(me,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"size-4 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"First Feedback"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gave helpful critique to a peer"})]}),s.jsx(be,{variant:"secondary",children:"+3 ✨"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ro,{className:"size-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Week Streak"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"7 days of consistent practice"})]}),s.jsx(be,{variant:"secondary",children:"+10 ✨"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(io,{className:"size-4 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Helpful Reviewer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed 5 peer reviews this week"})]}),s.jsx(be,{variant:"secondary",children:"+8 ✨"})]})]})]})]})]})]})}function d5(){const t=$t();return s.jsx("div",{className:"space-y-6",children:s.jsx(u5,{onContinueCourse:a=>t(`/learn/${a}`),onNavigateToPage:a=>t(a.startsWith("/")?a:`/${a}`)})})}function db({...t}){return s.jsx(R0,{"data-slot":"dialog",...t})}function fb({...t}){return s.jsx(NT,{"data-slot":"dialog-trigger",className:ge("focus-ring"),...t})}function f5({...t}){return s.jsx(k0,{"data-slot":"dialog-portal",...t})}function m5({className:t,...a}){return s.jsx(M0,{"data-slot":"dialog-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function mb({className:t,children:a,...r}){return s.jsxs(f5,{"data-slot":"dialog-portal",children:[s.jsx(m5,{}),s.jsxs(O0,{"data-slot":"dialog-content",className:ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border p-6 shadow-card duration-200 sm:max-w-lg",t),...r,children:[a,s.jsxs(L0,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none focus-ring [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Yb,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hb({className:t,...a}){return s.jsx("div",{"data-slot":"dialog-header",className:ge("flex flex-col gap-2 text-center sm:text-left",t),...a})}function pb({className:t,...a}){return s.jsx(D0,{"data-slot":"dialog-title",className:ge("text-lg leading-none font-semibold",t),...a})}function gb({className:t,...a}){return s.jsx(z0,{"data-slot":"dialog-description",className:ge("text-muted-foreground text-sm",t),...a})}async function h5(t=1,a=10){const r=await xe.get("/v1/dashboard/teacher/",{params:{page:t,page_size:a}});if(!r.ok)return{ok:!1,status:r.status,data:{courses:[],count:0,stats:void 0}};const o=r.data;let c=[],u=0,f;if(o&&typeof o=="object"&&Array.isArray(o.results))c=o.results,u=typeof o.count=="number"?o.count:c.length,f=o.stats??o.metrics;else if(o&&typeof o=="object"&&o.courses!==void 0){const m=o.courses;Array.isArray(m)?(c=m,u=m.length):m&&typeof m=="object"&&Array.isArray(m.results)&&(c=m.results,u=typeof m.count=="number"?m.count:m.results.length),f=o.stats??o.metrics}else if(Array.isArray(o))c=o,u=c.length;else{const m=o?.data??o?.results??[];Array.isArray(m)&&(c=m,u=m.length),f=o?.stats??o?.metrics}return{ok:!0,status:r.status,data:{courses:c,count:u,stats:f}}}function p5({onViewCourse:t}){es();const[a,r]=v.useState("overview"),[o,c]=v.useState(!1),[u,f]=v.useState(!1),[m,p]=v.useState(null),[h,x]=v.useState([]),[b,y]=v.useState(!1),[_,C]=v.useState({title:"",description:"",level:"beginner"}),[j,S]=v.useState({title:"",description:"",exerciseTitle:"",exerciseDescription:"",exerciseInstructions:"",timeEstimate:""}),E=()=>{const B={id:Date.now().toString(),title:_.title,description:_.description,level:_.level,thumbnail:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?w=300&h=200&fit=crop&crop=center",students:0,lessons:0,status:"draft",createdAt:new Date().toISOString().split("T")[0]};x([...h,B]),C({title:"",description:"",level:"beginner"}),c(!1)},N=h.filter(B=>B.status==="published"),T=h.filter(B=>B.status==="draft"),O=h.reduce((B,K)=>B+K.students,0),[M,G]=v.useState(!1),[I,q]=v.useState(null),[R,P]=v.useState(void 0);return v.useEffect(()=>{let B=!0;async function K(){G(!0),q(null);const ne=await h5(1,10);if(B){if(ne.ok){P(ne.data.stats);try{const te=ne.data.courses??[],Y=Array.isArray(te)?te.map(D=>({id:String(D.id),title:D.title??D.name??"Untitled",description:D.description??"",level:D.level??"beginner",thumbnail:D.cover_url??D.cover_image??D.thumbnail??"",students:typeof D.students_count=="number"?D.students_count:D.students??0,lessons:typeof D.lessons_count=="number"?D.lessons_count:D.lessons?.length??0,status:D.published||D.is_approved?"published":"draft",createdAt:D.created_at??D.createdAt??""})):[];x(Y)}catch(te){console.debug("Failed to map teacher courses",te)}}else q(`Unable to load teacher dashboard (HTTP ${ne.status})`);G(!1)}}return K(),()=>{B=!1}},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Teacher Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your courses, lessons, and student progress"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(be,{variant:"outline",className:"bg-purple-50 border-purple-200",children:[s.jsx(uo,{className:"size-3 mr-1"}),"Educator"]}),s.jsxs(db,{open:o,onOpenChange:c,children:[s.jsx(fb,{asChild:!0,children:s.jsxs(ye,{children:[s.jsx(sc,{className:"size-4 mr-2"}),"Create Course"]})}),s.jsxs(mb,{className:"max-w-2xl",children:[s.jsxs(hb,{children:[s.jsx(pb,{children:"Create New Course"}),s.jsx(gb,{children:"Set up a new course with lessons and exercises for your students"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"course-title",children:"Course Title"}),s.jsx(Lt,{id:"course-title",placeholder:"e.g., Digital Painting Fundamentals",value:_.title,onChange:B=>C({..._,title:B.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"course-description",children:"Description"}),s.jsx(Qn,{id:"course-description",placeholder:"Describe what students will learn in this course...",value:_.description,onChange:B=>C({..._,description:B.target.value}),className:"min-h-20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{children:"Difficulty Level"}),s.jsxs(_c,{value:_.level,onValueChange:B=>C({..._,level:B}),children:[s.jsx(Ec,{children:s.jsx(Cc,{})}),s.jsxs(Ac,{children:[s.jsx(Tn,{value:"beginner",children:"Beginner"}),s.jsx(Tn,{value:"intermediate",children:"Intermediate"}),s.jsx(Tn,{value:"advanced",children:"Advanced"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ye,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(ye,{onClick:E,disabled:!_.title,children:"Create Course"})]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Mn,{className:"size-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Courses"}),s.jsx("p",{className:"text-xl font-medium",children:M?"…":R?.total_courses??h.length})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"size-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"}),s.jsx("p",{className:"text-xl font-medium",children:M?"…":R?.total_students??O})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"size-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Published"}),s.jsx("p",{className:"text-xl font-medium",children:M?"…":R?.pending_courses!==void 0?R?.total_courses??N.length:N.length})]})]})})}),s.jsx(fe,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(Xv,{className:"size-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Drafts"}),s.jsx("p",{className:"text-xl font-medium",children:M?"…":R?.pending_courses??T.length})]})]})})})]}),s.jsxs(sa,{value:a,onValueChange:r,className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"overview",children:"Overview"}),s.jsx(Je,{value:"courses",children:"My Courses"}),s.jsx(Je,{value:"students",children:"Students"}),s.jsx(Je,{value:"analytics",children:"Analytics"})]}),s.jsx(nt,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Recent Activity"}),s.jsx(Ve,{children:"Latest updates from your courses"})]}),s.jsxs(me,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"size-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"3 new students enrolled"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital Painting Fundamentals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Hm,{className:"size-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"12 new submissions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Character Design Workshop"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"size-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"size-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"4.8 star rating received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From recent course feedback"})]})]})]})]}),s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Quick Actions"}),s.jsx(Ve,{children:"Common tasks and shortcuts"})]}),s.jsxs(me,{className:"space-y-3",children:[s.jsxs(ye,{variant:"outline",className:"w-full justify-start",children:[s.jsx(sc,{className:"size-4 mr-2"}),"Add lesson to existing course"]}),s.jsxs(ye,{variant:"outline",className:"w-full justify-start",children:[s.jsx(co,{className:"size-4 mr-2"}),"Review pending submissions"]}),s.jsxs(ye,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Pc,{className:"size-4 mr-2"}),"Upload course materials"]}),s.jsxs(ye,{variant:"outline",className:"w-full justify-start",children:[s.jsx(Aa,{className:"size-4 mr-2"}),"Create new exercise"]})]})]})]})}),s.jsx(nt,{value:"courses",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(B=>s.jsxs(fe,{className:B.status==="draft"?"border-amber-200 bg-amber-50/50":"",children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{variant:B.status==="published"?"default":"secondary",children:B.status}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ye,{variant:"ghost",size:"sm",children:s.jsx(Xv,{className:"size-4"})}),s.jsx(ye,{variant:"ghost",size:"sm",children:s.jsx(lE,{className:"size-4"})})]})]})}),s.jsxs(me,{className:"space-y-3",children:[s.jsx(Wt,{src:B.thumbnail,alt:B.title,className:"w-full h-32 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{children:B.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:B.description})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"size-3"}),s.jsx("span",{children:B.students})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mn,{className:"size-3"}),s.jsx("span",{children:B.lessons})]})]}),s.jsx(be,{variant:"outline",className:"capitalize",children:B.level})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ye,{size:"sm",className:"flex-1",onClick:()=>t?.(B.id),children:[s.jsx(co,{className:"size-3 mr-1"}),"View"]}),s.jsxs(db,{open:u,onOpenChange:f,children:[s.jsx(fb,{asChild:!0,children:s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>p(B.id),children:[s.jsx(sc,{className:"size-3 mr-1"}),"Add Lesson"]})}),s.jsxs(mb,{className:"max-w-3xl",children:[s.jsxs(hb,{children:[s.jsx(pb,{children:"Add New Lesson"}),s.jsxs(gb,{children:["Create a lesson with an exercise for ",B.title]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"lesson-title",children:"Lesson Title"}),s.jsx(Lt,{id:"lesson-title",placeholder:"e.g., Understanding Light and Shadow",value:j.title,onChange:K=>S({...j,title:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"time-estimate",children:"Time Estimate"}),s.jsx(Lt,{id:"time-estimate",placeholder:"e.g., 45 minutes",value:j.timeEstimate,onChange:K=>S({...j,timeEstimate:K.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"lesson-description",children:"Lesson Description"}),s.jsx(Qn,{id:"lesson-description",placeholder:"What will students learn in this lesson?",value:j.description,onChange:K=>S({...j,description:K.target.value})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"mb-3",children:"Exercise"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"exercise-title",children:"Exercise Title"}),s.jsx(Lt,{id:"exercise-title",placeholder:"e.g., Create a Light Study",value:j.exerciseTitle,onChange:K=>S({...j,exerciseTitle:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"exercise-description",children:"Exercise Description"}),s.jsx(Qn,{id:"exercise-description",placeholder:"What should students create or practice?",value:j.exerciseDescription,onChange:K=>S({...j,exerciseDescription:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ze,{htmlFor:"exercise-instructions",children:"Detailed Instructions"}),s.jsx(Qn,{id:"exercise-instructions",placeholder:"Step-by-step instructions for completing the exercise...",value:j.exerciseInstructions,onChange:K=>S({...j,exerciseInstructions:K.target.value}),className:"min-h-24"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ye,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(ye,{disabled:!j.title||!j.exerciseTitle,children:"Create Lesson"})]})]})]})]})]})]})]},B.id))})}),s.jsx(nt,{value:"students",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Student Management"}),s.jsx(Ve,{children:"Track student progress and engagement"})]}),s.jsx(me,{children:s.jsx("p",{className:"text-muted-foreground",children:"Student management features coming soon!"})})]})}),s.jsx(nt,{value:"analytics",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Course Analytics"}),s.jsx(Ve,{children:"Insights into course performance and student engagement"})]}),s.jsx(me,{children:s.jsx("p",{className:"text-muted-foreground",children:"Analytics dashboard coming soon!"})})]})})]})]})}function g5(){const t=$t();return s.jsx("div",{className:"space-y-6",children:s.jsx(p5,{onViewCourse:a=>t(`/courses/${a}`)})})}function x5(){const{isAuthenticated:t,isTeacher:a}=zc(),[r,o]=H.useState(null),[c,u]=H.useState(!1),[f,m]=H.useState(""),[p,h]=H.useState(!1),x=H.useCallback(async()=>{u(!0);const S=await _h();u(!1),S.ok&&(console.debug("fetchOverview: response",S),o(S.data??null))},[]);H.useEffect(()=>{t&&a&&x()},[x,t,a]);function b(S){return S===void 0?"-":S.toFixed(8)}function y(S){if(S==null)return;if(typeof S=="object"){if(typeof S.parsedValue=="number"&&Number.isFinite(S.parsedValue))return S.parsedValue;if(typeof S.source=="string"){const N=Number(S.source);if(Number.isFinite(N))return N}if(typeof S.value=="number"&&Number.isFinite(S.value))return S.value;if(typeof S.value=="string"){const N=Number(S.value);if(Number.isFinite(N))return N}return}const E=Number(S);return Number.isFinite(E)?E:void 0}async function _(){if(!f)return Xt({variant:"info",message:"Inserisci un importo"});const S=Number(f);if(!Number.isFinite(S)||S<=0)return Xt({variant:"error",message:"Importo non valido"});if(r?.available_teo!==void 0&&S>r.available_teo)return Xt({variant:"error",message:"Importo maggiore del saldo disponibile"});console.log("doStake called",{amount:S}),h(!0);const E=await g3(f);if(h(!1),console.debug("doStake: api response",E),!E.ok)return Xt({variant:"error",message:`Errore durante lo stake (status ${E.status})`});Xt({variant:"success",message:E.data?.raw?.message??"Stake completato"});try{const N=E.data?.raw??E.data??{},T=y(N.new_staked_balance??N.newStakedBalance??N.new_staked??N.staked_teo??E.data?.staked_teo),O=y(N.new_available_balance??N.newAvailableBalance??N.new_available??N.available_teo??E.data?.available_teo);if(T!==void 0||O!==void 0){o(M=>({...M??{},staked_teo:T??M?.staked_teo,available_teo:O??M?.available_teo}));return}}finally{x()}}async function C(){if(!f)return Xt({variant:"info",message:"Inserisci un importo"});const S=Number(f);if(!Number.isFinite(S)||S<=0)return Xt({variant:"error",message:"Importo non valido"});if(r?.staked_teo!==void 0&&S>r.staked_teo)return Xt({variant:"error",message:"Importo maggiore dello staked"});console.log("doUnstake called",{amount:S}),h(!0);const E=await x3(f);if(h(!1),console.debug("doUnstake: api response",E),!E.ok)return Xt({variant:"error",message:`Errore durante l'unstake (status ${E.status})`});Xt({variant:"success",message:E.data?.raw?.message??"Unstake completato"});try{const N=E.data?.raw??E.data??{},T=y(N.new_staked_balance??N.newStakedBalance??N.new_staked??N.staked_teo??E.data?.staked_teo),O=y(N.new_available_balance??N.newAvailableBalance??N.new_available??N.available_teo??E.data?.available_teo);if(T!==void 0||O!==void 0){o(M=>({...M??{},staked_teo:T??M?.staked_teo,available_teo:O??M?.available_teo}));return}}finally{x()}}const j=(()=>{const S=r?.staked_teo??(r?.balance_teo!==void 0&&r?.available_teo!==void 0?r.balance_teo-r.available_teo:0),E=r?.next_tier_threshold_teo??0;return!E||E<=0?100:Math.min(100,Math.round(S/E*100))})();return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Staking TEO"}),c&&s.jsx("div",{children:"Caricamento..."}),!c&&r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted",children:"Tier corrente"}),s.jsxs("div",{className:"text-lg font-semibold",children:[r.tier_name??"-"," (",r.bonus_multiplier?`+${(r.bonus_multiplier*100).toFixed(0)}%`:"-",")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-muted",children:"Saldo disponibile (TEO)"}),s.jsx("div",{className:"text-lg font-semibold",children:b(r.available_teo)})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm text-muted",children:"Staked (TEO)"}),s.jsx("div",{className:"text-lg font-semibold",children:(()=>{const S=r.staked_teo??(r.balance_teo!==void 0&&r.available_teo!==void 0?r.balance_teo-r.available_teo:0);return b(S)})()})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full bg-gray-200 h-3 rounded overflow-hidden",children:s.jsx("div",{style:{width:`${j}%`},className:"h-3 bg-emerald-600"})}),s.jsxs("div",{className:"text-sm mt-1",children:["Progresso verso ",r.next_tier??"-",": ",j,"%"]})]})]}),s.jsxs("div",{className:"p-4 border rounded-md",children:[s.jsx("div",{className:"mb-2",children:"Stake / Unstake"}),s.jsx("input",{type:"number",step:"0.00000001",value:f,onChange:S=>m(S.target.value),className:"border px-2 py-1 rounded mr-2",placeholder:"0.00000000"}),s.jsx("button",{onClick:_,disabled:p,className:"px-3 py-1 rounded bg-emerald-600 text-white mr-2",children:"Aggiungi allo stake (STAKE)"}),s.jsx("button",{onClick:C,disabled:p,className:"px-3 py-1 rounded bg-red-600 text-white",children:"Rimuovi dallo stake (UNSTAKE)"})]}),s.jsx("div",{className:"text-xs text-muted",children:"1 TEO = 1 EUR (contabile). I bonus dipendono dal tier."})]}),!c&&!r&&s.jsx("div",{children:"Staking non disponibile."})]})}function v5(t){if(!t)return[];if(Array.isArray(t))return t;const a=t;return a.results||a.pending||a.pending_teachers||a.items||(Array.isArray(a.data)?a.data:a.data?.items)||[]}async function y5(t){const a=new URLSearchParams;t?.page&&a.set("page",String(t.page)),t?.page_size&&a.set("page_size",String(t.page_size)),t?.search&&a.set("search",t.search);const r="/v1/pending-teachers/"+(a.toString()?`?${a}`:""),o=await xe.get(r);if(!o.ok)throw new Error(`Errore ${o.status} nel caricamento docenti in attesa`);const c=v5(o.data),u=Array.isArray(o.data)?{}:o.data||{},f=typeof u.count=="number"?u.count:c.length;return{items:c,count:f,next:u.next??null,previous:u.previous??null}}async function b5(t){const a=await xe.post(`/v1/approve-teacher/${t}/`,{});if(!a.ok)throw new Error(`Errore ${a.status} durante l'approvazione`);return!0}async function j5(t){const a=await xe.post(`/v1/reject-teacher/${t}/`,{});if(!a.ok)throw new Error(`Errore ${a.status} durante il rifiuto`);return!0}function w5(t){return[t.first_name,t.last_name].filter(Boolean).join(" ").trim()||t.username||t.email||String(t.id)}function N5(){const[t,a]=H.useState(!0),[r,o]=H.useState(null),[c,u]=H.useState([]),[f,m]=H.useState(0),[p,h]=H.useState({}),[x,b]=H.useState(1),[y,_]=H.useState(20),[C,j]=H.useState(""),[S,E]=H.useState(""),N=Math.max(1,Math.ceil(f/y)),T=x>1,O=x<N;async function M(){a(!0),o(null);try{const{items:R,count:P}=await y5({page:x,page_size:y,search:S||void 0});u(R),m(P??R.length)}catch(R){const P=R instanceof Error?R.message:String(R);o(P||"Errore inatteso")}finally{a(!1)}}H.useEffect(()=>{M()},[x,y,S]);function G(){b(1),E(C.trim())}async function I(R){h(P=>({...P,[R]:"approve"}));try{await b5(R);const P=Math.max(1,Math.min(x,Math.ceil((f-1)/y)||1));P!==x?b(P):await M()}catch(P){const B=P instanceof Error?P.message:String(P);o(B||"Errore approvazione")}finally{h(P=>({...P,[R]:""}))}}async function q(R){h(P=>({...P,[R]:"reject"}));try{await j5(R);const P=Math.max(1,Math.min(x,Math.ceil((f-1)/y)||1));P!==x?b(P):await M()}catch(P){const B=P instanceof Error?P.message:String(P);o(B||"Errore rifiuto")}finally{h(P=>({...P,[R]:""}))}}return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Admin — Docenti in attesa"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Approva o rifiuta le richieste dei docenti."})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Page size"}),s.jsxs("select",{value:y,onChange:R=>{_(Number(R.target.value)),b(1)},className:"h-9 rounded-md border bg-background px-2",children:[s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:C,onChange:R=>j(R.target.value),onKeyDown:R=>R.key==="Enter"&&G(),placeholder:"Cerca email o username…",className:"h-9 w-56 rounded-md border bg-background px-3"}),s.jsx("button",{onClick:G,className:"h-9 rounded-md border border-input bg-background px-3 hover:bg-accent",children:"Cerca"})]}),s.jsx("button",{onClick:()=>M(),className:"h-9 rounded-md border border-input bg-background px-3 hover:bg-accent",children:"Ricarica"})]})]}),s.jsxs("section",{className:"rounded-lg border border-border bg-card text-card-foreground",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[s.jsx("h2",{className:"text-base font-semibold",children:"Docenti in attesa"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t?s.jsxs("span",{className:"inline-flex items-center gap-3",children:[s.jsx(wt,{})," Caricamento…"]}):`${c.length} visibili / ${f} totali`})]}),r&&s.jsx(At,{variant:"error",children:r}),t?s.jsxs("div",{className:"p-4 text-sm text-muted-foreground",children:[s.jsx(wt,{})," Caricamento…"]}):c.length===0?s.jsx(ra,{title:"Nessun docente in attesa",description:S?`Nessun docente in attesa per “${S}”`:"Nessun docente in attesa."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"[&>th]:px-4 [&>th]:py-2 text-left",children:[s.jsx("th",{children:"Utente"}),s.jsx("th",{className:"hidden sm:table-cell",children:"Email"}),s.jsx("th",{className:"hidden lg:table-cell",children:"Richiesta"}),s.jsx("th",{className:"w-56 text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:c.map(R=>{const P=w5(R),B=p[R.id]||"",K=B==="approve",ne=B==="reject";return s.jsxs("tr",{className:"border-t border-border [&>td]:px-4 [&>td]:py-2",children:[s.jsxs("td",{children:[s.jsx("div",{className:"font-medium",children:P}),s.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:R.email||R.username||"—"})]}),s.jsx("td",{className:"hidden sm:table-cell",children:R.email||"—"}),s.jsx("td",{className:"hidden lg:table-cell",children:s.jsx("span",{className:"text-muted-foreground",children:R.applied_at||R.created_at||"—"})}),s.jsx("td",{className:"text-right",children:s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx("button",{onClick:()=>I(R.id),disabled:K||ne,className:"h-9 px-3 rounded-md bg-primary text-primary-foreground hover:opacity-90 disabled:opacity-50",title:"Approva docente",children:K?"Approvando…":"Approva"}),s.jsx("button",{onClick:()=>q(R.id),disabled:K||ne,className:"h-9 px-3 rounded-md border border-input bg-background hover:bg-accent disabled:opacity-50",title:"Rifiuta docente",children:ne?"Rifiutando…":"Rifiuta"})]})})]},R.id)})})]})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-border p-4 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Pagina ",s.jsx("span",{className:"font-medium",children:x})," di ",s.jsx("span",{className:"font-medium",children:N})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>T&&b(R=>Math.max(1,R-1)),disabled:!T,className:"h-9 rounded-md border border-input bg-background px-3 hover:bg-accent disabled:opacity-50",children:"← Prev"}),s.jsx("button",{onClick:()=>O&&b(R=>Math.min(N,R+1)),disabled:!O,className:"h-9 rounded-md border border-input bg-background px-3 hover:bg-accent disabled:opacity-50",children:"Next →"})]})]})]})]})]})}const ea=t=>{const a=Number(t);return Number.isFinite(a)?a:void 0},zN=t=>{if(t===!0||t==="true"||t===1||t==="1")return!0;if(t===!1||t==="false"||t===0||t==="0")return!1},S5=[{value:"disegno",label:"✏️ Disegno"},{value:"pittura-olio",label:"🎨 Pittura ad Olio"},{value:"acquerello",label:"💧 Acquerello"},{value:"tempera",label:"🖌️ Tempera"},{value:"acrilico",label:"🌈 Pittura Acrilica"},{value:"scultura",label:"🗿 Scultura"},{value:"storia-arte",label:"📚 Storia dell'Arte"},{value:"fotografia",label:"📸 Fotografia Artistica"},{value:"illustrazione",label:"🖊️ Illustrazione"},{value:"arte-digitale",label:"💻 Arte Digitale"},{value:"ceramica",label:"🏺 Ceramica e Terracotta"},{value:"incisione",label:"⚱️ Incisione e Stampa"},{value:"mosaico",label:"🔷 Mosaico"},{value:"restauro",label:"🛠️ Restauro Artistico"},{value:"calligrafia",label:"✒️ Calligrafia"},{value:"fumetto",label:"💭 Fumetto e Graphic Novel"},{value:"design-grafico",label:"🎨 Design Grafico"},{value:"arte-contemporanea",label:"🆕 Arte Contemporanea"},{value:"arte-classica",label:"🏛️ Arte Classica"},{value:"other",label:"🎭 Altro"}];function Ur(t){const a=ea(t?.price_eur??t?.price_amount??t?.price)??(typeof t?.price=="string"?Number(String(t.price).replace(",",".")):void 0);return{id:ea(t?.id??t?.pk)??0,title:String(t?.title??t?.name??"Corso"),description:t?.description??null,price:a??null,currency:t?.currency??"EUR",status:t?.status??(zN(t?.published)?"published":"draft"),cover_url:t?.cover_url??t?.cover_image_url??t?.cover_image??null,category:t?.category??t?.category_id??null}}function Mh(t){return{id:ea(t?.id??t?.pk)??0,course_id:ea(t?.course_id??t?.course)??0,title:String(t?.title??t?.name??"Lezione"),description:t?.description??null,duration_min:ea(t?.duration_min??t?.duration)??null,is_published:zN(t?.is_published??t?.published)}}function Oh(t){return{id:ea(t?.id??t?.pk)??0,lesson_id:ea(t?.lesson_id??t?.lesson)??0,title:String(t?.title??t?.name??"Esercizio"),description:t?.description??null,exercise_type:t?.exercise_type??null,difficulty:t?.difficulty??null,time_estimate:ea(t?.time_estimate??t?.time_estimate_min??t?.time_estimate_minutes)??null,materials:t?.materials??null,instructions:t?.instructions??null,reference_image_url:t?.reference_image_url??t?.reference_image??null,created_at:t?.created_at??null,updated_at:t?.updated_at??null}}async function _5(t){const a=t?.mine===1?[{url:"/v1/teacher/courses/",q:t},{url:"/v1/courses-service/",q:t}]:[{url:"/v1/teacher/courses/",q:t},{url:"/v1/courses/",q:{...t,mine:1}},{url:"/v1/courses-service/",q:t}];for(const r of a){const o=await xe.get(r.url,{params:r.q});if(o.ok){const c=Array.isArray(o.data)?o.data:o.data?.results??[],u=o.data?.count;return{ok:!0,status:o.status,data:{items:c.map(Ur),count:u}}}if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"No teaching courses endpoint"}}async function LN(t){const a=[`/v1/teacher/courses/${t}/`,`/v1/courses/${t}/`,`/v1/courses-service/${t}/`];for(const r of a){const o=await xe.get(r);if(o.ok)return{ok:!0,status:o.status,data:Ur(o.data)};if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"Course not found"}}async function C5(t){if(t.cover_file){const r=new FormData;r.set("title",t.title),t.description&&r.set("description",t.description),typeof t.price=="number"&&r.set("price",String(t.price)),t.currency&&r.set("currency",t.currency),t.status&&r.set("status",t.status),t.category!=null&&r.set("category",String(t.category)),r.append("cover_image",t.cover_file,t.cover_file.name);for(const o of["/v1/teacher/courses/","/v1/courses/","/v1/courses-service/"]){const c=await xe.post(o,r);if(c.ok)return{ok:!0,status:c.status,data:Ur(c.data)};if(![404,405,415,422].includes(c.status??c.status))return{ok:!1,status:c.status,error:c.error}}}const a={title:t.title,description:t.description??"",price:t.price??null,category:t.category??null,cover_url:t.cover_url};for(const r of["/v1/teacher/courses/","/v1/courses/","/v1/courses-service/"]){const o=await xe.post(r,a);if(o.ok)return{ok:!0,status:o.status,data:Ur(o.data)};if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"Create course endpoint not found"}}async function E5(t,a){if(a.cover_file){const o=new FormData;a.title&&o.set("title",a.title),a.description!=null&&o.set("description",a.description),typeof a.price=="number"&&o.set("price",String(a.price)),a.currency&&o.set("currency",a.currency),a.status&&o.set("status",a.status),a.category!=null&&o.set("category",String(a.category)),o.append("cover_image",a.cover_file,a.cover_file.name);for(const c of[`/v1/teacher/courses/${t}/`,`/v1/courses/${t}/`,`/v1/courses-service/${t}/`]){const u=await xe.patch(c,o);if(u.ok)return{ok:!0,status:u.status,data:Ur(u.data)};if(![404,405,415,422].includes(u.status??u.status))return{ok:!1,status:u.status,error:u.error}}}const r={};a.title!=null&&(r.title=a.title),a.description!=null&&(r.description=a.description),a.price!=null&&(r.price=a.price),a.currency!=null&&(r.currency=a.currency),a.status!=null&&(r.status=a.status),a.category!=null&&(r.category=a.category),a.cover_url!=null&&(r.cover_url=a.cover_url);for(const o of[`/v1/teacher/courses/${t}/`,`/v1/courses/${t}/`,`/v1/courses-service/${t}/`]){const c=await xe.patch(o,r);if(c.ok)return{ok:!0,status:c.status,data:Ur(c.data)};if(![404,405].includes(c.status??c.status))return{ok:!1,status:c.status,error:c.error}}return{ok:!1,status:404,error:"Update course endpoint not found"}}async function A5(t){const a=[`/v1/courses/${t}/lessons/`,`/v1/teacher/courses/${t}/lessons/`,"/v1/lessons/all/"];for(const r of a){const o=await xe.get(r);if(o.ok){const c=Array.isArray(o.data)?o.data:o.data?.results??[];return{ok:!0,status:o.status,data:c.map(Mh)}}if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"List lessons endpoint not found"}}async function T5(t,a){const r=!!a.video_file;let o;if(r){const u=new FormData;u.set("title",a.title),u.set("content",a.description??""),a.duration_min!=null&&u.set("duration",String(a.duration_min)),u.set("lesson_type",a.lesson_type??"theory"),u.set("course_id",String(t)),u.append("video_file",a.video_file,a.video_file.name),o=u}else o={title:a.title,content:a.description??"",duration:a.duration_min??void 0,lesson_type:a.lesson_type??"theory",course_id:t};const c=[`/v1/courses/${t}/lessons/`,`/v1/teacher/courses/${t}/lessons/`,"/v1/lessons/create/","/v1/lessons/"];for(const u of c){const f=await xe.post(u,o);if(f.ok)return{ok:!0,status:f.status,data:Mh(f.data)};if(![404,405,422].includes(f.status??f.status))return{ok:!1,status:f.status,error:f.error}}return{ok:!1,status:404,error:"Create lesson endpoint not found"}}async function R5(t,a){const r={};a.title!=null&&(r.title=a.title),a.description!=null&&(r.content=a.description),a.duration_min!=null&&(r.duration=a.duration_min),a.is_published!=null&&(r.is_published=a.is_published),a.lesson_type!=null&&(r.lesson_type=a.lesson_type);const o=[`/v1/lessons/${t}/`,`/v1/teacher/lessons/${t}/`,`/v1/lessons/${t}/`];for(const c of o){const u=await xe.patch(c,r);if(u.ok)return{ok:!0,status:u.status,data:Mh(u.data)};if(![404,405].includes(u.status??u.status))return{ok:!1,status:u.status,error:u.error}}return{ok:!1,status:404,error:"Update lesson endpoint not found"}}async function k5(t){const a=[`/v1/lessons/${t}/exercises/`,`/v1/teacher/lessons/${t}/exercises/`,"/v1/exercises/"];for(const r of a){const o=await xe.get(r);if(o.ok){const c=Array.isArray(o.data)?o.data:o.data?.results??[];return{ok:!0,status:o.status,data:c.map(Oh)}}if(![404,405].includes(o.status??o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"List exercises endpoint not found"}}async function M5(t,a,r){const o=!!a.reference_image;let c;if(o){const f=new FormData;f.set("title",a.title),f.set("description",a.description),f.set("lesson_id",String(t)),r!=null&&f.set("course_id",String(r)),f.set("exercise_type",a.exercise_type??"practical"),a.difficulty&&f.set("difficulty",a.difficulty),typeof a.time_estimate=="number"&&f.set("time_estimate",String(a.time_estimate)),a.materials&&f.set("materials",a.materials),a.instructions&&f.set("instructions",a.instructions),f.append("reference_image",a.reference_image,a.reference_image.name),c=f}else c={title:a.title,description:a.description,exercise_type:a.exercise_type??"practical",difficulty:a.difficulty??void 0,time_estimate:a.time_estimate??void 0,materials:a.materials??void 0,instructions:a.instructions??void 0,lesson_id:t,course_id:r??void 0};const u=[`/v1/lessons/${t}/exercises/`,`/v1/teacher/lessons/${t}/exercises/`,"/v1/exercises/create/","/v1/exercises/"];for(const f of u){const m=await xe.post(f,c);if(m.ok)return{ok:!0,status:m.status,data:Oh(m.data)};if(![404,405,422].includes(m.status??m.status))return{ok:!1,status:m.status,error:m.error}}return{ok:!1,status:404,error:"Create exercise endpoint not found"}}async function O5(t,a){const r={};a.title!=null&&(r.title=a.title),a.description!=null&&(r.description=a.description),a.exercise_type!=null&&(r.exercise_type=a.exercise_type),a.difficulty!=null&&(r.difficulty=a.difficulty),a.time_estimate!=null&&(r.time_estimate=a.time_estimate),a.materials!=null&&(r.materials=a.materials),a.instructions!=null&&(r.instructions=a.instructions);const o=[`/v1/exercises/${t}/`,`/v1/teacher/exercises/${t}/`,`/v1/exercises/${t}/`];for(const c of o){const u=await xe.patch(c,r);if(u.ok)return{ok:!0,status:u.status,data:Oh(u.data)};if(![404,405].includes(u.status??u.status))return{ok:!1,status:u.status,error:u.error}}return{ok:!1,status:404,error:"Update exercise endpoint not found"}}function D5(){const t=$t(),[a,r]=H.useState([]),[o,c]=H.useState(void 0),[u,f]=H.useState(!1),[m,p]=H.useState(null),[h,x]=H.useState("");async function b(){f(!0),p(null);const y=await _5({page:1,page_size:50,search:h||void 0,mine:1});if(!y.ok){p(`Impossibile caricare i tuoi corsi (HTTP ${y.status}).`),r([]),c(void 0),f(!1);return}r(y.data.items),c(y.data.count),f(!1)}return H.useEffect(()=>{b()},[]),s.jsxs("div",{className:"mx-auto max-w-6xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"I miei corsi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea e gestisci i tuoi corsi, le lezioni e gli esercizi."})]}),s.jsx("button",{className:"rounded-lg bg-primary px-4 py-2 text-primary-foreground hover:opacity-90",onClick:()=>t("/studio/courses/new"),children:"+ Nuovo corso"})]}),s.jsxs("form",{onSubmit:y=>{y.preventDefault(),b()},className:"flex items-center gap-2",children:[s.jsx("input",{type:"search",value:h,onChange:y=>x(y.target.value),placeholder:"Cerca corso…",className:"h-9 rounded-md border bg-background px-3 outline-none focus:ring-2 focus:ring-primary"}),s.jsx("button",{className:"h-9 rounded-md border px-3",disabled:u,children:"Cerca"})]}),u&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),m&&s.jsx(At,{variant:"error",title:"Errore",children:m}),!u&&!m&&a.length===0&&s.jsx(ra,{title:"Ancora nessun corso",description:"Crea o importa un corso per cominciare."}),!u&&!m&&a.length>0&&s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y",children:[s.jsx("thead",{className:"text-left text-sm",children:s.jsxs("tr",{className:"text-muted-foreground",children:[s.jsx("th",{className:"py-2 pr-4",children:"Titolo"}),s.jsx("th",{className:"py-2 pr-4",children:"Prezzo"}),s.jsx("th",{className:"py-2 pr-4",children:"Stato"}),s.jsx("th",{className:"py-2 pr-4",children:"Azioni"})]})}),s.jsx("tbody",{className:"divide-y",children:a.map(y=>s.jsxs("tr",{className:"text-sm",children:[s.jsx("td",{className:"py-2 pr-4",children:y.title}),s.jsx("td",{className:"py-2 pr-4",children:typeof y.price=="number"?new Intl.NumberFormat("it-IT",{style:"currency",currency:y.currency??"EUR"}).format(y.price):"—"}),s.jsx("td",{className:"py-2 pr-4",children:y.status??"—"}),s.jsx("td",{className:"py-2 pr-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lt,{className:"rounded-md border px-3 py-1 hover:bg-accent",to:`/studio/courses/${y.id}/edit`,children:"Modifica"}),s.jsx(lt,{className:"rounded-md border px-3 py-1 hover:bg-accent",to:`/studio/courses/${y.id}/builder`,children:"Builder"})]})})]},y.id))})]}),typeof o=="number"&&s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Totale: ",o]})]})]})}function xb(){const{id:t}=Jn(),a=!!t,r=a?Number(t):void 0,o=$t(),[c,u]=H.useState(a),[f,m]=H.useState(null),[p,h]=H.useState(""),[x,b]=H.useState(""),[y,_]=H.useState(""),[C,j]=H.useState("EUR"),[S,E]=H.useState("draft"),[N,T]=H.useState(""),[O,M]=H.useState(""),[G,I]=H.useState(void 0),[q,R]=H.useState(!1);H.useEffect(()=>{let B=!0;async function K(){if(!a||!r)return;u(!0),m(null);const ne=await LN(r);if(B){if(!ne.ok)m(`Impossibile caricare il corso (HTTP ${ne.status}).`);else{h(ne.data.title||""),b(ne.data.description||""),_(typeof ne.data.price=="number"?String(ne.data.price):""),j(ne.data.currency||"EUR");const te=typeof ne.data.status=="string"?ne.data.status:String(ne.data.status??"draft");E(te==="published"?"published":"draft"),T(ne.data.category?String(ne.data.category):""),M(ne.data.cover_url||"")}u(!1)}}return K(),()=>{B=!1}},[a,r]);async function P(B){B.preventDefault(),R(!0),m(null);const K={title:p.trim(),description:x.trim(),price:y?Number(y):null,currency:C,status:S,category:N?Number.isFinite(Number(N))?Number(N):N:null,cover_url:O||void 0,cover_file:G},ne=a&&r?await E5(r,K):await C5(K);if(R(!1),!ne.ok){m(`Salvataggio non riuscito (HTTP ${ne.status}). Controlla i campi.`);return}o(`/studio/courses/${ne.data.id}/builder`)}return s.jsxs("div",{className:"mx-auto max-w-3xl p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:a?"Modifica corso":"Nuovo corso"}),c&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),f&&s.jsx(At,{variant:"error",title:"Errore",children:f}),!c&&s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Titolo"}),s.jsx("input",{value:p,onChange:B=>h(B.target.value),className:"h-9 w-full rounded-md border px-3",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Descrizione"}),s.jsx("textarea",{value:x,onChange:B=>b(B.target.value),className:"min-h-[120px] w-full rounded-md border p-3"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Prezzo"}),s.jsx("input",{type:"number",min:0,step:"0.01",value:y,onChange:B=>_(B.target.value),className:"h-9 w-full rounded-md border px-3"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Valuta"}),s.jsxs("select",{value:C,onChange:B=>j(B.target.value),className:"h-9 w-full rounded-md border px-2",children:[s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"USD",children:"USD"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Stato"}),s.jsxs("select",{value:S,onChange:B=>E(B.target.value),className:"h-9 w-full rounded-md border px-2",children:[s.jsx("option",{value:"draft",children:"Bozza"}),s.jsx("option",{value:"published",children:"Pubblicato"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Categoria"}),s.jsxs("select",{value:N,onChange:B=>T(B.target.value),className:"h-9 w-full rounded-md border px-3",children:[s.jsx("option",{value:"",children:"Seleziona categoria"}),S5.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Cover URL (opzionale)"}),s.jsx("input",{value:O,onChange:B=>M(B.target.value),className:"h-9 w-full rounded-md border px-3",placeholder:"https://…"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-sm font-medium",children:"Oppure carica cover (file)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:B=>I(B.target.files?.[0])})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{className:"rounded-lg bg-primary px-4 py-2 text-primary-foreground disabled:opacity-50",disabled:q,children:q?"Salvataggio…":"Salva e prosegui"})})]})]})}function z5(){const{id:t}=Jn(),a=Number(t),[r,o]=H.useState(!0),[c,u]=H.useState(null),[f,m]=H.useState("Corso"),[p,h]=H.useState([]),[x,b]=H.useState({}),[y,_]=H.useState(""),[C,j]=H.useState(""),[S,E]=H.useState(""),[N,T]=H.useState("theory"),[O,M]=H.useState(!1),[G,I]=H.useState({});async function q(){o(!0),u(null);const te=await LN(a);if(!te.ok){u(`Impossibile caricare il corso (HTTP ${te.status}).`),o(!1);return}m(te.data.title||`Corso #${a}`);const Y=await A5(a);if(!Y.ok){u(`Impossibile caricare le lezioni (HTTP ${Y.status}).`),h([]),o(!1);return}const D=Y.data;h(D);const X={};for(const se of D){const ae=await k5(se.id);X[se.id]=ae.ok?ae.data:[]}b(X),o(!1)}H.useEffect(()=>{Number.isFinite(a)&&q()},[a]);async function R(te){te.preventDefault(),M(!0);const Y=await T5(a,{title:y.trim(),description:C.trim()||void 0,lesson_type:N,duration_min:S?Number(S):void 0});if(M(!1),!Y.ok){u(`Creazione lezione fallita (HTTP ${Y.status}).`);return}_(""),j(""),E(""),await q()}async function P(te,Y){const D=await R5(te.id,{title:Y.title??te.title,description:Y.description??te.description??void 0,duration_min:Y.duration_min??te.duration_min??void 0,is_published:Y.is_published??te.is_published??void 0});if(!D.ok){u(`Aggiornamento lezione fallito (HTTP ${D.status}).`);return}await q()}function B(te,Y){I(D=>({...D,[te]:{...D[te]||{title:"",description:"",exercise_type:"practical",difficulty:"beginner",time_estimate:"",materials:"",instructions:"",reference_image:null},...Y}}))}async function K(te,Y){te.preventDefault();const D=G[Y]||{title:"",description:"",exercise_type:"practical",difficulty:"beginner",time_estimate:"",materials:"",instructions:"",reference_image:null};if(!D.description||!D.description.trim()){u("La descrizione dell'esercizio è obbligatoria.");return}const X=await M5(Y,{title:D.title.trim(),description:D.description.trim(),exercise_type:D.exercise_type||"practical",difficulty:D.difficulty||"beginner",time_estimate:D.time_estimate?Number(D.time_estimate):void 0,materials:D.materials||void 0,instructions:D.instructions||void 0,reference_image:D.reference_image??void 0},a);if(!X.ok){u(`Creazione esercizio fallita (HTTP ${X.status}).`);return}B(Y,{title:"",description:"",exercise_type:"practical",difficulty:"beginner",time_estimate:"",materials:"",instructions:"",reference_image:null}),await q()}async function ne(te,Y){const D=await O5(te.id,{title:Y.title??te.title,description:Y.description??te.description??void 0,exercise_type:Y.exercise_type??te.exercise_type??void 0,difficulty:Y.difficulty??te.difficulty??void 0,time_estimate:Y.time_estimate??te.time_estimate??void 0,materials:Y.materials??te.materials??void 0,instructions:Y.instructions??te.instructions??void 0});if(!D.ok){u(`Aggiornamento esercizio fallito (HTTP ${D.status}).`);return}await q()}return Number.isFinite(a)?s.jsxs("div",{className:"mx-auto max-w-5xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsx(lt,{className:"underline",to:"/studio/courses",children:"← Torna ai corsi"})}),s.jsxs("h1",{className:"text-2xl font-semibold",children:["Builder • ",f]})]}),s.jsx(lt,{className:"rounded-lg border px-3 py-2 text-sm hover:bg-accent",to:`/studio/courses/${a}/edit`,children:"Modifica corso"})]}),r&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Caricamento…"})]}),c&&s.jsx(At,{variant:"error",title:"Errore",children:c}),s.jsxs("section",{className:"rounded-xl border p-4 space-y-3",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Aggiungi lezione"}),s.jsxs("form",{onSubmit:R,className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[s.jsx("input",{className:"h-9 rounded-md border px-3 sm:col-span-2",placeholder:"Titolo lezione",value:y,onChange:te=>_(te.target.value),required:!0}),s.jsxs("select",{className:"h-9 rounded-md border px-3",value:N,onChange:te=>T(te.target.value),children:[s.jsx("option",{value:"theory",children:"Theory"}),s.jsx("option",{value:"practical",children:"Practical"}),s.jsx("option",{value:"video",children:"Video"}),s.jsx("option",{value:"mixed",children:"Mixed"})]}),s.jsx("input",{className:"h-9 rounded-md border px-3",placeholder:"Durata (min)",type:"number",min:0,value:S,onChange:te=>E(te.target.value)}),s.jsx("textarea",{className:"min-h-[80px] w-full rounded-md border p-3 sm:col-span-3",placeholder:"Descrizione (opzionale)",value:C,onChange:te=>j(te.target.value)}),s.jsx("button",{className:"rounded-md bg-primary px-3 py-2 text-primary-foreground disabled:opacity-50",disabled:O,children:O?s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx(wt,{size:16,className:"mr-2"})," Aggiungo…"]}):"Aggiungi lezione"})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Lezioni"}),!r&&p.length===0&&s.jsx(ra,{title:"Nessuna lezione",description:"Non ci sono lezioni."}),p.map(te=>s.jsxs("div",{className:"rounded-xl border",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b p-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:te.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Durata: ",te.duration_min??"—"," min • Stato: ",te.is_published?"pubblicata":"bozza"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"rounded-md border px-3 py-1 text-sm hover:bg-accent",onClick:()=>P(te,{is_published:!(te.is_published??!1)}),children:te.is_published?"Metti in bozza":"Pubblica"})})]}),s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsx("div",{className:"text-sm font-medium",children:"Esercizi"}),(x[te.id]??[]).length===0&&s.jsx("div",{className:"text-xs text-muted-foreground",children:"Nessun esercizio."}),(x[te.id]??[]).map(Y=>s.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-sm",children:Y.title}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Tipo: ",Y.exercise_type??"—"," • Difficoltà: ",Y.difficulty??"—"," • Tempo stimato: ",Y.time_estimate??"—"," min"]})]}),s.jsx("button",{className:"rounded-md border px-3 py-1 text-sm hover:bg-accent",onClick:()=>ne(Y,{}),children:"Modifica"})]},Y.id)),s.jsxs("form",{onSubmit:Y=>K(Y,te.id),className:"grid grid-cols-1 gap-3 sm:grid-cols-4",children:[s.jsx("input",{className:"h-9 rounded-md border px-3 sm:col-span-2",placeholder:"Titolo esercizio",value:G[te.id]?.title||"",onChange:Y=>B(te.id,{title:Y.target.value}),required:!0}),s.jsxs("select",{className:"h-9 rounded-md border px-3",value:G[te.id]?.exercise_type||"practical",onChange:Y=>B(te.id,{exercise_type:Y.target.value}),children:[s.jsx("option",{value:"practical",children:"Practical"}),s.jsx("option",{value:"study",children:"Study"}),s.jsx("option",{value:"technique",children:"Technique"}),s.jsx("option",{value:"creative",children:"Creative"})]}),s.jsxs("select",{className:"h-9 rounded-md border px-3",value:G[te.id]?.difficulty||"beginner",onChange:Y=>B(te.id,{difficulty:Y.target.value}),children:[s.jsx("option",{value:"beginner",children:"Beginner"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]}),s.jsx("input",{className:"h-9 rounded-md border px-3",placeholder:"Tempo stimato (min)",type:"number",min:0,value:G[te.id]?.time_estimate||"",onChange:Y=>B(te.id,{time_estimate:Y.target.value})}),s.jsx("textarea",{className:"min-h-[80px] w-full rounded-md border p-3 sm:col-span-3",placeholder:"Descrizione",value:G[te.id]?.description||"",onChange:Y=>B(te.id,{description:Y.target.value}),required:!0}),s.jsx("textarea",{className:"min-h-[80px] w-full rounded-md border p-3 sm:col-span-3",placeholder:"Materials (opz.)",value:G[te.id]?.materials||"",onChange:Y=>B(te.id,{materials:Y.target.value})}),s.jsx("textarea",{className:"min-h-[80px] w-full rounded-md border p-3 sm:col-span-3",placeholder:"Instructions (opz.)",value:G[te.id]?.instructions||"",onChange:Y=>B(te.id,{instructions:Y.target.value})}),s.jsx("input",{className:"h-9 rounded-md border px-3",type:"file",onChange:Y=>B(te.id,{reference_image:Y.target.files?.[0]??null})}),s.jsx("button",{className:"rounded-md border px-3 py-2 text-sm hover:bg-accent",children:"Aggiungi esercizio"})]})]})]},te.id))]})]}):s.jsx("div",{className:"p-6",children:"ID corso non valido."})}const L5=["/v1/blockchain/wallet/tx-status/","/api/v1/blockchain/wallet/tx-status/","/api/blockchain/wallet/tx-status/"];async function P5(t){for(const a of L5){const r=a.endsWith("/")?`${a}${t}/`:`${a}/${t}/`,o=await xe.get(r);if(o.ok)return{ok:!0,data:o.data};if(![404].includes(o.status))return{ok:!1,status:o.status,error:o.error}}return{ok:!1,status:404,error:"not_found"}}function U5(){const{user:t,connectWallet:a,isTeacher:r}=es(),[o,c]=v.useState(!1),u=async()=>{c(!0),await a()?mt("Wallet connected successfully!",{description:"You can now receive tokens directly to your MetaMask wallet"}):mt("Failed to connect wallet",{description:"Please make sure MetaMask is installed and try again"}),c(!1)},f=()=>{t?.walletAddress&&(navigator.clipboard.writeText(t.walletAddress),mt("Address copied to clipboard"))},m=k=>`${k.slice(0,6)}...${k.slice(-4)}`,[p,h]=v.useState([]),[x,b]=v.useState(!0),[y,_]=v.useState(1),[C,j]=v.useState(null),[S,E]=v.useState(!1),[N,T]=v.useState(null),[O,M]=v.useState(null),[G,I]=v.useState(null),q=[{name:"Art Enthusiast",requirement:300,reward:50,current:t?.tokens||0},{name:"Community Helper",requirement:500,reward:100,current:t?.tokens||0},{name:"Master Critic",requirement:1e3,reward:200,current:t?.tokens||0}],R=v.useCallback(k=>{const $=k,L=$.id??$.reference??$.tx_hash??$.hash;if(L!=null)return String(L);const U=String($.type??""),Z=String($.created_at??""),re=String($.amount_teo??$.amount??$.value??"");return`${U}:${Z}:${re}`},[]),P=v.useCallback((k,$)=>{const L=new Set,U=[];for(const Z of k){const re=R(Z);L.has(re)||(L.add(re),U.push(Z))}for(const Z of $){const re=R(Z);L.has(re)||(L.add(re),U.push(Z))}return U},[R]),B=v.useCallback(async(k,$=!1,L=!1)=>{L||b(!0);try{let U;if(typeof k=="string"?U=await Af(1,10,k):U=await Af(k,10),U.ok){const Z=U.data,re=Z.results||[];if($&&re.length===0){b(!1);return}h(ue=>$?P(ue,re):re),j(Z.count??null),E(!!Z.next),T(typeof Z.next=="string"?Z.next:null),M(typeof Z.previous=="string"?Z.previous:null)}else L||mt("Failed to load transactions",{description:`Status ${U.status}`})}catch(U){L||mt("Failed to load transactions",{description:String(U)})}finally{L||b(!1)}},[P]),K=k=>{if(!k)return"";const $=["status","state","transaction_status","status_display","tx_status","processing_status"];for(const U of $){const Z=k[U];if(Z&&typeof Z=="string")return Z}const L=k.data??k.result??k.payload;if(L)for(const U of["status","state","status_display"]){const Z=L[U];if(Z&&typeof Z=="string")return Z}return""};v.useEffect(()=>{let k=!0;return k&&B(y,!1),()=>{k=!1}},[y,B]),v.useEffect(()=>{let k=!0;if(r)return(async()=>{try{const $=await fc();if(!k||!$.ok)return;const L=$.data;let U;if(L&&typeof L=="object"){const oe=L;oe.balance&&typeof oe.balance=="object"?U=oe.balance:oe.raw&&typeof oe.raw=="object"&&oe.raw.balance&&typeof oe.raw.balance=="object"?U=oe.raw.balance:oe.raw&&typeof oe.raw=="object"&&typeof oe.raw?.staked_balance<"u"?U=oe.raw:(typeof oe.staked_balance<"u"||typeof oe.available_balance<"u"||typeof oe.total_balance<"u")&&(U=oe)}if(!U)return;const Z=Number(U.staked_balance??U.staked??U.staked_teo),re=Number(U.available_balance??U.available??U.available_teo),ue=Number(U.total_balance??U.total??U.balance_teo);I({staked:Number.isFinite(Z)?Z:void 0,available:Number.isFinite(re)?re:void 0,total:Number.isFinite(ue)?ue:void 0})}catch($){console.debug("[Wallet] fetch staking info failed",$)}})(),()=>{k=!1}},[r]),v.useEffect(()=>{const k=new Set(["completed","failed","succeeded","ok"]);let $=null;const L=p.filter(U=>{const Z=String(K(U)??"").toLowerCase();return Z&&!k.has(Z)});if(L.length!==0)return $=window.setInterval(async()=>{for(const U of L){const Z=String(U.reference??U.id);try{const re=await P5(Z);if(re.ok&&re.data){const ue=String(K(re.data)??""),oe=String(K(U)??"");ue&&ue!==oe&&h(de=>de.map(Ce=>R(Ce)===R(U)?{...Ce,status:ue}:Ce))}}catch(re){console.debug("[Wallet] getTxStatus failed",re)}}},5e3),()=>{$&&window.clearInterval($)}},[p,R]),v.useEffect(()=>{const k=window.setInterval(()=>{B(y,!1,!0).catch(()=>{})},3e4);return()=>window.clearInterval(k)},[y,B]);const ne=async()=>{if(N){await B(N,!1);return}if(S){_(k=>k+1);return}mt("No next page")},te=async()=>{if(O){await B(O,!1);return}_(k=>Math.max(1,k-1))},Y=async()=>{if(!O){te();return}await B(O,!1)},D=async()=>{if(!S){mt("No older transactions available");return}if(N){await B(N,!0);return}const k=y+1;await B(k,!0),_(k)},X=async()=>{let $=y,L=0;for(;L<50&&!(!S&&$!==y);){const U=await Af($+1,50);if(L+=1,!U.ok)break;const Z=U.data.results||[];h(ue=>P(ue,Z)),j(U.data.count??null);const re=!!U.data.next;if(E(re),$=$+1,!re)break}L>=50&&mt("Reached maximum pages while loading history")},se=p.filter(k=>{const $=k;return!($.status||$.tx_hash||$.explorer_url)}),ae=p.filter(k=>{const $=k,L=String($.description??"").toLowerCase();return!!($.status||$.tx_hash||$.explorer_url||L.includes("burn requested")||L.includes("mint requested"))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Your Wallet"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your Creator Tokens and rewards"})]}),!t?.walletAddress&&s.jsxs(ye,{onClick:u,disabled:o,children:[s.jsx(fo,{className:"size-4 mr-2"}),o?"Connecting...":"Connect MetaMask"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(fe,{className:"md:col-span-2 bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:s.jsx(Lc,{className:"size-6 text-white"})}),s.jsxs("div",{children:[s.jsx(Ue,{children:"Creator Token Balance"}),s.jsx(Ve,{children:"Your learning and community contributions"})]})]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsx("span",{className:"text-4xl font-medium",children:t?.tokens||0}),s.jsx("span",{className:"text-xl text-muted-foreground",children:"✨"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(ac,{className:"size-4"}),s.jsx("span",{children:"+23 this week"})]}),s.jsxs("div",{className:"text-muted-foreground",children:["Rank #",42," in community"]})]})]})]}),s.jsxs(fe,{children:[s.jsx(ze,{className:"pb-3",children:s.jsx(Ue,{className:"text-base",children:"MetaMask Integration"})}),s.jsx(me,{className:"space-y-3",children:t?.walletAddress?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Connected"}),s.jsx(be,{variant:"outline",className:"bg-green-50 border-green-200 text-green-800",children:"Active"})]}),s.jsx("div",{className:"p-2 bg-muted/50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-mono",children:m(t.walletAddress)}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:f,children:s.jsx(_C,{className:"size-3"})})]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tokens can be transferred to this wallet"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect MetaMask to receive tokens directly in your wallet"}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:u,disabled:o,className:"w-full",children:[s.jsx(fo,{className:"size-4 mr-2"}),"Connect Wallet"]})]})})]}),r?s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{className:"text-base",children:"Staking"}),s.jsx(Ve,{children:"Staking overview (teacher only)"})]}),s.jsx(me,{className:"space-y-3",children:G?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Staked"}),s.jsx("div",{className:"text-sm font-medium",children:typeof G.staked=="number"?G.staked.toFixed(8):"-"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Available"}),s.jsx("div",{className:"text-sm font-medium",children:typeof G.available=="number"?G.available.toFixed(8):"-"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("div",{className:"text-sm font-medium",children:typeof G.total=="number"?G.total.toFixed(8):"-"})]}),s.jsx("div",{className:"pt-2",children:s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{window.location.href="/teacher/staking"},children:"Manage staking"})})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Staking data unavailable"})})]}):null]}),s.jsxs(sa,{defaultValue:"activity",className:"space-y-4",children:[s.jsxs(aa,{children:[s.jsx(Je,{value:"activity",children:"Recent Activity"}),s.jsx(Je,{value:"requests",children:"Requests"}),s.jsx(Je,{value:"milestones",children:"Milestones"}),s.jsx(Je,{value:"rewards",children:"Reward System"})]}),s.jsx(nt,{value:"activity",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"Recent Transactions (DB)"}),s.jsx(Ve,{children:"Local ledger transactions from the database"})]}),s.jsxs(me,{className:"space-y-3",children:[x?s.jsx("div",{className:"space-y-2",children:[1,2,3].map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full"}),s.jsx("div",{className:"w-40 h-4 bg-muted/50 rounded"})]}),s.jsx("div",{className:"w-12 h-4 bg-muted/50 rounded"})]},k))}):p.length===0?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No transactions yet."}):se.length===0?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No DB transactions found."}):se.map(k=>{const $=k.created_at?new Date(k.created_at).toLocaleString():"",L=Number(k.amount_teo??k.amount??k.value),U=String(k.description??k.type??""),Z=U.toLowerCase(),re=Number.isFinite(L)?String(Math.abs(L)):"Importo sconosciuto";let ue=U;Z.includes("burn requested")?ue=`Deposito ${re}`:Z.includes("mint requested")&&(ue=`Prelievo ${re}`);const oe=Number(L),de=Number.isFinite(oe),Ce=de?String(Math.abs(oe)):"Importo sconosciuto";let je="bg-gray-50 text-gray-800";de&&(oe>0?je="bg-green-50 text-green-800":oe<0&&(je="bg-red-50 text-red-800"));const Pe=de?`${oe>0?"":"-"}${Ce} TEO`:Ce;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ac,{className:"size-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:ue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:$})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(be,{variant:"secondary",className:je,children:Pe})})]},R(k))}),s.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3",children:[s.jsx(ye,{variant:"ghost",size:"sm",onClick:Y,disabled:y<=1&&!O,children:"Prev"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",y,C?` • ${C} total`:""]}),s.jsx(ye,{variant:"ghost",size:"sm",onClick:ne,disabled:!S&&!N,children:"Next"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:D,disabled:!S||x,children:"Carica precedenti"}),s.jsx(ye,{variant:"outline",size:"sm",onClick:X,disabled:x,children:"Carica tutta la storia"})]})]})]})}),s.jsx(nt,{value:"requests",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"On‑chain Requests"}),s.jsx(Ve,{children:"On‑chain mint/burn requests and blockchain transactions"})]}),s.jsx(me,{className:"space-y-3",children:x?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Loading requests…"}):ae.length===0?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No on-chain requests found."}):ae.map(k=>{const $=k.created_at?new Date(k.created_at).toLocaleString():"",L=Number(k.amount_teo??k.amount??k.value),U=String(k.description??k.type??""),Z=U.toLowerCase(),re=Number.isFinite(L)?String(Math.abs(L)):"Importo sconosciuto";let ue=U;Z.includes("burn requested")?ue=`Deposito ${re}`:Z.includes("mint requested")&&(ue=`Prelievo ${re}`);const oe=Number(L),de=Number.isFinite(oe),Ce=de?String(Math.abs(oe)):"Importo sconosciuto";let je="bg-gray-50 text-gray-800";de&&(oe>0?je="bg-green-50 text-green-800":oe<0&&(je="bg-red-50 text-red-800"));const Pe=de?`${oe>0?"":"-"}${Ce} TEO`:Ce,rt=String(K(k)??"").toLowerCase(),qt=rt?rt.charAt(0).toUpperCase()+rt.slice(1):"";let Hn="bg-gray-100 text-gray-800";return["completed","succeeded","ok"].includes(rt)?Hn="bg-green-50 text-green-800":["pending","processing","queued","waiting"].includes(rt)?Hn="bg-amber-50 text-amber-800":["failed","error","rejected"].includes(rt)&&(Hn="bg-red-50 text-red-800"),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ac,{className:"size-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:ue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:$})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{variant:"secondary",className:je,children:Pe}),qt?s.jsxs(be,{variant:"outline",className:`${Hn} text-xs px-2 py-0.5`,children:[" ",qt," "]}):null]})]},R(k))})})]})}),s.jsx(nt,{value:"milestones",className:"space-y-4",children:s.jsx("div",{className:"space-y-4",children:q.map((k,$)=>s.jsxs(fe,{children:[s.jsx(ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(Aa,{className:"size-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx(Ue,{className:"text-base",children:k.name}),s.jsxs(Ve,{children:[k.current,"/",k.requirement," tokens"]})]})]}),s.jsxs(be,{variant:"outline",children:["+",k.reward," ✨"]})]})}),s.jsxs(me,{children:[s.jsx(Wn,{value:k.current/k.requirement*100,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[k.requirement-k.current," more tokens to unlock"]})]})]},$))})}),s.jsx(nt,{value:"rewards",className:"space-y-4",children:s.jsxs(fe,{children:[s.jsxs(ze,{children:[s.jsx(Ue,{children:"How to Earn Creator Tokens"}),s.jsx(Ve,{children:"Ways to contribute and grow in the community"})]}),s.jsx(me,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{children:"Learning Activities"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Complete a lesson"}),s.jsx(be,{variant:"secondary",children:"+5 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Submit an exercise"}),s.jsx(be,{variant:"secondary",children:"+10 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Finish a course"}),s.jsx(be,{variant:"secondary",children:"+50 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Weekly learning streak"}),s.jsx(be,{variant:"secondary",children:"+15 ✨"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{children:"Community Contributions"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Peer review feedback"}),s.jsx(be,{variant:"secondary",children:"+5 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Helpful forum post"}),s.jsx(be,{variant:"secondary",children:"+3 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Mentor a student"}),s.jsx(be,{variant:"secondary",children:"+20 ✨"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Create a tutorial"}),s.jsx(be,{variant:"secondary",children:"+100 ✨"})]})]})]})]})})]})})]})]})}function B5(){return s.jsx("div",{className:"space-y-6",children:s.jsx(U5,{})})}function Am(t){return t?typeof t=="string"?t:typeof t=="object"&&t!==null&&"message"in t?String(t.message):String(t):""}function vb(t){return!!t&&typeof t=="object"&&typeof t.then=="function"}function H5(){const[t,a]=v.useState(null),[r,o]=v.useState(!1),[c,u]=v.useState(null),f=v.useCallback(async()=>{o(!0),u(null);try{const p=(await yo.listPending())?.results??[];if(!Array.isArray(p)||p.length===0)try{const h=await Cm();if(h&&h.ok&&Array.isArray(h.data)){const x=h.data.map(b=>{const y=b,_={id:Number(y.id)||0,course_title:y.course_title||y.course_title||"",status:y.status==="pending"?"pending":"closed",price_eur:String(y.price_eur??y.course_price??"0"),discount_percent:String(y.discount_percent??y.discount_percentage??"0"),student_pay_eur:String(y.student_pay_eur??y.student_pay??"0"),teacher_eur:String(y.teacher_eur??y.teacher_fee??"0"),platform_eur:String(y.platform_eur??y.platform_fee??"0"),teacher_accepted_teo:y.offered_teacher_teo?String(y.offered_teacher_teo):null,final_teacher_teo:y.final_teacher_teo?String(y.final_teacher_teo):null,created_at:y.created_at?String(y.created_at):void 0},C=y.pending_decision_id??y.pendingDecisionId??y.pending_decision;let j;typeof C=="number"?j=C:typeof C=="string"&&C.trim()!==""?j=Number(C):j=void 0;const S=j??(typeof y.id=="number"||typeof y.id=="string"&&y.id?Number(y.id):0);return{snapshot:_,decision_id:S}});a(x),o(!1);return}}catch(h){console.debug("fallback snapshots load failed",h)}a(p)}catch(m){u(Am(m)||"Errore")}finally{o(!1)}},[]);return v.useEffect(()=>{f()},[f]),{items:t??[],loading:r,error:c,refetch:f}}function $5(t){const[a,r]=v.useState(null),[o,c]=v.useState(null),u=v.useCallback(async m=>{r(m),c(null);try{const p=await yo.acceptDecision(m),h=t?.onAfterChange?.(p);vb(h)&&await h;return}catch(p){throw c(Am(p)||"Errore"),p}finally{r(null)}},[t]),f=v.useCallback(async m=>{r(m),c(null);try{const p=await yo.declineDecision(m),h=t?.onAfterChange?.(p);vb(h)&&await h;return}catch(p){throw c(Am(p)||"Errore"),p}finally{r(null)}},[t]);return{accept:u,decline:f,busyId:a,error:o}}function F5({snap:t,decisionId:a,onAccept:r,onDecline:o,disabled:c}){return s.jsxs("div",{className:"rounded-lg shadow-card p-4 bg-card border border-border",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:t.course_title??"Course"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Sconto ",t.discount_percent,"% • Prezzo €",t.price_eur]})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-800",children:t.status})]}),s.jsxs("div",{className:"mb-3 text-sm text-muted-foreground",children:[t.teacher_accepted_teo&&s.jsxs("div",{children:["TEO offerti: ",s.jsxs("span",{className:"font-mono",children:[t.teacher_accepted_teo," TEO"]})]}),t.final_teacher_teo&&s.jsxs("div",{children:["TEO finale: ",s.jsxs("span",{className:"font-mono",children:[t.final_teacher_teo," TEO"]})]}),t.created_at&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Creato: ",new Date(t.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"rounded-lg bg-slate-50 dark:bg-slate-800 p-2",children:[s.jsx("div",{className:"text-slate-500",children:"Studente paga"}),s.jsxs("div",{className:"font-medium",children:["€",t.student_pay_eur]})]}),s.jsxs("div",{className:"rounded-lg bg-slate-50 dark:bg-slate-800 p-2",children:[s.jsx("div",{className:"text-slate-500",children:"Teacher"}),s.jsxs("div",{className:"font-medium",children:["€",t.teacher_eur]})]}),s.jsxs("div",{className:"rounded-lg bg-slate-50 dark:bg-slate-800 p-2",children:[s.jsx("div",{className:"text-slate-500",children:"Piattaforma"}),s.jsxs("div",{className:"font-medium",children:["€",t.platform_eur]})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:()=>o(a),className:"px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800 disabled:opacity-50",disabled:c,children:"Decline"}),s.jsx("button",{onClick:()=>r(a),className:"px-3 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-50",disabled:c,children:"Accept"})]})]})}function q5({items:t,onAccept:a,onDecline:r,busyId:o}){return t.length?s.jsx("div",{className:"grid gap-4",children:t.map(c=>s.jsx(F5,{snap:c.snapshot,decisionId:c.decision_id,onAccept:a,onDecline:r,disabled:o===c.decision_id},c.decision_id))}):s.jsx("div",{className:"p-6 text-center text-slate-500",children:"No pending discounts"})}function I5(){const{items:t,loading:a,error:r,refetch:o}=H5(),{accept:c,decline:u,busyId:f,error:m}=$5({onAfterChange:async()=>{await o();try{window.dispatchEvent(new CustomEvent("wallet:updated"))}catch(p){console.debug("wallet dispatch failed",p)}try{window.dispatchEvent(new CustomEvent("notifications:updated"))}catch(p){console.debug("notifications dispatch failed",p)}}});return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Pending Discounts"}),r&&s.jsxs("div",{className:"mb-4 text-sm text-red-600",children:["Error loading: ",String(r)]}),s.jsx(q5,{items:t,onAccept:c,onDecline:u,busyId:f}),m&&s.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Action error: ",String(m)]}),a&&s.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"Loading…"})]})}function V5(){return s.jsxs("div",{className:"p-12",children:[s.jsx("h2",{className:"mb-4 text-lg",children:"Dropdown smoke test page"}),s.jsxs(yh,{children:[s.jsx(bh,{asChild:!0,children:s.jsx(DN,{"data-slot":"dropdown-menu-trigger",variant:"default",size:"default",children:"Open menu"})}),s.jsxs(jh,{className:"w-56",align:"start",children:[s.jsx(Kn,{children:"First action"}),s.jsx(Kn,{children:"Second action"}),s.jsx(Kn,{children:"Third action"})]})]})]})}function G5(){const{id:t}=Jn();return s.jsx(Dr,{to:`/courses/${t}/checkout`,replace:!0})}function Y5(){return s.jsxs(s.Fragment,{children:[s.jsx(VM,{}),s.jsx(yw,{}),s.jsxs(i2,{children:[s.jsx(De,{path:"/login",element:s.jsx($e,{children:s.jsx(ub,{defaultTab:"login"})})}),s.jsx(De,{path:"/register",element:s.jsx($e,{children:s.jsx(ub,{defaultTab:"signup"})})}),s.jsx(De,{path:"/verify-email",element:s.jsx($e,{children:s.jsx(r5,{})})}),s.jsx(De,{path:"/verify-email/sent",element:s.jsx($e,{children:s.jsx(i5,{})})}),s.jsxs(De,{element:s.jsx(IM,{}),children:[s.jsx(De,{index:!0,element:s.jsx(Dr,{to:"/courses",replace:!0})}),s.jsx(De,{path:"/forbidden",element:s.jsx($e,{children:s.jsx(o5,{})})}),s.jsx(De,{path:"/courses",element:s.jsx($e,{children:s.jsx(XD,{})})}),s.jsx(De,{path:"/_smoke/dropdown",element:s.jsx($e,{children:s.jsx(V5,{})})}),s.jsx(De,{path:"/courses/:id",element:s.jsx($e,{children:s.jsx(u3,{})})}),s.jsx(De,{path:"/learn/:id",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(tD,{})})})}),s.jsx(De,{path:"/my/exercises",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(nD,{})})})}),s.jsx(De,{path:"/exercises/:id/submit",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(sD,{})})})}),s.jsx(De,{path:"/lessons/:id",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(aD,{})})})}),s.jsx(De,{path:"/courses/:id/checkout",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(iO,{})})})}),s.jsx(De,{path:"/courses/:id/buy",element:s.jsx(G5,{})}),s.jsx(De,{path:"/payments/return",element:s.jsx($e,{children:s.jsx(fO,{})})}),s.jsx(De,{path:"/notifications",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(t5,{})})})}),s.jsx(De,{path:"/reviews/assigned",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(rD,{})})})}),s.jsx(De,{path:"/reviews/:id/review",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(iD,{})})})}),s.jsx(De,{path:"/reviews/history",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(oD,{})})})}),s.jsx(De,{path:"/dashboard",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(d5,{})})})}),s.jsx(De,{path:"/profile",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(c5,{})})})}),s.jsx(De,{path:"/peer-review",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(lb,{})})})}),s.jsx(De,{path:"/courses/:id/peer-review",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(lb,{})})})}),s.jsx(De,{path:"/admin",element:s.jsx(ec,{allow:"admin",children:s.jsx($e,{children:s.jsx(N5,{})})})}),s.jsx(De,{path:"/teacher",element:s.jsx(ec,{allow:"teacher",children:s.jsx($e,{children:s.jsx(g5,{})})})}),s.jsx(De,{path:"/teacher/staking",element:s.jsx(ec,{allow:"teacher",children:s.jsx($e,{children:s.jsx(x5,{})})})}),s.jsx(De,{path:"/teacher/pending-discounts",element:s.jsx(ec,{allow:"teacher",children:s.jsx($e,{children:s.jsx(I5,{})})})}),s.jsx(De,{path:"studio/courses",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(D5,{})})})}),s.jsx(De,{path:"studio/courses/new",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(xb,{})})})}),s.jsx(De,{path:"studio/courses/:id/edit",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(xb,{})})})}),s.jsx(De,{path:"studio/courses/:id/builder",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(z5,{})})})}),s.jsx(De,{path:"/wallet",element:s.jsx(Et,{children:s.jsx($e,{children:s.jsx(B5,{})})})}),s.jsx(De,{path:"*",element:s.jsx(Dr,{to:"/courses",replace:!0})})]})]})]})}function Tc(){if(typeof window>"u")return!1;const t=window;return!!(t.ethereum&&typeof t.ethereum.request=="function")}async function K5(){if(!Tc())return{ok:!1,error:"no provider"};try{const a=await window.ethereum.request({method:"eth_requestAccounts"});return Array.isArray(a)&&a.length?{ok:!0,address:String(a[0])}:typeof a=="string"?{ok:!0,address:a}:{ok:!1,error:"no accounts returned"}}catch(t){return{ok:!1,error:t}}}async function Q5(t,a){if(!Tc())return{ok:!1,error:"no provider"};try{const r=window,o=await r.ethereum.request({method:"eth_chainId"});if(String(o)===String(t))return{ok:!0,switched:!1};try{return await r.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),{ok:!0,switched:!0}}catch(c){if(c?.code===4902&&a)try{return await r.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:"Polygon Amoy",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:[a],blockExplorerUrls:[]}]}),{ok:!0,switched:!0}}catch(f){return{ok:!1,error:f}}return{ok:!1,error:c}}}catch(r){return{ok:!1,error:r}}}const X5=H.createContext(void 0);function W5({children:t}){const[a]=v.useState(Tc()),[r,o]=v.useState(null),[c,u]=v.useState(null),f=!!r,m=c?String(c).startsWith("0x")?parseInt(String(c),16):Number(c):null,p=+"0x13882",h=m!==null&&m===p;v.useEffect(()=>{if(!a)return;const j=N=>{Array.isArray(N)&&N.length?o(String(N[0])):o(null)},S=N=>u(N?String(N):null),E=window;try{E.ethereum?.request?.({method:"eth_accounts"}).then(N=>j(N)).catch(()=>{}),E.ethereum?.request?.({method:"eth_chainId"}).then(N=>S(N)).catch(()=>{}),E.ethereum?.on?.("accountsChanged",j),E.ethereum?.on?.("chainChanged",S)}catch{}return()=>{try{E.ethereum?.removeListener?.("accountsChanged",j),E.ethereum?.removeListener?.("chainChanged",S)}catch{}}},[a]);const x=H.useCallback(async()=>{if(!a)return{ok:!1,error:"no provider"};const j=await K5();return j.ok&&o(j.address??null),j},[a]);function b(){o(null)}const y=H.useCallback(async()=>{if(!Tc())return null;try{const j=await no(()=>import("./index-B0_30E6p.js"),[]),S=window;return new j.BrowserProvider(S.ethereum).getSigner()}catch{return null}},[]),_=H.useCallback(async()=>{try{const j=await no(()=>import("./index-B0_30E6p.js"),[]),S=(await no(async()=>{const{default:T}=await import("./teocoin_abi-_rNH-qGL.js");return{default:T}},[])).default,E=(await no(async()=>{const{CONTRACT_ADDRESS:T}=await import("./teocoin_abi-_rNH-qGL.js");return{CONTRACT_ADDRESS:T}},[])).CONTRACT_ADDRESS,N=await y();return N?new j.Contract(E,S,N):null}catch{return null}},[y]),C=v.useMemo(()=>({available:a,address:r,chainId:c,connect:x,disconnect:b,ensureChain:Q5,isConnected:f,getSigner:y,getContract:_,isCorrectNetwork:h}),[a,r,c,x,y,_,f,h]);return s.jsx(X5.Provider,{value:C,children:t})}var Z5=function(){return null};const J5=new AO({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function ez({children:t}){return s.jsxs(OO,{client:J5,children:[t,s.jsx(Z5,{initialIsOpen:!1})]})}m_.createRoot(document.getElementById("root")).render(s.jsx(H.StrictMode,{children:s.jsx(T2,{children:s.jsx(ez,{children:s.jsx(nC,{children:s.jsx(W5,{children:s.jsx(Y5,{})})})})})}));
